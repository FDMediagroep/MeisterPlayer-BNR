module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=339)}([function(e,t,n){"use strict";var r=n(2),i=n(22),o=n(12),a=n(13),s=n(19),u=function e(t,n,u){var l,c,f,d,h=t&e.F,p=t&e.G,v=t&e.S,g=t&e.P,y=t&e.B,m=p?r:v?r[n]||(r[n]={}):(r[n]||{}).prototype,b=p?i:i[n]||(i[n]={}),E=b.prototype||(b.prototype={});p&&(u=n);for(l in u)c=!h&&m&&void 0!==m[l],f=(c?m:u)[l],d=y&&c?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,t&e.U),b[l]!=f&&o(b,l,d),g&&E[l]!=f&&(E[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(60)("wks"),i=n(41),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(1),i=n(99),o=n(26),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=n(25),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,n){"use strict";var r=n(7),i=n(37);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(2),i=n(12),o=n(11),a=n(41)("src"),s=Function.toString,u=(""+s).split("toString");n(22).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(23),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";var r=n(48),i=n(37),o=n(17),a=n(26),s=n(11),u=n(99),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(11),i=n(9),o=n(79)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(47),i=n(23);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(19),i=n(47),o=n(9),a=n(8),s=n(64);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var v,g,y=o(t),m=i(y),b=r(s,p,3),E=a(m.length),_=0,w=n?h(t,E):u?h(t,0):void 0;E>_;_++)if((d||_ in m)&&(v=m[_],g=b(v,_,y),e))if(n)w[_]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:w.push(v)}else if(c)return!1;return f?-1:l||c?c:w}}},function(e,t,n){"use strict";var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(e,t,n){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(0),i=n(22),o=n(3);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(120),o=n(0),a=n(60)("metadata"),s=a.store||(a.store=new(n(123))),u=function(e,t,n){var r=s.get(e);if(!r){if(!n)return;s.set(e,r=new i)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new i)}return o},l=function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},f=function(e,t,n,r){u(n,r,!0).set(e,t)},d=function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},h=function(e){return void 0===e||"symbol"==(void 0===e?"undefined":r(e))?e:String(e)},p=function(e){o(o.S,"Reflect",e)};e.exports={store:s,map:u,has:l,get:c,set:f,keys:d,key:h,exp:p}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(n(6)){var i=n(33),o=n(2),a=n(3),s=n(0),u=n(62),l=n(85),c=n(19),f=n(31),d=n(37),h=n(12),p=n(38),v=n(25),g=n(8),y=n(118),m=n(40),b=n(26),E=n(11),_=n(46),w=n(4),k=n(9),T=n(71),S=n(34),O=n(16),L=n(35).f,P=n(88),A=n(41),R=n(5),C=n(21),M=n(49),I=n(61),x=n(89),D=n(42),F=n(55),N=n(39),j=n(63),B=n(91),U=n(7),G=n(15),H=U.f,W=G.f,V=o.RangeError,q=o.TypeError,K=o.Uint8Array,z=Array.prototype,X=l.ArrayBuffer,Y=l.DataView,Q=C(0),Z=C(2),J=C(3),$=C(4),ee=C(5),te=C(6),ne=M(!0),re=M(!1),ie=x.values,oe=x.keys,ae=x.entries,se=z.lastIndexOf,ue=z.reduce,le=z.reduceRight,ce=z.join,fe=z.sort,de=z.slice,he=z.toString,pe=z.toLocaleString,ve=R("iterator"),ge=R("toStringTag"),ye=A("typed_constructor"),me=A("def_constructor"),be=u.CONSTR,Ee=u.TYPED,_e=u.VIEW,we=C(1,function(e,t){return Le(I(e,e[me]),t)}),ke=a(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Te=!!K&&!!K.prototype.set&&a(function(){new K(1).set({})}),Se=function(e,t){var n=v(e);if(n<0||n%t)throw V("Wrong offset!");return n},Oe=function(e){if(w(e)&&Ee in e)return e;throw q(e+" is not a typed array!")},Le=function(e,t){if(!(w(e)&&ye in e))throw q("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Ae(I(e,e[me]),t)},Ae=function(e,t){for(var n=0,r=t.length,i=Le(e,r);r>n;)i[n]=t[n++];return i},Re=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Ce=function(e){var t,n,r,i,o,a,s=k(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=P(s);if(void 0!=d&&!T(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=g(s.length),i=Le(this,n);n>t;t++)i[t]=f?l(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Le(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!K&&a(function(){pe.call(new K(1))}),xe=function(){return pe.apply(Ie?de.call(Oe(this)):Oe(this),arguments)},De={copyWithin:function(e,t){return B.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Oe(this),arguments)},filter:function(e){return Pe(this,Z(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ee(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Oe(this),arguments)},lastIndexOf:function(e){return se.apply(Oe(this),arguments)},map:function(e){return we(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Oe(this),arguments)},reduceRight:function(e){return le.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return J(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,i=m(e,r);return new(I(n,n[me]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:m(t,r))-i))}},Fe=function(e,t){return Pe(this,de.call(Oe(this),e,t))},Ne=function(e){Oe(this);var t=Se(arguments[1],1),n=this.length,r=k(e),i=g(r.length),o=0;if(i+t>n)throw V("Wrong length!");for(;o<i;)this[t+o]=r[o++]},je={entries:function(){return ae.call(Oe(this))},keys:function(){return oe.call(Oe(this))},values:function(){return ie.call(Oe(this))}},Be=function(e,t){return w(e)&&e[Ee]&&"symbol"!=(void 0===t?"undefined":r(t))&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Be(e,t=b(t,!0))?d(2,e[t]):W(e,t)},Ge=function(e,t,n){return!(Be(e,t=b(t,!0))&&w(n)&&E(n,"value"))||E(n,"get")||E(n,"set")||n.configurable||E(n,"writable")&&!n.writable||E(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};be||(G.f=Ue,U.f=Ge),s(s.S+s.F*!be,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Ge}),a(function(){he.call({})})&&(he=pe=function(){return ce.call(this)});var He=p({},De);p(He,je),h(He,ve,je.values),p(He,{slice:Fe,set:Ne,constructor:function(){},toString:he,toLocaleString:xe}),Re(He,"buffer","b"),Re(He,"byteOffset","o"),Re(He,"byteLength","l"),Re(He,"length","e"),H(He,ge,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,r){r=!!r;var l=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,p=o[l],v=p||{},m=p&&O(p),b=!p||!u.ABV,E={},k=p&&p.prototype,T=function(e,n){var r=e._d;return r.v[c](n*t+r.o,ke)},P=function(e,n,i){var o=e._d;r&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[d](n*t+o.o,i,ke)},A=function(e,t){H(e,t,{get:function(){return T(this,t)},set:function(e){return P(this,t,e)},enumerable:!0})};b?(p=n(function(e,n,r,i){f(e,p,l,"_d");var o,a,s,u,c=0,d=0;if(w(n)){if(!(n instanceof X||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return Ee in n?Ae(p,n):Ce.call(p,n);o=n,d=Se(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw V("Wrong length!");if((a=v-d)<0)throw V("Wrong length!")}else if((a=g(i)*t)+d>v)throw V("Wrong length!");s=a/t}else s=y(n),a=s*t,o=new X(a);for(h(e,"_d",{b:o,o:d,l:a,e:s,v:new Y(o)});c<s;)A(e,c++)}),k=p.prototype=S(He),h(k,"constructor",p)):a(function(){p(1)})&&a(function(){new p(-1)})&&F(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,r,i){f(e,p,l);var o;return w(n)?n instanceof X||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,Se(r,t),i):void 0!==r?new v(n,Se(r,t)):new v(n):Ee in n?Ae(p,n):Ce.call(p,n):new v(y(n))}),Q(m!==Function.prototype?L(v).concat(L(m)):L(v),function(e){e in p||h(p,e,v[e])}),p.prototype=k,i||(k.constructor=p));var R=k[ve],C=!!R&&("values"==R.name||void 0==R.name),M=je.values;h(p,ye,!0),h(k,Ee,l),h(k,_e,!0),h(k,me,p),(r?new p(1)[ge]==l:ge in k)||H(k,ge,{get:function(){return l}}),E[l]=p,s(s.G+s.W+s.F*(p!=v),E),s(s.S,l,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*a(function(){v.of.call(p,1)}),l,{from:Ce,of:Me}),"BYTES_PER_ELEMENT"in k||h(k,"BYTES_PER_ELEMENT",t),s(s.P,l,De),N(l),s(s.P+s.F*Te,l,{set:Ne}),s(s.P+s.F*!C,l,je),i||k.toString==he||(k.toString=he),s(s.P+s.F*a(function(){new p(1).slice()}),l,{slice:Fe}),s(s.P+s.F*(a(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!a(function(){k.toLocaleString.call([1,2])})),l,{toLocaleString:xe}),D[l]=C?R:M,i||C||h(k,ve,M)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(12)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(41)("meta"),o=n(4),a=n(11),s=n(7).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(3)(function(){return l(Object.preventExtensions({}))}),f=function(e){s(e,i,{value:{i:"O"+ ++u,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==(void 0===e?"undefined":r(e))?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!l(e))return"F";if(!t)return"E";f(e)}return e[i].i},h=function(e,t){if(!a(e,i)){if(!l(e))return!0;if(!t)return!1;f(e)}return e[i].w},p=function(e){return c&&v.NEED&&l(e)&&!a(e,i)&&f(e),e},v=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(19),i=n(102),o=n(71),a=n(1),s=n(8),u=n(88),l={},c={},f=e.exports=function(e,t,n,f,d){var h,p,v,g,y=d?function(){return e}:u(e),m=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>b;b++)if((g=t?m(a(p=e[b])[0],p[1]):m(e[b]))===l||g===c)return g}else for(v=y.call(e);!(p=v.next()).done;)if((g=i(v,m,p.value,t))===l||g===c)return g};f.BREAK=l,f.RETURN=c},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r=n(1),i=n(108),o=n(67),a=n(79)("IE_PROTO"),s=function(){},u=function(){var e,t=n(66)("iframe"),r=o.length;for(t.style.display="none",n(69).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(110),i=n(67).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(110),i=n(67);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(13);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(2),i=n(7),o=n(6),a=n(5)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(25),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(7).f,i=n(11),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(0),i=n(23),o=n(3),a=n(83),s="["+a+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(18),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var r=n(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(17),i=n(8),o=n(40);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(13),a=n(38),s=n(30),u=n(32),l=n(31),c=n(4),f=n(3),d=n(55),h=n(43),p=n(70);e.exports=function(e,t,n,v,g,y){var m=r[e],b=m,E=g?"set":"add",_=b&&b.prototype,w={},k=function(e){var t=_[e];o(_,e,"delete"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||_.forEach&&!f(function(){(new b).entries().next()}))){var T=new b,S=T[E](y?{}:-0,1)!=T,O=f(function(){T.has(1)}),L=d(function(e){new b(e)}),P=!y&&f(function(){for(var e=new b,t=5;t--;)e[E](t,t);return!e.has(-0)});L||(b=t(function(t,n){l(t,b,e);var r=p(new m,t,b);return void 0!=n&&u(n,g,r[E],r),r}),b.prototype=_,_.constructor=b),(O||P)&&(k("delete"),k("has"),g&&k("get")),(P||S)&&k(E),y&&_.clear&&delete _.clear}else b=v.getConstructor(t,e,g,E),a(b.prototype,n),s.NEED=!0;return h(b,e),w[e]=b,i(i.G+i.W+i.F*(b!=m),w),y||v.setStrong(b,e,g),b}},function(e,t,n){"use strict";var r=n(12),i=n(13),o=n(3),a=n(23),s=n(5);e.exports=function(e,t,n){var u=s(e),l=n(a,u,""[e]),c=l[0],f=l[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(18);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(4),i=n(18),o=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";e.exports=n(33)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(19),a=n(32);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(2),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";var r=n(1),i=n(10),o=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";for(var r,i=n(2),o=n(12),a=n(41),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";var r=n(9),i=n(40),o=n(8);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(136);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(7),i=n(37);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(4),i=n(78).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(42),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(34),i=n(37),o=n(43),a={};n(12)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(33),i=n(0),o=n(13),a=n(12),s=n(11),u=n(42),l=n(72),c=n(43),f=n(16),d=n(5)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,g,y,m){l(n,t,v);var b,E,_,w=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",T="values"==g,S=!1,O=e.prototype,L=O[d]||O["@@iterator"]||g&&O[g],P=!h&&L||w(g),A=g?T?w("entries"):P:void 0,R="Array"==t?O.entries||L:L;if(R&&(_=f(R.call(new e)))!==Object.prototype&&_.next&&(c(_,k,!0),r||s(_,d)||a(_,d,p)),T&&L&&"values"!==L.name&&(S=!0,P=function(){return L.call(this)}),r&&!m||!h&&!S&&O[d]||a(O,d,P),u[t]=P,u[k]=p,g)if(b={values:T?P:w("values"),keys:y?P:w("keys"),entries:A},m)for(E in b)E in O||o(O,E,b[E]);else i(i.P+i.F*(h||S),t,b);return b}},function(e,t,n){"use strict";var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,n){"use strict";e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var r=n(2),i=n(84).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(18)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(10);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(4),i=n(1),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(19)(Function.call,n(15).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var r=n(60)("keys"),i=n(41);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){"use strict";var r=n(25),i=n(23);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(54),i=n(23);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){"use strict";var r=n(25),i=n(23);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){"use strict";e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r,i,o,a=n(19),s=n(100),u=n(69),l=n(66),c=n(2),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},h=function(e){delete y[e]},"process"==n(18)(f)?r=function(e){f.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?j(2,-24)-j(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=N(e),e!=e||e===D?(i=e!=e?1:0,r=u):(r=B(U(e)/G),e*(o=j(2,-r))<1&&(r--,o*=2),e+=r+l>=1?c/o:c*j(2,1-l),e*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*j(2,t),r+=l):(i=e*j(2,l-1)*j(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-D:D;r+=j(2,t),c-=a}return(l?-1:1)*r*j(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return r(e,52,8)}function c(e){return r(e,23,4)}function f(e,t,n){O(e[A],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=+n,o=T(i);if(o+t>e[W])throw x(R);var a=e[H]._b,s=o+e[V],u=a.slice(s,s+t);return r?u:u.reverse()}function h(e,t,n,r,i,o){var a=+n,s=T(a);if(s+t>e[W])throw x(R);for(var u=e[H]._b,l=s+e[V],c=r(+i),f=0;f<t;f++)u[l+f]=c[o?f:t-f-1]}var p=n(2),v=n(6),g=n(33),y=n(62),m=n(12),b=n(38),E=n(3),_=n(31),w=n(25),k=n(8),T=n(118),S=n(35).f,O=n(7).f,L=n(63),P=n(43),A="prototype",R="Wrong index!",C=p.ArrayBuffer,M=p.DataView,I=p.Math,x=p.RangeError,D=p.Infinity,F=C,N=I.abs,j=I.pow,B=I.floor,U=I.log,G=I.LN2,H=v?"_b":"buffer",W=v?"_l":"byteLength",V=v?"_o":"byteOffset";if(y.ABV){if(!E(function(){C(1)})||!E(function(){new C(-1)})||E(function(){return new C,new C(1.5),new C(NaN),"ArrayBuffer"!=C.name})){C=function(e){return _(this,C),new F(T(e))};for(var q,K=C[A]=F[A],z=S(F),X=0;z.length>X;)(q=z[X++])in C||m(C,q,F[q]);g||(K.constructor=C)}var Y=new M(new C(2)),Q=M[A].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||b(M[A],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else C=function(e){_(this,C,"ArrayBuffer");var t=T(e);this._b=L.call(new Array(t),0),this[W]=t},M=function(e,t,n){_(this,M,"DataView"),_(e,C,"DataView");var r=e[W],i=w(t);if(i<0||i>r)throw x("Wrong offset!");if(n=void 0===n?r-i:k(n),i+n>r)throw x("Wrong length!");this[H]=e,this[V]=i,this[W]=n},v&&(f(C,"byteLength","_l"),f(M,"buffer","_b"),f(M,"byteLength","_l"),f(M,"byteOffset","_o")),b(M[A],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(d(this,4,e,arguments[1]))},getUint32:function(e){return o(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,a,t)},setUint8:function(e,t){h(this,1,e,a,t)},setInt16:function(e,t){h(this,2,e,s,t,arguments[2])},setUint16:function(e,t){h(this,2,e,s,t,arguments[2])},setInt32:function(e,t){h(this,4,e,u,t,arguments[2])},setUint32:function(e,t){h(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,l,t,arguments[2])}});P(C,"ArrayBuffer"),P(M,"DataView"),m(M[A],y.VIEW,!0),t.ArrayBuffer=C,t.DataView=M},function(e,t,n){"use strict";var r=n(2),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var r=n(2),i=n(22),o=n(33),a=n(119),s=n(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";var r=n(46),i=n(5)("iterator"),o=n(42);e.exports=n(22).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(29),i=n(103),o=n(42),a=n(17);e.exports=n(73)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(9),i=n(40),o=n(8);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){"use strict";var r=n(10),i=n(9),o=n(47),a=n(8);e.exports=function(e,t,n,s,u){r(t);var l=i(e),c=o(l),f=a(l.length),d=u?f-1:0,h=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var r=n(10),i=n(4),o=n(100),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function r(){var i=n.concat(a.call(arguments));return this instanceof r?u(t,i.length,i):o(t,i,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){"use strict";var r=n(7).f,i=n(34),o=n(38),a=n(19),s=n(31),u=n(32),l=n(73),c=n(103),f=n(39),d=n(6),h=n(30).fastKey,p=n(45),v=d?"_s":"size",g=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),r=g(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return p(this,t)[v]}}),c},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(46),i=n(92);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(38),i=n(30).getWeak,o=n(1),a=n(4),s=n(31),u=n(32),l=n(21),c=n(11),f=n(45),d=l(5),h=l(6),p=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){"use strict";function r(e,t,n,l,c,f,d,h){for(var p,v,g=c,y=0,m=!!d&&s(d,h,3);y<l;){if(y in n){if(p=m?m(n[y],y,t):n[y],v=!1,o(p)&&(v=p[u],v=void 0!==v?!!v:i(p)),v&&f>0)g=r(e,t,p,a(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}y++}return g}var i=n(53),o=n(4),a=n(8),s=n(19),u=n(5)("isConcatSpreadable");e.exports=r},function(e,t,n){"use strict";e.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(4),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(75),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),l=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*l(i/u/a)*u*a:(t=(1+a/o)*i,n=t-(t-i),n>s||n!=n?c*(1/0):c*n)}},function(e,t,n){"use strict";e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";var r=n(36),i=n(57),o=n(48),a=n(9),s=n(47),u=Object.assign;e.exports=!u||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,h=s(arguments[l++]),p=c?r(h).concat(c(h)):r(h),v=p.length,g=0;v>g;)f.call(h,d=p[g++])&&(n[d]=h[d]);return n}:u},function(e,t,n){"use strict";var r=n(7),i=n(1),o=n(36);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(17),o=n(35).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?u(e):o(i(e))}},function(e,t,n){"use strict";var r=n(11),i=n(17),o=n(49)(!1),a=n(79)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){"use strict";var r=n(36),i=n(17),o=n(48).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){"use strict";var r=n(35),i=n(57),o=n(1),a=n(2).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(2).parseFloat,i=n(44).trim;e.exports=1/r(n(83)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(2).parseInt,i=n(44).trim,o=n(83),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(1),i=n(4),o=n(77);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(8),i=n(82),o=n(23);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,l=void 0===n?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){"use strict";var r=n(25),i=n(8);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";t.f=n(5)},function(e,t,n){"use strict";var r=n(95),i=n(45);e.exports=n(50)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(e,t,n){"use strict";var r=n(95),i=n(45);e.exports=n(50)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(21)(0),o=n(13),a=n(30),s=n(107),u=n(97),l=n(4),c=n(3),f=n(45),d=a.getWeak,h=Object.isExtensible,p=u.ufstore,v={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},m=e.exports=n(50)("WeakMap",g,y,u,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(r=u.getConstructor(g,"WeakMap"),s(r.prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];o(t,e,function(t,i){if(l(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(337),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=38)}([function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){i(this,e),this.config=t,this.meister=n,this.name=this.config.name,this.eventStore=[],this.meister.on("requestDestroy",this.destroy.bind(this),this.name)}return o(e,[{key:"on",value:function(e,t){var n;(n=this.eventStore).push.apply(n,r(this.meister.on(e,t,this.name)))}},{key:"one",value:function(e,t,n){this.eventStore.push(this.meister.one(e,t,n,this.name))}},{key:"unload",value:function(){this.meister.remove(this.eventStore),this.eventStore=[]}},{key:"destroy",value:function(){this.unload()}}]),e}();t.default=a},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={production:{global:{autoplay:!1,controls:!0,startMuted:!1,debug:!1,audioOnly:!1},Dash:{dvrThreshold:300,dvrEnabled:!0},Hls:{dvrEnabled:!0}},development:{global:{autoplay:!1,controls:!0,startMuted:!1,debug:!1,audioOnly:!1},Dash:{dvrThreshold:300,dvrEnabled:!0},Hls:{dvrEnabled:!0}}},a=function(){function e(){r(this,e)}return i(e,null,[{key:"set",value:function(e,t){o.development[e]=t}},{key:"get",value:function(e){return o.development[e]}},{key:"getGlobals",value:function(e){return Object.keys(e).forEach(function(t){o.development.global[t]=e[t]}),o.development.global}},{key:"overwrite",value:function(e){Object.keys(e).forEach(function(t){if(!o.development[t])return void(o.development[t]=e[t]);Object.keys(e[t]).forEach(function(n){o.development[t][n]=e[t][n]})})}},{key:"getAll",value:function(){return o.development}}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),s=n(17),u=r(s),l=n(19),c=r(l),f=n(18),d=r(f),h=n(20),p=r(h),v=n(21),g=r(v),y=n(22),m=r(y),b=[];b.push.apply(b,i(a.default)),b.push.apply(b,i(u.default)),b.push.apply(b,i(c.default)),b.push.apply(b,i(d.default)),b.push.apply(b,i(p.default)),b.push.apply(b,i(g.default)),b.push.apply(b,i(m.default)),t.default=b},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="";null!==n&&(r="; expires="+n.toGMTString()),document.cookie=e+"="+t+r+"; path=/"}},{key:"get",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substr(t.length,i.length)}return null}},{key:"delete",value:function(e){this.set(e,"",-1)}}]),e}();t.default=o},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"isItemSupported",value:function(){return new Promise(function(e){return e({supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE})})}},{key:"process",value:function(e){return new Promise(function(t){console.warn("Process not implemented. Player may not play correctly."),t(e)})}},{key:"load",value:function(e){var t=this;this.meister.config.debug&&console.log("Loading item with type '"+e.type+"' and src '"+e.src+"'"),Number.isFinite(e.startPosition)&&(this.startPosition=e.startPosition),this.on("playerLoadedMetadata",function(){return t.playerLoadedMetadata()}),this.on("_playerTimeUpdate",this._onPlayerTimeUpdate.bind(this)),this.on("_playerSeek",this._onPlayerSeek.bind(this)),this.on("requestSeek",this.onRequestSeek.bind(this)),this.blockSeekForward=!!e.blockSeekForward}},{key:"playerLoadedMetadata",value:function(){if(this.startPosition>0&&this.player.duration>this.startPosition){if(this.startPositionCompleted)return;this.startPositionCompleted=!0,this.meister.trigger("requestSeek",{targetTime:this.startPosition,forcedStart:!0})}}},{key:"_onPlayerTimeUpdate",value:function(){console.error(this.name+" does not implement '_onPlayerTimeUpdate', event ignored.")}},{key:"_onPlayerSeek",value:function(){console.error(this.name+" does not implement '_onPlayerSeek', event ignored.")}},{key:"onRequestSeek",value:function(){console.error(this.name+" does not implement 'onRequestSeek', event ignored.")}},{key:"unload",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.startPositionCompleted=!1,this.startPosition=null,this.blockSeekForward=!1}},{key:"destroy",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"currentItem",get:function(){return console.error(this.name+" does not support this method."),null}},{key:"duration",get:function(){return this.meister.debugEnabled&&console.error(this.name+" does not provide a duration getter."),NaN}},{key:"currentTime",get:function(){return this.meister.debugEnabled&&console.error(this.name+" does not provide a currentTime getter."),NaN},set:function(e){this.meister.debugEnabled&&console.error(this.name+" does not provide a currentTime setter.")}}]),t}(c.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function r(){}e.exports=r},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"register",value:function(e){window.onfocus=function(){e.eventHandler.trigger("windowFocusChange",{onForeground:!0})},window.onblur=function(){e.eventHandler.trigger("windowFocusChange",{onForeground:!1})},document.addEventListener("visibilitychange",function(){e.eventHandler.trigger("windowVisibilityChange",{visibility:document.visibilityState})}),document.addEventListener("webkitfullscreenchange",function(){e.eventHandler.trigger("playerFullscreen")}),document.addEventListener("mozfullscreenchange",function(){e.eventHandler.trigger("playerFullscreen")}),document.addEventListener("fullscreenchange",function(){e.eventHandler.trigger("playerFullscreen")}),document.addEventListener("MSFullscreenchange",function(){e.eventHandler.trigger("playerFullscreen")})}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){if(r(this,e),this.meister=t,this.fullscreenElement=this.meister.defaultWrapper,this.meister.config.customFullscreenElement)if("string"==typeof this.meister.config.customFullscreenElement){var n=document.querySelector(this.meister.config.customFullscreenElement);n?this.fullscreenElement=n:console.warn("Unable to find fullscreen element with queryselector "+this.meister.config.customFullscreenElement+", using default element instead.")}else this.meister.config.customFullscreenElement instanceof Node?this.fullscreenElement=this.meister.config.customFullscreenElement:console.warn("Custom fullscreen element is not of type string or Node, using default element instead.");this.meister.config.fullscreenOnDoubleClick&&(this.meister.browser.isiOS||this.meister.browser.isAndroid?(this.tapped=null,this.meister.controlsWrapper.addEventListener("touchstart",this.doubleTapCheck.bind(this))):this.meister.controlsWrapper.addEventListener("dblclick",this.toggleFullscreen.bind(this)))}return i(e,[{key:"requestFullscreen",value:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(this.meister.browser.isiOS?this.meister.playerPlugin.mediaElement.webkitEnterFullscreen():this.fullscreenElement.requestFullscreen?this.fullscreenElement.requestFullscreen():this.fullscreenElement.mozRequestFullScreen?this.fullscreenElement.mozRequestFullScreen():this.fullscreenElement.webkitRequestFullscreen?this.fullscreenElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):this.fullscreenElement.msRequestFullscreen&&this.fullscreenElement.msRequestFullscreen())}},{key:"cancelFullscreen",value:function(){document.fullscreenElement?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.meister.browser.isiOS&&this.meister.playerPlugin.mediaElement.webkitExitFullScreen()}},{key:"doubleTapCheck",value:function(){var e=this;this.tapped?(clearTimeout(this.tapped),this.tapped=null,this.toggleFullscreen()):this.tapped=setTimeout(function(){e.tapped=null},300)}},{key:"toggleFullscreen",value:function(){this.meister.isFullscreen?this.cancelFullscreen():this.requestFullscreen()}},{key:"isFullscreen",get:function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}}]),e}();t.default=o},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(24),l=i(u),c=n(25),f=i(c),d=n(26),h=i(d),p="en",v={},g=function(){function e(){o(this,e)}return s(e,null,[{key:"init",value:function(t){t?e.setFromFormattedObject(h.default):(console.warn("In future Meister versions this localization method is deprecated. Set i18nEnabled to true in the Meister global object."),Object.keys(l.default).forEach(function(t){e.set(t,l.default[t],"en")}),Object.keys(f.default).forEach(function(t){e.set(t,f.default[t],"nl")}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;v[n]||(v[n]={});var r=e;"object"===(void 0===t?"undefined":a(t))?r=t[n]:"string"==typeof t&&(r=t),v[n][e]=r}},{key:"setFromFormattedObject",value:function(t){Object.keys(t).forEach(function(n){Object.keys(t[n]).forEach(function(r){e.set(n,t[n][r],r)})})}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return v[t][e]}},{key:"all",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return v[e]}},{key:"setLanguage",value:function(e){p=e}}]),e}();t.default=g},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var n=this;r(this,e),this.meister=t,this.currentPlugin=null,this.adBreakPlaying=!1,this.meister.on("adBreakStarted",function(){n.adBreakPlaying=!0}),this.meister.on(["adBreakEnded","itemUnloaded"],function(){n.adBreakPlaying=!1})}return i(e,[{key:"loadNewItem",value:function(e){var t=this;if(this.meister.config.disableLoadDuringAd&&this.adBreakPlaying)return this.meister.trigger("itemLoadPrevented",{error:"adPlaying"}),void console.warn("Unable to switch content while ad is playing");this.plugin&&(this.plugin.unload(),this.plugin=null),this.meister.trigger("itemUnloaded"),this.getPluginFor(e).then(function(n){t.plugin=n,t.plugin.process(e).then(function(n){var r=t.plugin.load(n);r?r.then(function(){t.meister.trigger("itemLoaded",{item:n})}).catch(function(n){console.error("@"+t.plugin.name+": Could not load item with type: '"+e.type+"' and src: '"+e.src+"'.",n)}):t.meister.trigger("itemLoaded",{item:n})}).catch(function(n){t.meister.error("Could not find plugin to play type: '"+e.type+"'.",n.errorCode,{title:"Unable to play content."}),console.error("@"+t.plugin.name+": Could not process item with type: '"+e.type+"' and src: '"+e.src+"'.",n)})}).catch(function(n){console.error("@"+t.plugin.name+": Could not getPluginFor item with type: '"+e.type+"' and src: '"+e.src+" '.",n)})}},{key:"switchItem",value:function(e){this.loadNewItem(e)}},{key:"getPluginFor",value:function(e){return this.meister.pluginLoader.getPluginByItem(e).then(function(e){if(e.errorCode)throw e;return e})}},{key:"currentItem",get:function(){return this.plugin&&this.plugin.currentItem?this.plugin.currentItem:(console.warn(this.plugin.name+" does not provide metadata."),{})}},{key:"duration",get:function(){return this.plugin?this.plugin.duration:NaN}},{key:"currentTime",get:function(){return this.plugin?this.plugin.currentTime:NaN},set:function(e){this.plugin&&(this.plugin.currentTime=e)}}]),e}();t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(37),s=r(a),u=n(14),l=r(u),c=n(1),f=r(c),d=n(23),h=r(d),p=n(2),v=r(p),g=n(7),y=r(g),m=n(36),b=r(m),E=n(35),_=r(E),w=n(33),k=r(w),T=n(34),S=r(T),O=n(13),L=r(O),P=n(10),A=r(P),R=n(8),C=r(R),M=n(3),I=r(M),x=n(15),D=r(x),F=n(9),N=r(F),j=n(27),B=r(j),U=n(4),G=r(U),H=n(29),W=r(H),V=n(30),q=r(V),K=n(31),z=r(K),X=n(32),Y=r(X),Q=n(28),Z=r(Q),J=n(0),$=r(J);window!==window.top&&(console.warn=console.log.bind(console),console.error=console.log.bind(console));var ee=[],te=function(){function e(t,n){var r=this;i(this,e);var o={global:{}},a=Object.assign({},o,n);if((0,m.isDOMNode)(t)?this.wrapper=t:this.wrapper=document.querySelector(t),!this.wrapper)throw Error("Wrapper with Queryseletor: "+t+" not found.");if(this.eventHandler=new h.default(v.default),this.instanceId=Math.random(),this.utils=b.default,this.elementUtils=_.default,this.browser=k.default,this.Localization=N.default,S.default.init(),this.config=f.default.getGlobals(a.global),this.config.language&&this.Localization.setLanguage(this.config.language),this.Localization.init(this.config.i18nEnabled),this.config.autoplay)if(this.browser.isMobile||this.browser.isNonAutoPlay&&!this.config.startMuted){var s=this.config.autoplay;this.config.autoplay=!1,this.one("playerPlay",function(){r.config.autoplay=s,r.on("itemLoaded",function(){return r.trigger("requestPlay")},"meister")},"meister")}else this.on("itemLoaded",function(){return r.trigger("requestPlay")},"meister");this.config.fullscreenOnDoubleClick&&(this.config.iosPlaysInline=!0),this.container=document.createElement("div"),this.defaultWrapper=document.createElement("div"),this.playerWrapper=document.createElement("div"),this.controlsWrapper=document.createElement("div"),this.adWrapper=document.createElement("div"),this.container.classList.add("pf-player-container"),this.defaultWrapper.classList.add("pf-default-wrapper"),this.playerWrapper.classList.add("pf-player"),this.controlsWrapper.classList.add("pf-controls"),this.config.controls||this.controlsWrapper.classList.add("pf-ui-element-hidden"),this.elementUtils.classListAdd(this.adWrapper,"pf-ads","pf-ui-element-hidden"),this.wrapper.appendChild(this.container),this.container.appendChild(this.defaultWrapper),this.defaultWrapper.appendChild(this.playerWrapper),this.defaultWrapper.appendChild(this.controlsWrapper),this.defaultWrapper.appendChild(this.adWrapper),f.default.overwrite(a),this.pluginLoader=new l.default(this),this.pluginLoader.config(a,this),this.pluginLoader.drawUiPlugins(),this.pluginLoader.loadAnalyticsPlugins(),y.default.register(this),this.playerPlugin=null,this.playlist=null,this.mediaController=new A.default(this),this.fullscreenController=new C.default(this),this.on("requestDrmKeySystemSupport",function(){r.trigger("drmKeySystemSupport",[])}),ee.push({id:this.instanceId,instance:this})}return o(e,[{key:"load",value:function(){this.playlist.loadCurrentIndex()}},{key:"destroy",value:function(){var e=this;this.wrapper.innerHTML="",this.trigger("requestDestroy"),setTimeout(function(){e.pluginLoader=null,e.playerPlugin=null,e.playlist=null,e.mediaController=null,e.fullscreenController=null,e.eventHandler.destroy(),ee=ee.filter(function(t){return t.id===e.id})},0)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.trigger("requestPlay",{triggerByUser:e})}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.trigger("requestPause",{triggerByUser:e})}},{key:"requestFullscreen",value:function(){this.fullscreenController&&this.fullscreenController.requestFullscreen()}},{key:"cancelFullscreen",value:function(){this.fullscreenController&&this.fullscreenController.cancelFullscreen()}},{key:"getPlayerByType",value:function(e,t){var n=this.pluginLoader.getPlayerPluginByType(e,t);return this.playerPlugin?this.playerPlugin&&this.playerPlugin.name!==n.name&&(this.playerPlugin.unload(),this.playerWrapper.innerHTML="",this.playerPlugin=n,this.playerPlugin.load(t)):n?(this.playerPlugin=n,this.playerPlugin.load(t)):console.warn("Could not find player with type '"+e+"'"),this.playerPlugin}},{key:"setItem",value:function(e){if(!e.type)throw new TypeError("Item must have a type attribute.");if("aditem"!==e.type&&"multi-source"!==e.type&&!e.src)throw new TypeError("Non-aditem items must have a src attribute.");this.playlist=new L.default([e],this)}},{key:"setPlaylist",value:function(e){for(var t=0;t<e.length;t+=1){if(!e[t].type)throw new TypeError("Item "+t+": Item must have a type attribute.");if("aditem"!==e[t].type&&"multi-source"!==e[t].type&&!e[t].src)throw new TypeError("Item "+t+": Non-aditem items must have a src attribute.")}this.playlist=new L.default(e,this)}},{key:"switchItem",value:function(e){this.mediaController.switchItem(e)}},{key:"on",value:function(e,t,n){return this.eventHandler.on(e,t,n)}},{key:"one",value:function(e,t,n,r){return this.eventHandler.one(e,t,n,r)}},{key:"trigger",value:function(){var e;(e=this.eventHandler).trigger.apply(e,arguments)}},{key:"remove",value:function(e){this.eventHandler.remove(e)}},{key:"disable",value:function(e,t){this.eventHandler.disable(e,t)}},{key:"enable",value:function(e,t){this.eventHandler.enable(e,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ERR-9001",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.error(t+" - "+e),this.eventHandler.trigger("error",{message:e,code:t,options:n})}},{key:"debugEnabled",get:function(){return this.config.debug},set:function(e){this.config.debug=e}},{key:"showControls",get:function(){return this.config.controls},set:function(e){e?this.controlsWrapper.classList.remove("pf-ui-element-hidden"):this.controlsWrapper.classList.add("pf-ui-element-hidden"),this.config.controls=e}},{key:"playerMode",get:function(){return this.config.audioOnly?"audio":"video"}},{key:"volume",get:function(){return this.playerPlugin?this.playerPlugin.volume:null},set:function(e){this.playerPlugin&&(I.default.set("volume",e),this.playerPlugin.volume=e)}},{key:"muted",get:function(){return this.playerPlugin?this.playerPlugin.muted:null},set:function(e){this.playerPlugin&&(this.playerPlugin.muted=e)}},{key:"playing",get:function(){return this.playerPlugin?this.playerPlugin.playing:null}},{key:"currentItem",get:function(){return this.mediaController?this.mediaController.currentItem:null}},{key:"duration",get:function(){return this.mediaController?this.mediaController.duration:null}},{key:"currentTime",get:function(){return this.mediaController?this.mediaController.currentTime:null},set:function(e){this.mediaController&&(this.mediaController.currentTime=e)}},{key:"isFullscreen",get:function(){return this.fullscreenController?this.fullscreenController.isFullscreen:null}},{key:"playerType",get:function(){return this.playerPlugin.type}}],[{key:"registerPlugin",value:function(e,t){return l.default.register(e,t)}},{key:"registerMiddleware",value:function(e,t){return l.default.registerMiddleware(e,t)}},{key:"version",get:function(){return s.default.version}},{key:"pluginVersions",get:function(){var e=l.default.getRegistered(),t=[];return e.forEach(function(e){var n=e.Plugin.pluginName.toLowerCase();-1===t.findIndex(function(e){return e.pluginName.toLowerCase()===n})&&t.push({pluginName:e.Plugin.pluginName,pluginVersion:e.Plugin.pluginVersion})}),t}},{key:"instances",get:function(){return ee}}]),e}();window.Meister=te,te.MediaPlugin=G.default,te.ParserPlugin=W.default,te.PlayerPlugin=q.default,te.Ui=z.default,te.UiPlugin=Y.default,te.AnalyticsPlugin=B.default,te.Middleware=Z.default,te.ProtoPlugin=$.default,te.Browser=k.default,te.ErrorCodes=D.default,te.PluginLoader=l.default,te.Configuration=f.default,window.Vinson=te,t.default=te},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(4),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"parallel-builtin"},e));return n.meister=e,n.plugins=[],n.bitrates=null,n.currentBitrateIndex=0,n.plugin=null,n.eventStore=[],n}return a(t,e),s(t,[{key:"isItemSupported",value:function(e){return new Promise(function(t){return t("media"!==e.type?{supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE}:{supported:!0})})}},{key:"process",value:function(e){var t=this;return new Promise(function(n,r){var i=[];t.bitrates=e.bitrates,t.currentBitrateIndex=Math.floor(t.bitrates.length/2);var o=t.bitrates[t.currentBitrateIndex];if("m3u"!==o.type&&"m3u8"!==o.type&&"mpd"!==o.type&&"dash"!==o.type&&o.metadata){t.bitrates.sort(function(e,t){return e.metadata.bitrate-t.metadata.bitrate});for(var a=[],s=0;s<t.bitrates.length;s+=1){var u=t.bitrates[s];u.default&&(t.currentBitrateIndex=s),a.push({bitrate:u.metadata.bitrate,index:s})}t.meister.trigger("itemBitrates",{bitrates:a,currentIndex:t.currentBitrateIndex})}t.meister.pluginLoader.getPluginByItem(t.bitrates[t.currentBitrateIndex]).then(function(o){if(o.errorCode)return void t.meister.error("Could not find plugin to play type: '"+t.bitrates[t.currentBitrateIndex].type+"'.",o.errorCode,{title:"Unable to play content."});t.plugin=o;var a=[];i.push(t.plugin.process(t.bitrates[t.currentBitrateIndex])),e.parallel.forEach(function(e){var n=t.meister.pluginLoader.getPluginByItem(e);n.errorCode||a.push(n)}),Promise.all(a).then(function(o){o.forEach(function(n,r){n.errorCode||(t.plugins.push(n),i.push(n.process(e.parallel[r])))}),Promise.all(i).then(function(){n(e)}).catch(function(e){r(e)})})})})}},{key:"load",value:function(e){var t=this;this.plugin.load(this.bitrates[this.currentBitrateIndex]),this.plugins.forEach(function(t,n){t.load(e.parallel[n])}),this.plugin.onRequestBitrate||this.on("requestBitrate",function(e){return t.onRequestBitrate(e.bitrateIndex)})}},{key:"unload",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.plugin&&this.plugin.unload(),this.plugins.forEach(function(e){e.unload()}),this.plugins=[]}},{key:"onRequestBitrate",value:function(e){if(this.currentBitrateIndex!==e){if(this.currentBitrateIndex=e,this.plugin&&this.plugin.changeBitrate)return void this.plugin.changeBitrate(this.currentBitrateIndex);var t=this.meister.currentTime,n=this.meister.playing;this.plugin.unload(),this.plugin.load(this.bitrates[this.currentBitrateIndex]),this.meister.currentTime=t,n&&this.meister.play();var r=this.bitrates[this.currentBitrateIndex].metadata?this.bitrates[this.currentBitrateIndex].metadata.bitrate:0;this.meister.trigger("playerSwitchBitrate",{newBitrate:r,newBitrateIndex:e})}}},{key:"currentItem",get:function(){return this.plugin?this.plugin.currentItem:null}},{key:"duration",get:function(){return this.plugin?this.plugin.duration:NaN}},{key:"currentTime",get:function(){return this.plugin?this.plugin.currentTime:NaN},set:function(e){this.plugin&&(this.plugin.currentTime=e)}}]),t}(c.default);t.default=f},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){var r=this;i(this,e),this.list=t,this.meister=n,this.index=0,this.meister.on("playlistNext",function(){return r.next()}),this.meister.on("playlistPrevious",function(){return r.previous()}),this.meister.on("playlistGoTo",function(e){return r.goTo(e.index)}),this.meister.on("playerEnd",function(){r.meister.config.autoplay&&r.index<r.list.length-1&&r.next()})}return o(e,[{key:"loadCurrentIndex",value:function(){var e=this;this.meister.trigger("showLoading",{code:"INITIALIZING"});var t=this.list[this.index];this.getPluginFor(t).then(function(n){e.meister.trigger("playlistMetadata",t),n instanceof Meister.ParserPlugin?n.process(t).then(function(t){if(t instanceof Array){var n=e.list.slice(0,e.index);n.push.apply(n,r(t)),n.push.apply(n,r(e.list.slice(e.index+1))),e.list=n}else e.list[e.index]=t;e.loadCurrentIndex()}).catch(function(e){console.error("Could not process item with type: "+t.type+" and src: "+t.src+". \n"+e)}):n instanceof Meister.MediaPlugin&&(e.meister.switchItem(t),e.meister.trigger("playlistInfo",{currentIndex:e.index,length:e.list.length}))}).catch(function(n){e.meister.error("Could not find plugin to play type: '"+t.type+"'.",n.errorCode,{title:"Unable to play content."}),console.error("Could not load item with type: '"+t.type+"' and src: '"+t.src+"'.")})}},{key:"next",value:function(){var e=this.index+1;this.goTo(e)}},{key:"previous",value:function(){var e=this.index-1;this.goTo(e)}},{key:"goTo",value:function(e){if(e<0||e>=this.list.length)return void console.error("Playlist index '"+e+"' is out of bounds.");this.index=e,this.loadCurrentIndex()}},{key:"getPluginFor",value:function(e){return this.meister.pluginLoader.getPluginByItem(e).then(function(e){if(e.errorCode)throw e;return e})}}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(12),l=r(u),c=[],f=[],d=[],h=function(){function e(t){i(this,e),this.loaded=[],this.meister=t}return o(e,[{key:"getLoadedPlugin",value:function(e){return this.loaded.find(function(t){return t.name===e})}},{key:"config",value:function(t,n){var r=this,i={};Meister.builtIn&&Object.keys(Meister.builtIn).forEach(function(e){t[e]||(i[e]=Meister.builtIn[e])}),Object.assign(i,t),Object.keys(i).forEach(function(t){var i=e.get(t);if(!i)return void("global"!==t&&console.warn(t+" is not a registered plugin."));var o={};o=s.default.get(t),o.name=t;var a=function(t){return e.execMiddleware(o.middleware,n,t)};r.loaded.push({name:i.name,plugin:new i.Plugin(o,n,a),middleware:o.middleware})}),this.loaded.push({name:"parallel",plugin:new l.default(n)})}},{key:"getPluginByItem",value:function(e){e.drmConfig&&this.meister.trigger("drmConfig",e.drmConfig);var t=[],n=[];return this.loaded.forEach(function(r){if(r.plugin.isItemSupported){n.push(r);var i=r.plugin.isItemSupported(e);t.push(i)}}),Promise.all(t).then(function(e){for(var t=Meister.ErrorCodes.WRONG_TYPE,r=0;r<e.length;r+=1){var i=e[r];if(i.supported)return n[r].plugin;i.errorCode!==Meister.ErrorCodes.WRONG_TYPE&&(t=i.errorCode)}return{errorCode:t}})}},{key:"getPlayerPluginByType",value:function(e){var t=this.loaded.find(function(t){return!!t.plugin.isTypeSupported&&t.plugin.isTypeSupported(e)});return t?t.plugin:null}},{key:"drawUiPlugins",value:function(){this.loaded.forEach(function(e){e.plugin.draw&&e.plugin.draw()})}},{key:"loadAnalyticsPlugins",value:function(){this.loaded.forEach(function(e){e.plugin.isAnalytics&&e.plugin.load()})}}],[{key:"getRegistered",value:function(){return c}},{key:"getLoaded",value:function(){return f}},{key:"get",value:function(e){return c.find(function(t){return t.name===e})}},{key:"getMiddleware",value:function(e){return d.find(function(t){return t.name===e})}},{key:"execMiddleware",value:function(e,t,n){var r=this,i=[];return e&&e.length?(e.forEach(function(e){var n=r.getMiddleware(e);i.push(new n.Middleware({},t))}),this.processMiddlewares(i,n)):new Promise(function(e){e(n)})}},{key:"processMiddlewares",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e[r].process(t).then(function(t){return e[r+1]?n.processMiddlewares(e,t,r+1):t})}},{key:"register",value:function(e,t){var n=this.get(e);if(n)return console.warn("Plugin "+e+" is already registered. Overriding previous version."),void(n.Plugin=t);c.push({name:e,Plugin:t})}},{key:"registerMiddleware",value:function(e,t){var n=this.getMiddleware(e);if(n)return console.warn("Middleware "+e+" is already registered. Overriding previous version."),void(n.Middleware=t);d.push({name:e,Middleware:t})}}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={WRONG_TYPE:"MSTR-0001",NOT_SUPPORTED:"MSTR-0002",NO_DRM:"MSTR-0003",NO_MEDIA_FOUND:"MSTR-0404",FAIRPLAY_CONTENT_ID_FUNCTION_ERROR:"MSTR-1001"};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["adBreakStarted","adBreakEnded","adStarted","adEnded","adTimeupdate","adCuePoints"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["requestPlay","requestSeek","requestPause","requestBitrate"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["windowFocusChange","windowVisibilityChange"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["itemLoadPrevented","itemLoaded","itemUnloaded","itemMetadata","itemTimeInfo","itemLanguages","itemCaptions","itemBitrates","itemImagestream"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["playerCreated","playerDestroyed","_playerTimeUpdate","playerTimeUpdate","playerPlay","playerPlaying","playerFirstPlay","playerReplay","playerPause","_playerSeek","playerSeek","playerSeeking","playerNudge","playerEnd","playerError","playerVolumeChange","playerFullscreen","playerSwitchBitrate","playerAutoSwitchBitrate","playerProgress","playerLoadedMetadata","playerDurationChange","playerBuffering","playerBufferedEnough","playerRemoteConnecting","playerRemoteConnected","playerRemoteDisconnected"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["playlistInfo","playlistNext","playlistPrevious","playlistGoTo","playlistMetadata"];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["uiReady","uiPluginInserted","uiPluginOpen","uiPluginClose"];t.default=r},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){r(this,e),this.counter=0,this.disabledHandles=[],this.protectedHandles={},this.stack={};for(var n=0;n<t.length;n+=1){var i=t[n];this.stack[i]=[]}}return i(e,[{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Anonymous";if(!(t instanceof Function))return console.error("EventHandler: Provided handler is not a function."),null;var i=Array.isArray(e)?e:[e],o=[];return i.forEach(function(e){n.stack[e]||(n.stack[e]=[]);var i=n._createHandler(r,t);n.stack[e].push(i),o.push({id:i.id,hook:e})}),o}},{key:"one",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Anonymous",i=e,o=t,a=n,s=r;if("boolean"!=typeof t&&(s=a,a=o,o=!1),!(a instanceof Function))return console.error("EventHandler: Provided handler is not a function."),null;this.stack[i]||(this.stack[i]=[]),this.stack[i].one||(this.stack[i].one=[]);var u=this._createHandler(s,a,o);return this.stack[i].one.push(u),{id:u.id,hook:i}}},{key:"_createHandler",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={id:this.counter,caller:e,method:t,block:n};return this.counter+=1,r}},{key:"remove",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach(function(e){t.stack[e.hook].one&&(t.stack[e.hook].one=t.stack[e.hook].one.filter(function(t){return t.id!==e.id}),0===t.stack[e.hook].one.length&&delete t.stack[e.hook].one),t.stack[e.hook]=t.stack[e.hook].filter(function(t){return t.id!==e.id})})}},{key:"destroy",value:function(){var e=this;Object.keys(this.stack).forEach(function(t){e.stack[t].forEach(function(n){e.remove({id:n.id,hook:t})})})}},{key:"trigger",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.splice(0,1)[0];if(this.stack[r]){if(-1!==this.disabledHandles.indexOf(r))return this.protectedHandles[r]&&this.protectedHandles[r](t),void console.debug("EventHandler: '"+r+"' is disabled, skipping trigger");if(0!==this.stack[r].length||this.stack[r].one){if(this.stack[r].one){for(var i=!1,o=0;o<this.stack[r].one.length;o+=1){var a=this.stack[r].one[o];i||(i=a.block);try{a.method.apply(null,t)}catch(e){console.error("EventHandler: Handle from '"+a.caller+"' for '"+r+"' failed. Error: "+e)}}if(delete this.stack[r].one,i)return}for(var s=0;s<this.stack[r].length;s+=1){var u=this.stack[r][s];try{u.method.apply(null,t)}catch(e){console.error("EventHandler: Handle from '"+u.caller+"' for '"+r+"' failed. Error: "+e)}}}}}},{key:"disable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default;this.protectedHandles[e]=t,-1===this.disabledHandles.indexOf(e)&&this.disabledHandles.push(e)}},{key:"enable",value:function(e){this.protectedHandles[e]=a.default;var t=this.disabledHandles.indexOf(e);-1!==t&&this.disabledHandles.splice(t,1)}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={VIDEO_ACQUIRING_LICENSE:"Acquiring license..",VIDEO_BUFFERING:"Buffering...",VIDEO_ACQUIRING_MANIFEST:"Retrieving manifest..",INITIALIZING:"Initializing",NONE:"None",AD_COUNT:"ad",OF_COUNT:"of"};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={VIDEO_ACQUIRING_LICENSE:"Ophalen licentie..",VIDEO_BUFFERING:"Bufferen...",VIDEO_ACQUIRING_MANIFEST:"Ophalen manifest..",INITIALIZING:"Initialiseren",NONE:"Geen",AD_COUNT:"advertentie",OF_COUNT:"van"};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={VIDEO_ACQUIRING_LICENSE:{en:"Acquiring license..",nl:"Ophalen licentie.."},VIDEO_BUFFERING:{en:"Buffering...",nl:"Bufferen..."},VIDEO_ACQUIRING_MANIFEST:{en:"Retrieving manifest..",nl:"Ophalen manifest..."},INITIALIZING:{en:"Initializing",nl:"Initialiseren"},NONE:{en:"None",nl:"Geen"},SOMETHING_WENT_WRONG:{en:"Whoops.. Something went wrong..",nl:"Oeps.. Iets ging mis.."},COULD_NOT_PLAY_CONTENT:{en:"Could not play content",nl:"Kon content niet afspelen"},NETWORK_ERROR:{en:"Network error",nl:"Netwerk fout"}};t.default=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(0),f=i(c),d=n(2),h=i(d),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"isAnalytics",value:function(){return!0}},{key:"load",value:function(){var e=this;h.default.forEach(function(t){var n=t.charAt(0).toUpperCase()+t.substring(1),r="on"+n;e[r]&&e.on(t,function(t){e[r](t)})})}},{key:"unload",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this)}},{key:"onPlayerRemoteConnected",value:function(){this.deferLogging=!0}},{key:"onPlayerRemoteDisconnected",value:function(){this.deferLogging=!1}}]),t}(f.default);t.default=p},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"isItemSupported",value:function(){return new Promise(function(e){return e({supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE})})}},{key:"process",value:function(e){return new Promise(function(t){t(e)})}}]),t}(l.default);t.default=c},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"isItemSupported",value:function(){return new Promise(function(e){return e({supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE})})}},{key:"process",value:function(e){return new Promise(function(t){console.error("Process not implemented. Player may not play correctly."),t(e)})}},{key:"unload",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this)}}]),t}(c.default);t.default=f},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(0),f=i(c),d=n(3),h=i(d),p=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.wrapper=r.meister.playerWrapper,r.mediaElement=null,r}return s(t,e),u(t,[{key:"isTypeSupported",value:function(){return!1}},{key:"load",value:function(){var e=this;this.on("requestPlay",this.play.bind(this)),this.on("requestPause",this.pause.bind(this)),this.one("playerCreated",function(){var t=h.default.get("volume");t&&(e.volume=t)})}},{key:"unload",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.mediaElement=null}},{key:"hide",value:function(){this.mediaElement.style.display="none"}},{key:"show",value:function(){this.mediaElement.style.display="block"}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"currentTime",get:function(){console.warn("currentTime getter is not defined.")},set:function(e){console.warn("currentTime setter is not defined. Can't process "+e+".")}},{key:"duration",get:function(){console.warn("duration getter is not defined.")}},{key:"playing",get:function(){console.warn("playing getter is not defined.")}},{key:"buffered",get:function(){console.warn("bufferd getter is not defined.")}},{key:"controls",get:function(){console.warn("controls getter is not defined.")},set:function(e){console.warn("controls setter is not defined. Can't process "+e+".")}},{key:"currentSrc",get:function(){console.warn("currentSrc getter is not defined.")},set:function(e){console.warn("currentSrc setter is not defined. Can't process "+e+".")}},{key:"type",get:function(){return this.playerType},set:function(e){this.playerType=e}}]),t}(f.default);t.default=p},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.controlsWrapper=r.meister.controlsWrapper,r.element=null,r}return a(t,e),t}(u.default);t.default=l},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.element=null;var a=r.config.parentSelector;return a?(r.parentElement=document.querySelector(a),r.parentElement||console.warn("Unable to find element with parentSelector '"+a+"', "+r.name+" is disabled.")):r.one("uiReady",function(e){return r.onUiReady(e)}),r}return a(t,e),s(t,[{key:"onPluginOpen",value:function(e){e.name===this.name&&this.element.classList.remove("pf-ui-element-hidden")}},{key:"onPluginClose",value:function(){this.element.classList.add("pf-ui-element-hidden")}},{key:"onUiReady",value:function(e){e.pluginSpace.appendChild(this.element),this.element.classList.add("pf-ui-element-hidden"),this.on("uiPluginOpen",this.onPluginOpen.bind(this)),this.on("uiPluginClose",this.onPluginClose.bind(this)),this.meister.trigger("uiPluginInserted",{icon:this.config.icon,name:this.name})}},{key:"draw",value:function(){this.parentElement&&this.parentElement.appendChild(this.element)}}]),t}(l.default);t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={},i=navigator.userAgent,o=function(){var e=/\b(playstation 4|nx|opera|chrome|edge|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i,t=i.match(e)||[],n=void 0;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)/g.exec(i)||[],{name:"IE",version:parseInt(n[1]||"",10)};if("Chrome"===t[1]){if(null!==(n=i.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(n[1],10)};if(null!==(n=i.match(/\bEdge\/(\d+\.\d+)/)))return{name:"Edge",version:parseFloat(n[1])}}return t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],n=i.match(/version\/(\d+)/i),n&&t.splice(1,1,n[1]),{name:t[0],version:parseInt(t[1],10)}}();r.isSafari=/safari/i.test(i)&&-1===i.indexOf("Chrome"),r.isEdge=/edge/i.test(i),r.isChrome=/chrome/i.test(i)&&!r.isEdge,r.isChrome64=r.isChrome&&/\bx64/i.test(i),r.isFirefox=/firefox/i.test(i),r.isLegacyIE=!!window.ActiveXObject,r.isIE=r.isLegacyIE||/trident.*rv:1\d/i.test(i),r.isIE11=/trident.*rv:11/i.test(i),r.isChromecast=r.isChrome&&/CrKey/i.test(i),r.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(i),r.isiOS=/iPad|iPhone|iPod/i.test(i),r.isAndroid=/Android/i.test(i),r.isWindowsPhone=/Windows Phone/i.test(i),r.isWin8App=/MSAppHost/i.test(i),r.isWiiU=/WiiU/i.test(i),r.isPS4=/PlayStation 4/i.test(i),r.isSamsungBrowser=/SamsungBrowser/i.test(i),r.isSamsung=/SAMSUNG/i.test(i),r.isMacintosh=/Macintosh/i.test(i),r.isFacebook=/FBAN/i.test(i)&&/FBAV/i.test(i),r.name=o.name,r.version=o.version,r.isNonAutoPlay=!1,r.isMobile?r.isNonAutoPlay=!0:r.isSafari&&r.version>=11&&(r.isNonAutoPlay=!0),t.default=r},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"init",value:function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"classListAdd",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];e.classList.add(n)}}},{key:"classListRemove",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];e.classList.remove(n)}}}]),e}();t.default=o},function(e,t,n){function i(e){if(isNaN(e))return"-";var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;return 0!==t&&n<10&&(n="0"+n),r<10&&(r="0"+r),0!==t?t+":"+n+":"+r:n+":"+r}function o(e){return e<0?NaN:e/1e3+"Kbps"}function a(e,t){var n=document.querySelector("base"),r=document.querySelector("head"),i=document.createElement("a"),o=n,a=void 0;n?a=n.href:o=r.appendChild(document.createElement("base")),o.href=e,i.href=t;var s=i.href;return n?n.href=a:r.removeChild(o),s}function s(e){try{return e instanceof HTMLElement}catch(t){return"object"===(void 0===e?"undefined":u(e))&&1===e.nodeType&&"object"===u(e.style)&&"object"===u(e.ownerDocument)}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};t.timeToHMS=i,t.bitrateToResolution=o,t.resolveUrl=a,t.isDOMNode=s,t.default={timeToHMS:i,bitrateToResolution:o,resolveUrl:a,isDOMNode:s}},function(e,t){e.exports={name:"@meisterplayer/meisterplayer",version:"5.2.2",description:"Meister Player: Video Player for HTML5",main:"dist/Meister.js",keywords:["meister","video","plugin"],scripts:{lint:"eslint ./src/js",test:"jest","test:coverage":"jest --coverage",build:"gulp build",dist:"gulp build:min && gulp build:dist"},author:"Triple",license:"Apache-2.0",dependencies:{noop2:"^2.0.0"},devDependencies:{"babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1",jest:"^20.0.4","meister-gulp-webpack-tasks":"^1.0.6","meister-js-dev":"^3.1.0",yargs:"^7.1.0"}}},function(e,t,n){e.exports=n(5)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player=null,r.supports=["mp4","mp3","icecast","mov"],r.meister.browser.isSamsung&&!window.MediaSource&&r.supports.push("m3u","m3u8"),r}return a(t,e),s(t,[{key:"isItemSupported",value:function(e){var t=this;return new Promise(function(n){return n(-1===t.supports.indexOf(e.type)?{supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE}:{supported:!0})})}},{key:"process",value:function(e){var t=this;return new Promise(function(n,r){t.player=t.meister.getPlayerByType("html5",e),t.player?(t.item=e,t.meister.trigger("uiEvent",{type:"splash",info:t.item.metadata}),n(e)):r(t.name+": Unable to play item "+e.src+", no suitable player available.")})}},{key:"load",value:function(e){var n=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e),this.player.currentSrc=e.src,e.metadata&&this.meister.trigger("itemMetadata",{title:e.metadata.title}),"m3u"!==e.type&&"m3u8"!==e.type||this.meister.trigger("itemBitrates",{bitrates:[{metadata:{bitrate:0}}],currentIndex:0}),this.one("playerLoadedMetadata",function(){var e=!1,t=n.player.duration;t!==1/0&&0!==t||(e=!0),n.meister.trigger("itemTimeInfo",{isLive:e,duration:t})})}},{key:"unload",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.item=null}},{key:"_onPlayerTimeUpdate",value:function(){this.meister.trigger("playerTimeUpdate",{currentTime:this.player.currentTime,duration:this.player.duration})}},{key:"_onPlayerSeek",value:function(){var e=this.player.currentTime,t=this.player.duration,n=e/t;this.meister.trigger("playerSeek",{relativePosition:n,currentTime:e,duration:t})}},{key:"onRequestSeek",value:function(e){var t=void 0;isNaN(e.relativePosition)?isNaN(e.timeOffset)||(t=this.player.currentTime+e.timeOffset):t=e.relativePosition*this.player.duration,this.blockSeekForward&&t>this.player.currentTime||Number.isFinite(t)&&(this.player.currentTime=t)}},{key:"currentItem",get:function(){return this.item}},{key:"duration",get:function(){return this.player?this.player.duration:NaN}},{key:"currentTime",get:function(){return this.player?this.player.currentTime:NaN},set:function(e){this.player&&(this.player.currentTime=e)}}],[{key:"pluginName",get:function(){return"BaseMedia"}},{key:"pluginVersion",get:function(){return c.default.version}}]),t}(Meister.MediaPlugin);Meister.registerPlugin(f.pluginName,f),Meister.registerPlugin("baseMedia",f),t.default=f},function(e,t){e.exports={name:"@meisterplayer/plugin-basemedia",version:"5.2.0",description:"Meister plugin for playback of basic media types (mp4, mp3, etc).",main:"dist/BaseMedia.js",keywords:["meister","video","plugin"],repository:{type:"git",url:"https://github.com/meisterplayer/media-basemedia.git"},author:"Triple",license:"Apache-2.0",dependencies:{},devDependencies:{"meister-gulp-webpack-tasks":"^1.0.6","meister-js-dev":"^3.1.0",gulp:"^3.9.1","babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0"},peerDependencies:{"@meisterplayer/meisterplayer":">= 5.1.0"}}},function(e,t,n){e.exports=n(0)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=67)}([function(e,t,n){function i(){}function o(e,t){return t="["+e+"] > "+t}function a(e){var t=self.console[e];return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=o(e,r[0])),t.apply(self.console,r)}:i}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){f[t]=e[t]?e[t].bind(e):a(t)})}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},c={trace:i,debug:i,log:i,warn:i,info:i,error:i},f=c;t.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":l(e))){s(e,"debug","log","info","warn","error");try{f.log()}catch(e){f=c}}else f=c},t.logger=f},function(e,t,n){e.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=n(2),c=n(1),f=function(e){return e&&e.__esModule?e:{default:e}}(c),d=function(){function e(t){i(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return s(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===a(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(t){u.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(f.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();t.default=d},function(e,t,n){var r={isBuffered:function(e,t){if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0;return!1},bufferInfo:function(e,t,n){if(e){var r,i=e.buffered,o=[];for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,t,n)}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,n){var r,i,o,a,s,u=[];for(e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end}),s=0;s<e.length;s++){var l=u.length;if(l){var c=u[l-1].end;e[s].start-c<n?e[s].end>c&&(u[l-1].end=e[s].end):u.push(e[s])}else u.push(e[s])}for(s=0,r=0,i=o=t;s<u.length;s++){var f=u[s].start,d=u[s].end;if(t+n>=f&&t<d)i=f,o=d,r=o-t;else if(t+n<f){a=f;break}}return{len:r,start:i,end:o,nextStart:a}}};e.exports=r},function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"===(void 0===e?"undefined":l(e))&&null!==e}function u(e){return void 0===e}var l="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,r,i,a,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],u(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(s(n))for(i=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,a=0;a<r;a++)l[a].apply(this,i);return!0},i.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"isHeader",value:function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"isFooter",value:function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"getID3Data",value:function(t,n){for(var r=n,i=0;e.isHeader(t,n);){i+=10;i+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(i+=10),n+=i}if(i>0)return t.subarray(r,r+i)}},{key:"_readSize",value:function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]}},{key:"getTimeStamp",value:function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var i=n[r];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}}},{key:"isTimeStampFrame",value:function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info}},{key:"_getFrameData",value:function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:n,size:r,data:t.subarray(10,10+r)}}},{key:"getID3Frames",value:function(t){for(var n=0,r=[];e.isHeader(t,n);){var i=e._readSize(t,n+6);n+=10;for(var o=n+i;n+8<o;){var a=e._getFrameData(t.subarray(n)),s=e._decodeFrame(a);s&&r.push(s),n+=a.size+10}e.isFooter(t,n)&&(n+=10)}return r}},{key:"_decodeFrame",value:function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0}},{key:"_readTimeStamp",value:function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}}},{key:"_decodePrivFrame",value:function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}}},{key:"_decodeTextFrame",value:function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var o=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:o}}}},{key:"_decodeURLFrame",value:function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var o=e._utf8ArrayToStr(t.data);return{key:t.type,data:o}}},{key:"_utf8ArrayToStr",value:function(e){for(var t=void 0,n=void 0,r="",i=0,o=e.length;i<o;){var a=e[i++];switch(a>>4){case 0:return r;case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(a);break;case 12:case 13:t=e[i++],r+=String.fromCharCode((31&a)<<6|63&t);break;case 14:t=e[i++],n=e[i++],r+=String.fromCharCode((15&a)<<12|(63&t)<<6|(63&n)<<0)}}return r}}]),e}();t.default=o},function(e,t,n){var r={search:function(e,t){for(var n=0,r=e.length-1,i=null,o=null;n<=r;){i=(n+r)/2|0,o=e[i];var a=t(o);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}};e.exports=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(31),s=r(a),u=n(33),l=r(u),c=n(32),f=r(c),d=n(2),h=n(0),p=function(){function e(t,n){i(this,e),this.observer=t,this.config=n,this.logEnabled=!0;try{var r=crypto||self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return o(e,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(e,t,n,r){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(h.logger.log("JS AES decrypt"),this.logEnabled=!1);var o=this.decryptor;o||(this.decryptor=o=new f.default),o.expandKey(t),r(o.decrypt(e,0,n))}else{this.logEnabled&&(h.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var a=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new l.default(a,t)),this.fastAesKey.expandKey().then(function(o){new s.default(a,n).decrypt(e,o).catch(function(o){i.onWebCryptoError(o,e,t,n,r)}).then(function(e){r(e)})}).catch(function(o){i.onWebCryptoError(o,e,t,n,r)})}}},{key:"onWebCryptoError",value:function(e,t,n,r,i){this.config.enableSoftwareAES?(h.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,i)):(h.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();t.default=p},function(e,t,n){var r=n(0),i=n(2),o={getAudioConfig:function(e,t,n,o){var a,s,u,l,c,f=navigator.userAgent.toLowerCase(),d=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=1+((192&t[n+2])>>>6),(s=(60&t[n+2])>>>2)>h.length-1?void e.trigger(Event.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s}):(l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+l),/firefox/i.test(f)?s>=6?(a=5,c=new Array(4),u=s-3):(a=2,c=new Array(2),u=s):-1!==f.indexOf("android")?(a=2,c=new Array(2),u=s):(a=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&s>=6?u=s-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(s>=6&&1===l||/vivaldi/i.test(f))||!o&&1===l)&&(a=2,c=new Array(2)),u=s)),c[0]=a<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=l<<3,5===a&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[s],channelCount:l,codec:"mp4a.40."+a,manifestCodec:d})},isHeaderPattern:function(e,t){return 255===e[t]&&240==(246&e[t+1])},getHeaderLength:function(e,t){return 1&e[t+1]?7:9},getFullFrameLength:function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.getHeaderLength(e,t),r=n;t+5<e.length&&(r=this.getFullFrameLength(e,t));var i=t+r;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1},initTrackConfig:function(e,t,n,i,o){if(!e.samplerate){var a=this.getAudioConfig(t,n,i,o);e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,r.logger.log("parsed codec:"+e.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}},getFrameDuration:function(e){return 9216e4/e},appendFrame:function(e,t,n,r,i){var o=this.getFrameDuration(e.samplerate),a=this.parseFrameHeader(t,n,r,i,o);if(a){var s=a.stamp,u=a.headerLength,l=a.frameLength,c={unit:t.subarray(n+u,n+u+l),pts:s,dts:s};return e.samples.push(c),e.len+=l,{sample:c,length:l+u}}},parseFrameHeader:function(e,t,n,r,i){var o,a,s,u=e.length;if(o=this.getHeaderLength(e,t),a=this.getFullFrameLength(e,t),(a-=o)>0&&t+o+a<=u)return s=n+r*i,{headerLength:o,frameLength:a,stamp:s}}};e.exports=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(2),l=n(8),c=r(l),f=n(34),d=r(f),h=n(38),p=r(h),v=n(40),g=r(v),y=n(37),m=r(y),b=n(47),E=r(b),_=n(48),w=r(_),k=function(){function e(t,n,r,o){i(this,e),this.observer=t,this.typeSupported=n,this.config=r,this.vendor=o}return o(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,n,r,i,o,a,u,l,f,d,h){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var p=this.decrypter;null==p&&(p=this.decrypter=new c.default(this.observer,this.config));var v,g=this;try{v=performance.now()}catch(e){v=Date.now()}p.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var c;try{c=performance.now()}catch(e){c=Date.now()}g.observer.trigger(s.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:c}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),r,i,o,a,u,l,f,d,h)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),r,i,o,a,u,l,f,d,h)}},{key:"pushDecrypted",value:function(e,t,n,r,i,o,a,l,c,f,h,v){var y=this.demuxer;if(!y||a&&!this.probe(e)){for(var b=this.observer,_=this.typeSupported,k=this.config,T=[{demux:d.default,remux:E.default},{demux:m.default,remux:E.default},{demux:g.default,remux:E.default},{demux:p.default,remux:w.default}],S=0,O=T.length;S<O;S++){var L=T[S],P=L.demux.probe;if(P(e)){var A=this.remuxer=new L.remux(b,k,_,this.vendor);y=new L.demux(b,A,k,_),this.probe=P;break}}if(!y)return void b.trigger(s.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=y}var R=this.remuxer;(a||l)&&(y.resetInitSegment(n,r,i,f),R.resetInitSegment()),a&&(y.resetTimeStamp(v),R.resetTimeStamp(v)),"function"==typeof y.setDecryptData&&y.setDecryptData(t),y.append(e,o,c,h)}}]),e}();t.default=k},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(10),l=r(u),c=n(35),f=r(c),d=n(0),h=n(2),p=n(5),v=r(p),g=function(){function e(t,r){i(this,e),this.hls=t,this.id=r;var o=this.observer=new v.default,a=t.config;o.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e,e].concat(n))},o.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.removeListener.apply(o,[e].concat(n))};var u=function(e,n){n=n||{},n.frag=this.frag,n.id=this.id,t.trigger(e,n)}.bind(this);o.on(s.default.FRAG_DECRYPTED,u),o.on(s.default.FRAG_PARSING_INIT_SEGMENT,u),o.on(s.default.FRAG_PARSING_DATA,u),o.on(s.default.FRAG_PARSED,u),o.on(s.default.ERROR,u),o.on(s.default.FRAG_PARSING_METADATA,u),o.on(s.default.FRAG_PARSING_USERDATA,u),o.on(s.default.INIT_PTS_FOUND,u);var c={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(a.enableWorker&&"undefined"!=typeof Worker){d.logger.log("demuxing in webworker");var g=void 0;try{var y=n(59);g=this.w=y(f.default),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(e){t.trigger(s.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},g.postMessage({cmd:"init",typeSupported:c,vendor:p,id:r,config:JSON.stringify(a)})}catch(e){d.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),g&&URL.revokeObjectURL(g.objectURL),this.demuxer=new l.default(o,c,a,p),this.w=void 0}}else this.demuxer=new l.default(o,c,a,p)}return o(e,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)}},{key:"push",value:function(e,t,n,r,i,o,a,s){var u=this.w,l=isNaN(i.startDTS)?i.start:i.startDTS,c=i.decryptdata,f=this.frag,h=!(f&&i.cc===f.cc),p=!(f&&i.level===f.level),v=f&&i.sn===f.sn+1,g=!p&&v;if(h&&d.logger.log(this.id+":discontinuity detected"),p&&d.logger.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:e,decryptdata:c,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:l,discontinuity:h,trackSwitch:p,contiguous:g,duration:o,accurateTimeOffset:a,defaultInitPTS:s},[e]);else{var y=this.demuxer;y&&y.push(e,c,t,n,r,l,h,p,g,o,a,s)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case s.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}}]),e}();t.default=g},function(e,t,n){var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(e,t,n,r,i){if(!(n+24>t.length)){var o=this.parseHeader(t,n);if(o&&n+o.frameLength<=t.length){var a=10368e4/o.sampleRate,s=r+i*a,u={unit:t.subarray(n,n+o.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(u),e.len+=o.frameLength,{sample:u,length:o.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,o=e[t+2]>>4&15,a=e[t+2]>>2&3,s=!!(2&e[t+2]);if(1!==n&&0!==o&&15!==o&&3!==a){var u=3===n?3-i:3===i?3:4,l=1e3*r.BitratesMap[14*u+o-1],c=3===n?0:2===n?1:2,f=r.SamplingRateMap[3*c+a],d=s?1:0;return{sampleRate:f,channelCount:e[t+3]>>6==3?1:2,frameLength:3===i?(3===n?12:6)*l/f+d<<2:(3===n?144:72)*l/f+d|0}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var i=t+r;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}};e.exports=r},function(e,t,n){var r=n(0),i={mergeDetails:function(e,t){var n,o=Math.max(e.startSN,t.startSN)-t.startSN,a=Math.min(e.endSN,t.endSN)-t.startSN,s=t.startSN-e.startSN,u=e.fragments,l=t.fragments,c=0;if(a<o)return void(t.PTSKnown=!1);for(var f=o;f<=a;f++){var d=u[s+f],h=l[f];h&&d&&(c=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,h.backtracked=d.backtracked,h.dropped=d.dropped,n=h))}if(c)for(r.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;f<l.length;f++)l[f].cc+=c;if(n)i.updateFragPTSDTS(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(s>=0&&s<u.length){var p=u[s].start;for(f=0;f<l.length;f++)l[f].start+=p}t.PTSKnown=e.PTSKnown},updateFragPTSDTS:function(e,t,n,r,o,a){var s=n;if(!isNaN(t.startPTS)){var u=Math.abs(t.startPTS-n);isNaN(t.deltaPTS)?t.deltaPTS=u:t.deltaPTS=Math.max(u,t.deltaPTS),s=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),o=Math.min(o,t.startDTS),a=Math.max(a,t.endDTS)}var l=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=s,t.endPTS=r,t.startDTS=o,t.endDTS=a,t.duration=r-n;var c=t.sn;if(!e||c<e.startSN||c>e.endSN)return 0;var f,d,h;for(f=c-e.startSN,d=e.fragments,d[f]=t,h=f;h>0;h--)i.updatePTS(d,h,h-1);for(h=f;h<d.length-1;h++)i.updatePTS(d,h,h+1);return e.PTSKnown=!0,l},updatePTS:function(e,t,n){var i=e[t],o=e[n],a=o.startPTS;isNaN(a)?o.start=n>t?i.start+i.duration:Math.max(i.start-o.duration,0):n>t?(i.duration=a-i.start,i.duration<0&&r.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(o.duration=i.start-a,o.duration<0&&r.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}};e.exports=i},function(e,t,n){var r={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}};e.exports=r},function(e,t,n){function r(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new f,this.regionList=[]}function i(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=Object.create(null)}function a(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function s(e,t,n){function r(){var t=i(e);if(null===t)throw new Error("Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function s(){e=e.replace(/^\s+/,"")}var u=e;if(s(),t.startTime=r(),s(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);e=e.substr(3),s(),t.endTime=r(),s(),function(e,t){var r=new o;a(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",h,"end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",h,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",h,"end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===d.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",h);var s=r.get("position","auto");"auto"===s&&50===d.position&&(s="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=s}(e,t)}function u(e){return e.replace(/<br(?: \/)?>/gi,"\n")}Object.defineProperty(t,"__esModule",{value:!0}),t.fixLineBreaks=void 0;var l=n(55),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var d=new c.default(0,0,0),h="middle"===d.align?"middle":"center";r.prototype={parse:function(e){function t(){var e=n.buffer,t=0;for(e=u(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),r}var n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;r=t();var i=r.match(/^WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");n.state="HEADER"}for(var o=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:r=t(),n.state){case"HEADER":/:/.test(r)?function(e){a(e,function(e,t){switch(e){case"Region":console.log("parse region",t)}},/:/)}(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;if(n.cue=new c.default(0,0,""),n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{s(r,n.cue,n.regionList)}catch(e){n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var l=-1!==r.indexOf("--\x3e");if(!r||l&&(o=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r;continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}},t.fixLineBreaks=u,t.default=r},function(e,t,n){(function(e){var n,i,o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};!function(r){var a=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,s=/^([^\/;?#]*)(.*)$/,u=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,c={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return r.path=c.normalizePath(r.path),c.buildURLFromParts(r)}var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=c.normalizePath(i.path),c.buildURLFromParts(i)):t;var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var a=s.exec(o.path);o.netLoc=a[1],o.path=a[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=o.netLoc,"/"!==i.path[0]))if(i.path){var l=o.path,f=l.substring(0,l.lastIndexOf("/")+1)+i.path;u.path=c.normalizePath(f)}else u.path=o.path,i.params||(u.params=o.params,i.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?c.normalizePath(i.path):i.path),c.buildURLFromParts(u)},parseURL:function(e){var t=a.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(u,"");e.length!==(e=e.replace(l,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"===o(t)&&"object"===o(e)?e.exports=c:(n=[],void 0!==(i=function(){return c}.apply(t,n))&&(e.exports=i))}()}).call(t,n(58)(e))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hlsDefaultConfig=void 0;var i=n(19),o=r(i),a=n(22),s=r(a),u=n(23),l=r(u),c=n(24),f=r(c),d=n(57),h=r(d),p=n(21),v=r(p),g=n(20),y=r(g),m=n(51),b=r(m),E=n(30),_=r(E),w=n(29),k=r(w),T=n(28),S=r(T);t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:h.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:o.default,bufferController:s.default,capLevelController:l.default,fpsController:f.default,audioStreamController:y.default,audioTrackController:v.default,subtitleStreamController:S.default,subtitleTrackController:k.default,timelineController:_.default,cueHandler:b.default,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(4),v=i(p),g=n(2),y=n(0),m=n(53),b=i(m),E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.FRAG_LOADING,f.default.FRAG_LOADED,f.default.FRAG_BUFFERED,f.default.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return s(t,e),l(t,[{key:"destroy",value:function(){this.clearTimer(),h.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,r=e.frag.level,i=n.levels[r].details.live,o=n.config,a=void 0,s=void 0;i?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new b.default(n,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"_abandonRulesCheck",value:function(){var e=this.hls,t=e.media,n=this.fragCurrent,r=n.loader,i=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return y.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var o=r.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var a=performance.now()-o.trequest,s=Math.abs(t.playbackRate);if(a>500*n.duration/s){var u=e.levels,l=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),c=u[n.level],d=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,h=o.total?o.total:Math.max(o.loaded,Math.round(n.duration*d/8)),p=t.currentTime,g=(h-o.loaded)/l,m=(v.default.bufferInfo(t,p,e.config.maxBufferHole).end-p)/s;if(m<2*n.duration/s&&g>m){var b=void 0,E=void 0;for(E=n.level-1;E>i;E--){var _=u[E].realBitrate?Math.max(u[E].realBitrate,u[E].bitrate):u[E].bitrate;if((b=n.duration*_/(6.4*l))<m)break}b<g&&(y.logger.warn("loading too slow, abort fragment loading and switch to level "+E+":fragLoadedDelay["+E+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+g.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=E,this._bwEstimator.sample(a,o.loaded),r.abort(),this.clearTimer(),e.trigger(f.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,n=e.frag;if(!(!0===t.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&t.tload!==t.tbuffered)){var r=t.tparsed-t.trequest;y.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(r,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"_findBestLevel",value:function(e,t,n,r,i,o,a,s,u){for(var l=i;l>=r;l--){var c=u[l],f=c.details,d=f?f.totalduration/f.fragments.length:t,h=!!f&&f.live,p=void 0;p=l<=e?a*n:s*n;var v=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,g=v*d/p;if(y.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(p)+"/"+v+"/"+d+"/"+o+"/"+g),p>v&&(!g||h&&!this.bitrateTestDelay||g<o))return l}return-1}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,i=e.minAutoLevel,o=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(v.default.bufferInfo(o,u,r.maxBufferHole).end-u)/l,d=this._findBestLevel(a,s,c,i,t,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(d>=0)return d;y.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,p=r.abrBandWidthFactor,g=r.abrBandWidthUpFactor;if(0===f){var m=this.bitrateTestDelay;if(m){h=(s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay)-m,y.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),p=g=1}}return d=this._findBestLevel(a,s,c,i,t,f+h,p,g,n),Math.max(d,0)}}]),t}(h.default);t.default=E},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(7),f=i(c),d=n(4),h=i(d),p=n(11),v=i(p),g=n(1),y=i(g),m=n(3),b=i(m),E=n(13),_=i(E),w=n(14),k=i(w),T=n(2),S=n(0),O=n(52),L={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},P=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.default.MEDIA_ATTACHED,y.default.MEDIA_DETACHING,y.default.AUDIO_TRACKS_UPDATED,y.default.AUDIO_TRACK_SWITCHING,y.default.AUDIO_TRACK_LOADED,y.default.KEY_LOADED,y.default.FRAG_LOADED,y.default.FRAG_PARSING_INIT_SEGMENT,y.default.FRAG_PARSING_DATA,y.default.FRAG_PARSED,y.default.ERROR,y.default.BUFFER_CREATED,y.default.BUFFER_APPENDED,y.default.BUFFER_FLUSHED,y.default.INIT_PTS_FOUND));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=L.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return s(t,e),l(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),b.default.prototype.destroy.call(this),this.state=L.STOPPED}},{key:"onInitPtsFound",value:function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,S.logger.log("InitPTS for cc:"+n+" found from video track:"+r),this.state===L.WAITING_INIT_PTS&&this.tick())}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(S.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=L.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=L.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=L.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=L.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,n,r=this.hls,i=r.config;switch(this.state){case L.ERROR:case L.PAUSED:case L.BUFFER_FLUSHING:break;case L.STARTING:this.state=L.WAITING_TRACK,this.loadedmetadata=!1;break;case L.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=h.default.bufferInfo(a,e,i.maxBufferHole),u=s.len,l=s.end,c=this.fragPrevious,d=i.maxMaxBufferLength,p=this.audioSwitch,v=this.trackId;if((u<d||p)&&v<o.length){if(void 0===(n=o[v].details)){this.state=L.WAITING_TRACK;break}if(!p&&!n.live&&c&&c.sn===n.endSN&&(!this.media.seeking||this.media.duration-l<c.duration/2)){this.hls.trigger(y.default.BUFFER_EOS,{type:"audio"}),this.state=L.ENDED;break}var g=n.fragments,m=g.length,b=g[0].start,E=g[m-1].start+g[m-1].duration,_=void 0;if(p)if(n.live&&!n.PTSKnown)S.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),l=0;else if(l=e,n.PTSKnown&&e<b){if(!(s.end>b||s.nextStart))return;S.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=b+.05}if(n.initSegment&&!n.initSegment.data)_=n.initSegment;else if(l<=b){if(_=g[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=(0,O.findFragWithCC)(g,this.videoTrackCC)),n.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var w=s.nextStart?s.nextStart:b;return S.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(w+.05)),void(this.media.currentTime=w+.05)}}else{var k=void 0,P=i.maxFragLookUpTolerance,A=c?g[c.sn-g[0].sn+1]:void 0,R=function(e){var t=Math.min(P,e.duration);return e.start+e.duration-t<=l?1:e.start-t>l&&e.start?-1:0};l<E?(l>E-P&&(P=0),k=A&&!R(A)?A:f.default.search(g,R)):k=g[m-1],k&&(_=k,b=k.start,c&&_.level===c.level&&_.sn===c.sn&&(_.sn<n.endSN?(_=g[_.sn+1-n.startSN],S.logger.log("SN just loaded, load next one: "+_.sn)):_=null))}if(_)if(_.decryptdata&&null!=_.decryptdata.uri&&null==_.decryptdata.key)S.logger.log("Loading key for "+_.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+v),this.state=L.KEY_LOADING,r.trigger(y.default.KEY_LOADING,{frag:_});else{if(S.logger.log("Loading "+_.sn+", cc: "+_.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+v+", currentTime:"+e+",bufferEnd:"+l.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,_.loadCounter){_.loadCounter++;var C=i.fragLoadingLoopThreshold;if(_.loadCounter>C&&Math.abs(this.fragLoadIdx-_.loadIdx)<C)return void r.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:_})}else _.loadCounter=1;_.loadIdx=this.fragLoadIdx,this.fragCurrent=_,this.startFragRequested=!0,isNaN(_.sn)||(this.nextLoadPosition=_.start+_.duration),r.trigger(y.default.FRAG_LOADING,{frag:_}),this.state=L.FRAG_LOADING}}break;case L.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=L.IDLE);break;case L.FRAG_LOADING_WAITING_RETRY:var M=performance.now(),I=this.retryDate;a=this.media;var x=a&&a.seeking;(!I||M>=I||x)&&(S.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=L.IDLE);break;case L.WAITING_INIT_PTS:var D=this.videoTrackCC;if(void 0===this.initPTS[D])break;var F=this.waitingFragment;if(F){var N=F.frag.cc;D!==N?(t=this.tracks[this.trackId],t.details&&t.details.live&&(S.logger.warn("Waiting fragment CC ("+N+") does not match video track CC ("+D+")"),this.waitingFragment=null,this.state=L.IDLE)):(this.state=L.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=L.IDLE;break;case L.STOPPED:case L.FRAG_LOADING:case L.PARSING:case L.PARSED:case L.ENDED:}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(S.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===L.ENDED&&(this.state=L.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){S.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=L.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=L.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,o=0;if(S.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var a=r.details;a&&t.fragments.length>0?(_.default.mergeDetails(a,t),o=t.fragments[0].start,t.PTSKnown?S.logger.log("live audio playlist sliding:"+o.toFixed(3)):S.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,S.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(S.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===L.WAITING_TRACK&&(this.state=L.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===L.KEY_LOADING&&(this.state=L.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===L.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,a=t.level,s=t.sn,u=t.cc,l=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",c=this.stats=e.stats;if("initSegment"===s)this.state=L.IDLE,c.tparsed=c.tbuffered=performance.now(),i.initSegment.data=e.payload,this.hls.trigger(y.default.FRAG_BUFFERED,{stats:c,frag:t,id:"audio"}),this.tick();else{this.state=L.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new v.default(this.hls,"audio"));var f=this.initPTS[u],d=i.initSegment?i.initSegment.data:[];if(i.initSegment||void 0!==f){this.pendingBuffering=!0,S.logger.log("Demuxing "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+a);this.demuxer.push(e.payload,d,l,null,t,o,!1,f)}else S.logger.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+a),this.waitingFragment=e,this.state=L.WAITING_INIT_PTS}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===L.PARSING){var r=e.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(y.default.BUFFER_CODECS,r),S.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(y.default.BUFFER_APPENDING,a))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&r.sn===n.sn&&r.level===n.level&&this.state===L.PARSING){var i=this.trackId,o=this.tracks[i],a=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),S.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),_.default.updateFragPTSDTS(o.details,n,e.startPTS,e.endPTS);var s=this.audioSwitch,u=this.media,l=!1;if(s&&u)if(u.readyState){var c=u.currentTime;S.logger.log("switching audio track : currentTime:"+c),c>=e.startPTS&&(S.logger.log("switching audio track : flushing all audio"),this.state=L.BUFFER_FLUSHING,a.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,this.audioSwitch=!1,a.trigger(y.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,a.trigger(y.default.AUDIO_TRACK_SWITCHED,{id:i});var f=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&f.push({type:e.type,data:t,parent:"audio",content:"data"})}),!l&&f.length&&(f.forEach(function(e){t.state===L.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(y.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===L.PARSING&&(this.stats.tparsed=performance.now(),this.state=L.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;t!==L.PARSING&&t!==L.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==L.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),n.trigger(y.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;S.logger.log("audio buffered : "+k.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(y.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=L.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case T.ErrorDetails.FRAG_LOAD_ERROR:case T.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n,t.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);S.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=L.FRAG_LOADING_WAITING_RETRY}else S.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=L.ERROR}break;case T.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case T.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case T.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case T.ErrorDetails.KEY_LOAD_ERROR:case T.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==L.ERROR&&(this.state=e.fatal?L.ERROR:L.IDLE,S.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case T.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===L.PARSING||this.state===L.PARSED)){var o=this.mediaBuffer,a=this.media.currentTime;if(o&&h.default.isBuffered(o,a)&&h.default.isBuffered(o,a+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,S.logger.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=L.IDLE}else S.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=L.BUFFER_FLUSHING,this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(S.logger.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(y.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=L.PARSED):(this.state=L.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,S.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(b.default);t.default=P},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(0),v=n(2),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MANIFEST_LOADING,f.default.MANIFEST_LOADED,f.default.AUDIO_TRACK_LOADED,f.default.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return s(t,e),l(t,[{key:"destroy",value:function(){this.cleanTimer(),h.default.prototype.destroy.call(this)}},{key:"cleanTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onError",value:function(e){e.fatal&&e.type===v.ErrorTypes.NETWORK_ERROR&&this.cleanTimer()}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(f.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var i=0;n.forEach(function(e){if(e.default&&!r)return t.audioTrack=i,void(r=!0);i++}),!1===r&&n.length&&(p.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(p.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,p.logger.log("switching to audioTrack "+e);var t=this.tracks[e],n=this.hls,r=t.type,i=t.url,o={id:e,type:r,url:i};n.trigger(f.default.AUDIO_TRACK_SWITCH,o),n.trigger(f.default.AUDIO_TRACK_SWITCHING,o);var a=t.details;!i||void 0!==a&&!0!==a.live||(p.logger.log("(re)loading playlist for audioTrack "+e),n.trigger(f.default.AUDIO_TRACK_LOADING,{url:i,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,p.logger.log("updating audioTrack "+e);var t=this.tracks[e],n=t.url,r=t.details;!n||void 0!==r&&!0!==r.live||(p.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(f.default.AUDIO_TRACK_LOADING,{url:n,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(h.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(0),v=n(2),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MEDIA_ATTACHING,f.default.MEDIA_DETACHING,f.default.MANIFEST_PARSED,f.default.BUFFER_RESET,f.default.BUFFER_APPENDING,f.default.BUFFER_CODECS,f.default.BUFFER_EOS,f.default.BUFFER_FLUSHING,f.default.LEVEL_PTS_UPDATED,f.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return s(t,e),l(t,[{key:"destroy",value:function(){h.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(e){i=!0,p.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(p.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,n=e.video||e.levels.length&&e.audio,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),p.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){p.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){p.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(f.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){p.logger.log("media source opened"),this.hls.trigger(f.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){p.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){p.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;p.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce(function(e,n){return n.parent===t?e+1:e},0);this.hls.trigger(f.default.BUFFER_APPENDED,{parent:t,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){p.logger.error("sourceBuffer error:",e),this.hls.trigger(f.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var i=e[r],o=i.levelCodec||i.codec,a=i.container+";codecs="+o;p.logger.log("creating sourceBuffer("+a+")");try{var s=t[r]=n.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[r]={codec:o,container:i.container},i.buffer=s}catch(e){p.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(f.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:a})}}this.hls.trigger(f.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){p.logger.error("sourceBuffer error:",e.event),this.hls.trigger(f.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,p.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}p.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){p.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&e&&t&&n&&0!==e.readyState&&"open"===t.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var o=e.duration;(r>this._msDuration&&r>o||o===1/0||isNaN(o))&&(p.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=t.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){p.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(f.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void p.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=r.type,o=t[i];o?o.updating?n.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){p.logger.error("error while trying to append buffer:"+t.message),n.unshift(r);var a={type:v.ErrorTypes.MEDIA_ERROR,parent:r.parent};if(22===t.code)return this.segments=[],a.details=v.ErrorDetails.BUFFER_FULL_ERROR,a.fatal=!1,void e.trigger(f.default.ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=v.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return p.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],a.fatal=!0,void e.trigger(f.default.ERROR,a);a.fatal=!1,e.trigger(f.default.ERROR,a)}}}}},{key:"flushBuffer",value:function(e,t,n){var r,i,o,a,s,u,l=this.sourceBuffer;if(Object.keys(l).length){if(p.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in l)if(!n||c===n){if(r=l[c],r.ended=!1,r.updating)return p.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(o=r.buffered.start(i),a=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,u=t):(s=Math.max(o,e),u=Math.min(a,t)),Math.min(u,a)-s>.5)return this.flushBufferCounter++,p.logger.log("flush "+c+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+this.media.currentTime),r.remove(s,u),!1}catch(e){p.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else p.logger.warn("abort flushing too many retries");p.logger.log("buffer flushed")}return!0}}]),t}(h.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.FPS_DROP_LEVEL_CAPPING,f.default.MEDIA_ATTACHING,f.default.MANIFEST_PARSED))}return s(t,e),l(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var n=this;if(!this.levels)return-1;var r=this.levels.filter(function(r,i){return t.isLevelAllowed(i,n.restrictedLevels)&&i<=e});return t.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}},{key:"mediaWidth",get:function(){var e=void 0,n=this.media;return n&&(e=n.width||n.clientWidth||n.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,n=this.media;return n&&(e=n.height||n.clientHeight||n.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"isLevelAllowed",value:function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)}},{key:"getMaxLevelByMediaSize",value:function(e,t,n){if(!e||e&&!e.length)return-1;for(var r=e.length-1,i=0;i<e.length;i+=1){var o=e[i];if((o.width>=t||o.height>=n)&&function(e,t){return!t||(e.width!==t.width||e.height!==t.height)}(o,e[i+1])){r=i;break}}return r}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(h.default);t.default=p},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(0),v=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MEDIA_ATTACHING))}return s(t,e),l(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,o=n-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/i,u=this.hls;if(u.trigger(f.default.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:n}),s>0&&o>u.config.fpsDroppedMonitoringThreshold*a){var l=u.currentLevel;p.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=l)&&(l-=1,u.trigger(f.default.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:u.currentLevel}),u.autoLevelCapping=l,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(h.default);t.default=v},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(6),v=i(p),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MEDIA_ATTACHED,f.default.MEDIA_DETACHING,f.default.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return s(t,e),l(t,[{key:"destroy",value:function(){h.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){this.media=e.media,this.media&&(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden")}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onFragParsingMetadata",value:function(e){for(var t=e.frag,n=e.samples,r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=v.default.getID3Frames(n[i].data);if(o){var a=n[i].pts,s=i<n.length-1?n[i+1].pts:t.endPTS;a===s&&(s+=1e-4);for(var u=0;u<o.length;u++){var l=o[u];if(!v.default.isTimeStampFrame(l)){var c=new r(a,s,"");c.value=l,this.id3Track.addCue(c)}}}}}}]),t}(h.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(0),v=n(2),g=n(4),y=i(g),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MANIFEST_LOADED,f.default.LEVEL_LOADED,f.default.FRAG_LOADED,f.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=-1,n}return s(t,e),l(t,[{key:"destroy",value:function(){this.cleanTimer(),this._manualLevel=-1}},{key:"cleanTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,n=[],r=[],i={},o=!1,a=!1,s=this.hls,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(o=!0),u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(a=!0);var t=i[e.bitrate];void 0===t?(i[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)}),o&&a?n.forEach(function(e){e.videoCodec&&r.push(e)}):r=n,r=r.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||l("audio",t))&&(!n||l("video",n))}),r.length){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var c=0;c<r.length;c++)if(r[c].bitrate===t){this._firstLevel=c,p.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}s.trigger(f.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:e.stats,audio:a,video:o,altAudio:e.audioTracks.length>0})}else s.trigger(f.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:s.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this._level!==e){p.logger.log("switching to level "+e),this._level=e;var r=t[e];r.level=e,n.trigger(f.default.LEVEL_SWITCH,r),n.trigger(f.default.LEVEL_SWITCHING,r)}var i=t[e],o=i.details;if(!o||!0===o.live){var a=i.urlId;n.trigger(f.default.LEVEL_LOADING,{url:i.url[a],level:e,id:a})}}else n.trigger(f.default.ERROR,{type:v.ErrorTypes.OTHER_ERROR,details:v.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(e.fatal)return void(e.type===v.ErrorTypes.NETWORK_ERROR&&this.cleanTimer());var t=e.details,n=this.hls,r=void 0,i=void 0,o=!1;switch(t){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:case v.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case v.ErrorDetails.KEY_LOAD_ERROR:case v.ErrorDetails.KEY_LOAD_TIMEOUT:r=e.frag.level;break;case v.ErrorDetails.LEVEL_LOAD_ERROR:case v.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=e.context.level,o=!0;break;case v.ErrorDetails.REMUX_ALLOC_ERROR:r=e.level}if(void 0!==r){i=this._levels[r],i.loadError?i.loadError++:i.loadError=1;var a=i.url.length;if(a>1&&i.loadError<a)i.urlId=(i.urlId+1)%a,i.details=void 0,p.logger.warn("level controller,"+t+" for level "+r+": switching to redundant stream id "+i.urlId);else{if(-1===this._manualLevel&&r)p.logger.warn("level controller,"+t+": switch-down for next fragment"),n.nextAutoLevel=Math.max(0,r-1);else if(i&&i.details&&i.details.live)p.logger.warn("level controller,"+t+" on live stream, discard"),o&&(this._level=void 0);else if(t===v.ErrorDetails.LEVEL_LOAD_ERROR||t===v.ErrorDetails.LEVEL_LOAD_TIMEOUT){var s=n.media,u=s&&y.default.isBuffered(s,s.currentTime)&&y.default.isBuffered(s,s.currentTime+.5);if(u){var l=n.config.levelLoadingRetryDelay;p.logger.warn("level controller,"+t+", but media buffered, retry in "+l+"ms"),this.timer=setTimeout(this.ontick,l),e.levelRetry=!0}else p.logger.error("cannot recover "+t+" error"),this._level=void 0,this.cleanTimer(),e.fatal=!0}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var n=this._levels[t.level];n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var n=this._levels[t];n.loadError=0;var r=e.details;if(r.live){var i=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),o=n.details;o&&r.endSN===o.endSN&&(i/=2,p.logger.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),p.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e];if(t&&t.url){var n=t.urlId;this.hls.trigger(f.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n})}}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.nextAutoLevel=e)}}]),t}(h.default);t.default=m},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(7),f=i(c),d=n(4),h=i(d),p=n(11),v=i(p),g=n(1),y=i(g),m=n(3),b=i(m),E=n(13),_=i(E),w=n(14),k=i(w),T=n(2),S=n(0),O={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},L=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.default.MEDIA_ATTACHED,y.default.MEDIA_DETACHING,y.default.MANIFEST_LOADING,y.default.MANIFEST_PARSED,y.default.LEVEL_LOADED,y.default.KEY_LOADED,y.default.FRAG_LOADED,y.default.FRAG_LOAD_EMERGENCY_ABORTED,y.default.FRAG_PARSING_INIT_SEGMENT,y.default.FRAG_PARSING_DATA,y.default.FRAG_PARSED,y.default.ERROR,y.default.AUDIO_TRACK_SWITCHING,y.default.AUDIO_TRACK_SWITCHED,y.default.BUFFER_CREATED,y.default.BUFFER_APPENDED,y.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=O.STOPPED,n.ontick=n.tick.bind(n),n}return s(t,e),l(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),b.default.prototype.destroy.call(this),this.state=O.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(S.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=O.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=O.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=O.STOPPED,this.forceStartLoad=!1}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case O.ERROR:break;case O.BUFFER_FLUSHING:this.fragLoadError=0;break;case O.IDLE:this._doTickIdle();break;case O.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=O.IDLE);break;case O.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(S.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=O.IDLE);break;case O.ERROR:case O.STOPPED:case O.FRAG_LOADING:case O.PARSING:case O.PARSED:case O.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,n=this.media;if(void 0===this.levelLastLoaded||n||!this.startFragRequested&&t.startFragPrefetch){var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i];if(o){var a=o.bitrate,s=void 0;s=a?Math.max(8*t.maxBufferSize/a,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var u=h.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),l=u.len;if(!(l>=s)){S.logger.trace("buffer length of "+l.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var c=o.details;if(void 0===c||c.live&&this.levelLastLoaded!==i)return void(this.state=O.WAITING_LEVEL);var f=this.fragPrevious;if(!c.live&&f&&f.sn===c.endSN&&l&&!u.nextStart){if(Math.min(n.duration,f.start+f.duration)-Math.max(u.end,f.start)<=Math.max(.2,f.duration)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(y.default.BUFFER_EOS,d),void(this.state=O.ENDED)}}this._fetchPayloadOrEos(r,u,c)}}}}},{key:"_fetchPayloadOrEos",value:function(e,t,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0!==a){var s=o[0].start,u=o[a-1].start+o[a-1].duration,l=t.end,c=void 0;if(n.initSegment&&!n.initSegment.data)c=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void S.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(null===(c=this._ensureFragmentAtLivePoint(n,l,s,u,r,o,a)))return}else l<s&&(c=o[0]);c||(c=this._findFragment(s,r,a,o,l,u,n)),c&&this._loadFragmentOrKey(c,i,n,e,l)}}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,n,r,i,o,a){var s=this.hls.config,u=this.media,l=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-s.maxFragLookUpTolerance,r-c)){var d=this.liveSyncPosition=this.computeLivePosition(n,e);S.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,u&&u.readyState&&u.duration>d&&(u.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>r&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i){var h=i.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=o[h-e.startSN];i.cc===p.cc&&(l=p,S.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=f.default.search(o,function(e){return i.cc-e.cc}))&&S.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=o[Math.min(a-1,Math.round(a/2))],S.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l}},{key:"_findFragment",value:function(e,t,n,r,i,o,a){var s=this.hls.config,u=void 0,l=void 0,c=s.maxFragLookUpTolerance,d=t?r[t.sn-r[0].sn+1]:void 0,h=function(e){var t=Math.min(c,e.duration);return e.start+e.duration-t<=i?1:e.start-t>i&&e.start?-1:0};if(i<o?(i>o-c&&(c=0),l=d&&!h(d)?d:f.default.search(r,h)):l=r[n-1],l){u=l;var p=u.sn-a.startSN,v=t&&u.level===t.level,g=r[p-1],y=r[p+1];if(t&&u.sn===t.sn)if(v&&!u.backtracked)if(u.sn<a.endSN){var m=t.deltaPTS;m&&m>s.maxBufferHole&&t.dropped&&p?(u=g,S.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=y,S.logger.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(y&&y.backtracked?(S.logger.warn("Already backtracked from fragment "+y.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+y.sn),u=y):(S.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,g?(g.loadCounter&&g.loadCounter--,u=g,u.backtracked=!0):p&&(u=null)))}return u}},{key:"_loadFragmentOrKey",value:function(e,t,n,r,i){var o=this.hls,a=o.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(S.logger.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var s=a.fragLoadingLoopThreshold;if(e.loadCounter>s&&Math.abs(this.fragLoadIdx-e.loadIdx)<s)return void o.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=o.autoLevelEnabled,e.bitrateTest=this.bitrateTest,o.trigger(y.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new v.default(o,"main")),void(this.state=O.FRAG_LOADING)}S.logger.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=O.KEY_LOADING,o.trigger(y.default.KEY_LOADING,{frag:e})}},{key:"getBufferedFrag",value:function(e){return f.default.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),h.default.isBuffered(n,t)?e=this.getBufferedFrag(t):h.default.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(y.default.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(y.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}}},{key:"immediateLevelSwitch",value:function(){if(S.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,h.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,n=this.getBufferedFrag(e.currentTime),n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((r=this.getBufferedFrag(e.currentTime+t))&&(r=this.followingBufferedFrag(r))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=O.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(y.default.BUFFER_FLUSHING,n)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(S.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;isNaN(t)||S.logger.log("media seeking to "+t.toFixed(3));var r=this.mediaBuffer?this.mediaBuffer:e,i=h.default.bufferInfo(r,t,this.config.maxBufferHole);if(this.state===O.FRAG_LOADING){var o=this.fragCurrent;if(0===i.len&&o){var a=n.maxFragLookUpTolerance,s=o.start-a,u=o.start+o.duration+a;t<s||t>u?(o.loader&&(S.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=O.IDLE):S.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===O.ENDED&&(0===i.len&&(this.fragPrevious=0),this.state=O.IDLE);e&&(this.lastCurrentTime=t),this.state!==O.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||S.logger.log("media seeked to "+t.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){S.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){S.logger.log("trigger BUFFER_RESET"),this.hls.trigger(y.default.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,n=!1,r=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&S.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,n=e.level,r=this.levels[n],i=t.totalduration,o=0;if(S.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=n,t.live){var a=r.details;a&&t.fragments.length>0?(_.default.mergeDetails(a,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,a),t.PTSKnown?S.logger.log("live playlist sliding:"+o.toFixed(3)):S.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,S.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,this.hls.trigger(y.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var s=t.startTimeOffset;isNaN(s)?t.live?(this.startPosition=this.computeLivePosition(o,t),S.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(s<0&&(S.logger.log("negative start time offset "+s+", count from end of last fragment"),s=o+i+s),S.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===O.WAITING_LEVEL&&(this.state=O.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===O.KEY_LOADING&&(this.state=O.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===O.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],o=i.details;if(S.logger.log("Loaded  "+t.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=r,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=O.IDLE,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(y.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=O.IDLE,r.tparsed=r.tbuffered=performance.now(),o.initSegment.data=e.payload,this.hls.trigger(y.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=O.PARSING;var a=o.totalduration,s=t.level,u=t.sn,l=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(S.logger.log("swapping playlist audio codec"),void 0===l&&(l=this.lastAudioCodec),l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,S.logger.log("Parsing "+u+" of ["+o.startSN+" ,"+o.endSN+"],level "+s+", cc "+t.cc);var c=this.demuxer;c||(c=this.demuxer=new v.default(this.hls,"main"));var f=this.media,d=f&&f.seeking,h=!d&&(o.PTSKnown||!o.live),p=o.initSegment?o.initSegment.data:[];c.push(e.payload,p,l,i.videoCodec,t,a,h,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===O.PARSING){var r,i,o=e.tracks;if(o.audio&&this.altAudio&&delete o.audio,i=o.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(S.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",S.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}i=o.video,i&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(y.default.BUFFER_CODECS,o);for(r in o){i=o[r],S.logger.log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(y.default.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"main"===e.id&&r.sn===n.sn&&r.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===O.PARSING){var i=this.levels[this.level],o=n;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),S.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(o.dropped=e.dropped,o.dropped){if(!o.backtracked)return S.logger.warn("missing video frame(s), backtracking fragment"),o.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=O.IDLE,this.fragPrevious=o,void this.tick();S.logger.warn("Already backtracked on this fragment, appending with the gap")}else o.backtracked=!1;var a=_.default.updateFragPTSDTS(i.details,o,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(y.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(n){n&&n.length&&t.state===O.PARSING&&(t.appended=!0,t.pendingBuffering=!0,s.trigger(y.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===O.PARSING&&(this.stats.tparsed=performance.now(),this.state=O.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){S.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(S.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=O.IDLE}var i=this.hls;i.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(y.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(S.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var o in t){var a=t[o];"main"===a.id?(r=o,n=a,"video"===o&&(this.videoBuffer=t[o].buffer)):i=!0}i&&n?(S.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==O.PARSING&&t!==O.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==O.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;S.logger.log("main buffered : "+k.default.toString(t.buffered));var n=this._bufferedFrags.filter(function(e){return h.default.isBuffered(t,(e.startPTS+e.endPTS)/2)});n.push(e),this._bufferedFrags=n.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e;var r=this.stats;r.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(y.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=O.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=this.media,r=n&&h.default.isBuffered(n,n.currentTime)&&h.default.isBuffered(n,n.currentTime+.5);switch(e.details){case T.ErrorDetails.FRAG_LOAD_ERROR:case T.ErrorDetails.FRAG_LOAD_TIMEOUT:case T.ErrorDetails.KEY_LOAD_ERROR:case T.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var o=this.config;if(i<=o.fragLoadingMaxRetry||r||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var a=Math.min(Math.pow(2,i-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);S.logger.warn("mediaController: frag loading failed, retry in "+a+" ms"),this.retryDate=performance.now()+a,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=O.FRAG_LOADING_WAITING_RETRY}else S.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=O.ERROR}break;case T.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=O.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=O.ERROR));break;case T.ErrorDetails.LEVEL_LOAD_ERROR:case T.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==O.ERROR&&(e.fatal?(this.state=O.ERROR,S.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==O.WAITING_LEVEL||(this.state=O.IDLE));break;case T.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==O.PARSING&&this.state!==O.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=O.IDLE):(S.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,S.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media,t=this.config;if(e&&e.readyState){var n=e.currentTime,r=this.mediaBuffer?this.mediaBuffer:e,i=r.buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var o=e.seeking?n:this.startPosition,a=h.default.isBuffered(r,o),s=i.start(0);(n!==o||!a&&Math.abs(o-s)<t.maxSeekHole)&&(S.logger.log("target start position:"+o),a||(o=s,S.logger.log("target start position not buffered, seek to buffered.start(0) "+o)),S.logger.log("adjust currentTime from "+n+" to "+o),e.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=h.default.bufferInfo(e,n,0),l=!(e.paused||e.ended||0===e.buffered.length),c=n!==this.lastCurrentTime;if(c)this.stallReported&&(S.logger.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(l){var f=performance.now(),d=this.hls;if(this.stalled){var p=f-this.stalled,v=u.len,g=this.nudgeRetry||0;if(v<=.5&&p>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,S.logger.warn("playback stalling in low buffer @"+n),d.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:v}));var m=u.nextStart,b=m-n;if(m&&b<t.maxSeekHole&&b>0){this.nudgeRetry=++g;var E=g*t.nudgeOffset;S.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+m+" + nudge "+E),e.currentTime=m+E,this.stalled=void 0,d.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:m+E-n})}}else if(v>.5&&p>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,S.logger.warn("playback stalling in high buffer @"+n),d.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:v})),this.stalled=void 0,this.nudgeRetry=++g,g<t.nudgeMaxRetry){var _=e.currentTime,w=_+g*t.nudgeOffset;S.logger.log("adjust currentTime from "+_+" to "+w),e.currentTime=w,d.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else S.logger.error("still stuck in high buffer @"+n+" after "+t.nudgeMaxRetry+", raise fatal error"),d.trigger(y.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=f,this.stallReported=!1}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=O.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return h.default.isBuffered(e,(t.startPTS+t.endPTS)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=O.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,S.logger.log("main stream:"+t+"->"+e),this.hls.trigger(y.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(b.default);t.default=L},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(0),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.ERROR,f.default.SUBTITLE_TRACKS_UPDATED,f.default.SUBTITLE_TRACK_SWITCH,f.default.SUBTITLE_TRACK_LOADED,f.default.SUBTITLE_FRAG_PROCESSED));return n.config=e.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.currentTrackId=-1,n}return s(t,e),l(t,[{key:"destroy",value:function(){h.default.prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})}},{key:"nextFrag",value:function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(f.default.FRAG_LOADING,{frag:e})}}},{key:"onSubtitleFragProcessed",value:function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.nextFrag()}},{key:"onError",value:function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(e){var t=this;p.logger.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})}},{key:"onSubtitleTrackSwitch",value:function(e){this.currentTrackId=e.id,this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this.vttFragSNsProcessed[e.id],n=this.vttFragQueues[e.id],r=this.currentlyProcessing?this.currentlyProcessing.sn:-1,i=function(e){return t.indexOf(e.sn)>-1},o=function(e){return n.some(function(t){return t.sn===e.sn})};e.details.fragments.forEach(function(t){i(t)||t.sn===r||o(t)||(t.trackId=e.id,n.push(t))}),this.nextFrag()}}]),t}(h.default);t.default=v},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){for(var t=[],n=0;n<e.length;n++)"subtitles"===e[n].kind&&t.push(e[n]);return t}var l="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),d=i(f),h=n(3),p=i(h),v=n(0),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,d.default.MEDIA_ATTACHED,d.default.MEDIA_DETACHING,d.default.MANIFEST_LOADING,d.default.MANIFEST_LOADED,d.default.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n}return s(t,e),c(t,[{key:"_onTextTracksChanged",value:function(){if(this.media){for(var e=-1,t=u(this.media.textTracks),n=0;n<t.length;n++)"showing"===t[n].mode&&(e=n);this.subtitleTrack=e}}},{key:"destroy",value:function(){p.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){this.media=e.media,this.media&&(this.trackChangeListener=this._onTextTracksChanged.bind(this),this.media.textTracks.addEventListener("change",this.trackChangeListener))}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.subtitles||[],r=!1;this.tracks=n,this.trackId=-1,this.hls.trigger(d.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(e){e.default&&(t.subtitleTrack=e.id,r=!0)})}},{key:"onTick",value:function(){var e=this.trackId,t=this.tracks[e];if(t){var n=t.details;void 0!==n&&!0!==n.live||(v.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(d.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this;e.id<this.tracks.length&&(v.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,v.logger.log("switching to subtitle track "+e);var t=this.tracks[e];this.hls.trigger(d.default.SUBTITLE_TRACK_SWITCH,{id:e});var n=t.details;void 0!==n&&!0!==n.live||(v.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(d.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(p.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function l(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function c(e,t,n,r){return Math.min(t,r)-Math.max(e,n)}var f="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),p=i(h),v=n(3),g=i(v),y=n(50),m=i(y),b=n(56),E=i(b),_=n(0),w=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,p.default.MEDIA_ATTACHING,p.default.MEDIA_DETACHING,p.default.FRAG_PARSING_USERDATA,p.default.MANIFEST_LOADING,p.default.MANIFEST_LOADED,p.default.FRAG_LOADED,p.default.LEVEL_SWITCHING,p.default.INIT_PTS_FOUND));if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var r=n,i=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},s={newCue:function(e,t,n){if(!r.textTrack1){var o=r.getExistingTrack("1");if(o)r.textTrack1=o,u(r.textTrack1),i(r.textTrack1,r.media);else{var a=r.createTextTrack("captions",r.config.captionsTextTrack1Label,r.config.captionsTextTrack1LanguageCode);a&&(a.textTrack1=!0,r.textTrack1=a)}}r.addCues("textTrack1",e,t,n)}},l={newCue:function(e,t,n){if(!r.textTrack2){var o=r.getExistingTrack("2");if(o)r.textTrack2=o,u(r.textTrack2),i(r.textTrack2,r.media);else{var a=r.createTextTrack("captions",r.config.captionsTextTrack2Label,r.config.captionsTextTrack1LanguageCode);a&&(a.textTrack2=!0,r.textTrack2=a)}}r.addCues("textTrack2",e,t,n)}};n.cea608Parser=new m.default(0,s,l)}return n}return s(t,e),d(t,[{key:"addCues",value:function(e,t,n,r){for(var i=this.cueRanges,o=!1,a=i.length;a--;){var s=i[a],u=c(s[0],s[1],t,n);if(u>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],n),o=!0,u/(n-t)>.5))return}o||i.push([t,n]),this.Cues.newCue(this[e],t,n,r)}},{key:"onInitPtsFound",value:function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n],i="textTrack"+e;if(!0===r[i])return r}return null}},{key:"createTextTrack",value:function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)}},{key:"destroy",value:function(){g.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){u(this.textTrack1),u(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0};var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)u(t[n])}}},{key:"onManifestLoaded",value:function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,r){var i=void 0;if(r<n.length){var o=n[r];l(o,e)&&(i=o)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),i.mode=e.default?"showing":"hidden",t.textTracks.push(i)})}}},{key:"onLevelSwitching",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){var t=e.frag,n=e.payload;if("main"===t.type){var r=t.sn;if(r!==this.lastSn+1){var i=this.cea608Parser;i&&i.reset()}this.lastSn=r}else if("subtitle"===t.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var a=this.textTracks,s=this.hls;E.default.parse(n,this.initPTS,o,t.cc,function(e){var n=a[t.trackId];e.forEach(function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}}),s.trigger(p.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){_.logger.log("Failed to parse VTT cue: "+e),s.trigger(p.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})}else this.hls.trigger(p.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}}},{key:"extractCea608Data",value:function(e){for(var t,n,r,i,o,a=31&e[0],s=2,u=[],l=0;l<a;l++)t=e[s++],n=127&e[s++],r=127&e[s++],i=0!=(4&t),o=3&t,0===n&&0===r||i&&0===o&&(u.push(n),u.push(r));return u}}]),t}(g.default);t.default=w},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.subtle=t,this.aesIV=n}return i(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],d=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)d[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var y=d[h],m=d[y],b=d[m],E=257*d[g]^16843008*g;r[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,o[h]=E<<8|E>>>24,a[h]=E,E=16843009*b^65537*m^257*y^16843008*h,u[g]=E<<24|E>>>8,l[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,f[g]=E,h?(h=y^d[d[d[b^y]]],p^=d[d[p]]):h=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o=this.ksRows=4*(i+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(o),l=this.invKeySchedule=new Uint32Array(o),c=this.sBox,f=this.rcon,d=this.invSubMix,h=d[0],p=d[1],v=d[2],g=d[3],y=void 0,m=void 0;for(a=0;a<o;a++)a<i?y=u[a]=t[a]:(m=y,a%i==0?(m=m<<8|m>>>24,m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m],m^=f[a/i|0]<<24):i>6&&a%i==4&&(m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m]),u[a]=y=(u[a-i]^m)>>>0);for(s=0;s<o;s++)a=o-s,m=3&s?u[a]:u[a-4],l[s]=s<4||a<=4?m:h[c[m>>>24]]^p[c[m>>>16&255]]^v[c[m>>>8&255]]^g[c[255&m]],l[s]=l[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix,l=u[0],c=u[1],f=u[2],d=u[3],h=this.uint8ArrayToUint32Array_(n),p=h[0],v=h[1],g=h[2],y=h[3],m=new Int32Array(e),b=new Int32Array(m.length),E=void 0,_=void 0,w=void 0,k=void 0,T=void 0,S=void 0,O=void 0,L=void 0,P=void 0,A=void 0,R=void 0,C=void 0,M=this.networkToHostOrderSwap;t<m.length;){for(P=M(m[t]),A=M(m[t+1]),R=M(m[t+2]),C=M(m[t+3]),T=P^a[0],S=C^a[1],O=R^a[2],L=A^a[3],r=4,i=1;i<o;i++)E=l[T>>>24]^c[S>>16&255]^f[O>>8&255]^d[255&L]^a[r],_=l[S>>>24]^c[O>>16&255]^f[L>>8&255]^d[255&T]^a[r+1],w=l[O>>>24]^c[L>>16&255]^f[T>>8&255]^d[255&S]^a[r+2],k=l[L>>>24]^c[T>>16&255]^f[S>>8&255]^d[255&O]^a[r+3],T=E,S=_,O=w,L=k,r+=4;E=s[T>>>24]<<24^s[S>>16&255]<<16^s[O>>8&255]<<8^s[255&L]^a[r],_=s[S>>>24]<<24^s[O>>16&255]<<16^s[L>>8&255]<<8^s[255&T]^a[r+1],w=s[O>>>24]<<24^s[L>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^a[r+2],k=s[L>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&O]^a[r+3],r+=3,b[t]=M(E^p),b[t+1]=M(k^v),b[t+2]=M(w^g),b[t+3]=M(_^y),p=P,v=A,g=R,y=C,t+=4}return b.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.subtle=t,this.key=n}return i(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9),s=r(a),u=n(0),l=n(6),c=r(l),f=function(){function e(t,n,r){i(this,e),this.observer=t,this.config=r,this.remuxer=n}return o(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){for(var i=this._audioTrack,o=c.default.getID3Data(e,0),a=90*c.default.getTimeStamp(o),l=0,f=a,d=e.length,h=o.length,p=[{pts:f,dts:f,data:o}];h<d-1;)if(s.default.isHeader(e,h)&&h+5<d){s.default.initTrackConfig(i,this.observer,e,h,i.manifestCodec);var v=s.default.appendFrame(i,e,h,a,l);if(!v){u.logger.log("Unable to parse AAC frame");break}h+=v.length,f=v.sample.pts,l++}else c.default.isHeader(e,h)?(o=c.default.getID3Data(e,h),p.push({pts:f,dts:f,data:o}),h+=o.length):h++;this.remuxer.remux(i,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,n,r)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=c.default.getID3Data(e,0);if(r&&void 0!==c.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(s.default.probe(e,t))return u.logger.log("ADTS sync word found !"),!0;return!1}}]),e}();t.default=f},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(1),s=r(a),u=n(0),l=n(5),c=r(l),f=function(e){var t=new c.default;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(r){var i=r.data;switch(i.cmd){case"init":var a=JSON.parse(i.config);e.demuxer=new o.default(t,i.typeSupported,a,i.vendor);try{(0,u.enableLogs)(!0===a.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(i.data,i.decryptdata,i.initSegment,i.audioCodec,i.videoCodec,i.timeOffset,i.discontinuity,i.trackSwitch,i.contiguous,i.duration,i.accurateTimeOffset,i.defaultInitPTS)}}),t.on(s.default.FRAG_DECRYPTED,n),t.on(s.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(s.default.FRAG_PARSED,n),t.on(s.default.ERROR,n),t.on(s.default.FRAG_PARSING_METADATA,n),t.on(s.default.FRAG_PARSING_USERDATA,n),t.on(s.default.INIT_PTS_FOUND,n),t.on(s.default.FRAG_PARSING_DATA,function(t,n){var r=[],i={event:t,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(i,r)})};t.default=f},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(){function e(t){r(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&o.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,n,r=8,i=8;for(t=0;t<e;t++)0!==i&&(n=this.readEG(),i=(r+n+256)%256),r=0===i?r:i}},{key:"readSPS",value:function(){var e,t,n,r,i,o,a,s=0,u=0,l=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(f(),e=f(),d(5),v(3),f(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),y(),y(),v(1),p())for(o=3!==b?8:12,a=0;a<o;a++)p()&&m(a<6?16:64)}y();var E=h();if(0===E)h();else if(1===E)for(v(1),g(),g(),t=h(),a=0;a<t;a++)g();y(),v(1),n=h(),r=h(),i=d(1),0===i&&v(1),v(1),p()&&(s=h(),u=h(),l=h(),c=h());var _=[1,1];if(p()&&p()){switch(f()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[f()<<8|f(),f()<<8|f()]}}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:_}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6),s=r(a),u=n(0),l=n(12),c=r(l),f=function(){function e(t,n,r){i(this,e),this.observer=t,this.config=r,this.remuxer=n}return o(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){for(var i=s.default.getID3Data(e,0),o=90*s.default.getTimeStamp(i),a=i.length,u=e.length,l=0,f=0,d=this._audioTrack,h=[{pts:o,dts:o,data:i}];a<u;)if(c.default.isHeader(e,a)){var p=c.default.appendFrame(d,e,a,o,l);if(!p)break;a+=p.length,f=p.sample.pts,l++}else s.default.isHeader(e,a)?(i=s.default.getID3Data(e,a),h.push({pts:f,dts:f,data:i}),a+=i.length):a++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,r)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=s.default.getID3Data(e,0);if(r&&void 0!==s.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(c.default.probe(e,t))return u.logger.log("MPEG Audio sync word found !"),!0;return!1}}]),e}();t.default=f},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=Math.pow(2,32)-1,u=function(){function e(t,n){r(this,e),this.observer=t,this.remuxer=n}return i(e,[{key:"resetTimeStamp",value:function(e){this.initPTS=e}},{key:"resetInitSegment",value:function(t,n,r,i){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t),s={};o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:i?t:null}),o.video&&(s.video={container:"video/mp4",codec:r,initSegment:i?t:null}),this.observer.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)}},{key:"append",value:function(t,n,r,i){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),o=this.initData);var s=void 0,u=this.initPTS;if(void 0===u){var l=e.getStartDTS(o,t);this.initPTS=u=l-n,this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:u})}e.offsetStartDTS(o,t,u),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,r,i,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){return["moof","ftyp","styp"].indexOf(e.bin2str(t.subarray(4,8)))>=0}return!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"readUint32",value:function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}},{key:"writeUint32",value:function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}},{key:"findBox",value:function(t,n){var r,i,o,a,s,u,l,c=[];if(t.data?(u=t.start,a=t.end,t=t.data):(u=0,a=t.byteLength),!n.length)return null;for(r=u;r<a;)i=e.readUint32(t,r),o=e.bin2str(t.subarray(r+4,r+8)),l=i>1?r+i:a,o===n[0]&&(1===n.length?c.push({data:t,start:r+8,end:l}):(s=e.findBox({data:t,start:r+8,end:l},n.slice(1)),s.length&&(c=c.concat(s)))),r=l;return c}},{key:"parseInitSegment",value:function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var r=e.findBox(t,["tkhd"])[0];if(r){var i=r.data[r.start],o=0===i?12:20,a=e.readUint32(r,o),s=e.findBox(t,["mdia","mdhd"])[0];if(s){i=s.data[s.start],o=0===i?12:20;var u=e.readUint32(s,o),l=e.findBox(t,["mdia","hdlr"])[0];if(l){var c=e.bin2str(l.data.subarray(l.start+8,l.start+12)),f={soun:"audio",vide:"video"}[c];f&&(n[a]={timescale:u,type:f},n[f]={timescale:u,id:a})}}}}),n}},{key:"getStartDTS",value:function(t,n){var r,i,o;return r=e.findBox(n,["moof","traf"]),i=[].concat.apply([],r.map(function(n){return e.findBox(n,["tfhd"]).map(function(r){var i,o,a;return i=e.readUint32(r,4),o=t[i].timescale||9e4,a=e.findBox(n,["tfdt"]).map(function(t){var n,r;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r})[0],(a=a||1/0)/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0}},{key:"offsetStartDTS",value:function(t,n,r){e.findBox(n,["moof","traf"]).map(function(n){return e.findBox(n,["tfhd"]).map(function(i){var o=e.readUint32(i,4),a=t[o].timescale||9e4;e.findBox(n,["tfdt"]).map(function(t){var n=t.data[t.start],i=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,i-r*a);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=r*a;var o=Math.floor(i/(s+1)),u=Math.floor(i%(s+1));e.writeUint32(t,4,o),e.writeUint32(t,8,u)}})})})}}]),e}();t.default=u},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i,o){r(this,e),this.decryptdata=i,this.discardEPB=o,this.decrypter=new a.default(t,n)}return i(e,[{key:"decryptBuffer",value:function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)}},{key:"decryptAacSample",value:function(e,t,n,r){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),i.set(o,16),r||s.decryptAacSamples(e,t+1,n)})}},{key:"decryptAacSamples",value:function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}},{key:"getAvcDecryptedUnit",value:function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e}},{key:"decryptAvcSample",value:function(e,t,n,r,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(e,t,n+1,r)})}},{key:"decryptAvcSamples",value:function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}}}]),e}();t.default=s},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9),s=r(a),u=n(12),l=r(u),c=n(1),f=r(c),d=n(36),h=r(d),p=n(39),v=r(p),g=n(0),y=n(2),m=function(){function e(t,n,r,o){i(this,e),this.observer=t,this.config=r,this.typeSupported=o,this.remuxer=n,this.sampleAes=null}return o(e,[{key:"setDecryptData",value:function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new v.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null}},{key:"resetInitSegment",value:function(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,duration:r,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){var i,o,a,s,u,l=e.length,c=!1;this.contiguous=n;var d=this.pmtParsed,h=this._avcTrack,p=this._audioTrack,v=this._id3Track,m=h.id,b=p.id,E=v.id,_=this._pmtId,w=h.pesData,k=p.pesData,T=v.pesData,S=this._parsePAT,O=this._parsePMT,L=this._parsePES,P=this._parseAVCPES.bind(this),A=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),C=this._parseID3PES.bind(this);for(l-=l%188,i=0;i<l;i+=188)if(71===e[i]){if(o=!!(64&e[i+1]),a=((31&e[i+1])<<8)+e[i+2],(48&e[i+3])>>4>1){if((s=i+5+e[i+4])===i+188)continue}else s=i+4;switch(a){case m:o&&(w&&(u=L(w))&&P(u,!1),w={data:[],size:0}),w&&(w.data.push(e.subarray(s,i+188)),w.size+=i+188-s);break;case b:o&&(k&&(u=L(k))&&(p.isAAC?A(u):R(u)),k={data:[],size:0}),k&&(k.data.push(e.subarray(s,i+188)),k.size+=i+188-s);break;case E:o&&(T&&(u=L(T))&&C(u),T={data:[],size:0}),T&&(T.data.push(e.subarray(s,i+188)),T.size+=i+188-s);break;case 0:o&&(s+=e[s]+1),_=this._pmtId=S(e,s);break;case _:o&&(s+=e[s]+1);var M=O(e,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);m=M.avc,m>0&&(h.id=m),b=M.audio,b>0&&(p.id=b,p.isAAC=M.isAAC),E=M.id3,E>0&&(v.id=E),c&&!d&&(g.logger.log("reparse from beginning"),c=!1,i=-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(f.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});w&&(u=L(w))?(P(u,!0),h.pesData=null):h.pesData=w,k&&(u=L(k))?(p.isAAC?A(u):R(u),p.pesData=null):(k&&k.size&&g.logger.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=k),T&&(u=L(T))?(C(u),v.pesData=null):v.pesData=T,null==this.sampleAes?this.remuxer.remux(p,h,v,this._txtTrack,t,n,r):this.decryptAndRemux(p,h,v,this._txtTrack,t,n,r)}},{key:"decryptAndRemux",value:function(e,t,n,r,i,o,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,r,i,o,a)})}else this.decryptAndRemuxAvc(e,t,n,r,i,o,a)}},{key:"decryptAndRemuxAvc",value:function(e,t,n,r,i,o,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,r,i,o,a)})}else this.remuxer.remux(e,t,n,r,i,o,a)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,n,r){var i,o,a,s,u={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=(15&e[t+1])<<8|e[t+2],o=t+3+i-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;t<o;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){g.logger.log("unkown stream type:"+e[t]);break}case 15:-1===u.audio&&(u.audio=s);break;case 21:-1===u.id3&&(u.id3=s);break;case 219:if(!r){g.logger.log("unkown stream type:"+e[t]);break}case 27:-1===u.avc&&(u.avc=s);break;case 3:case 4:n?-1===u.audio&&(u.audio=s,u.isAAC=!1):g.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:g.logger.warn("HEVC stream type found, not supported for now");break;default:g.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return u}},{key:"_parsePES",value:function(e){var t,n,r,i,o,a,s,u,l=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;n=t[7],192&n&&(a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,a>4294967295&&(a-=8589934592),64&n?(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,s>4294967295&&(s-=8589934592),a-s>54e5&&(g.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),i=t[8],u=i+9,e.size-=u,o=new Uint8Array(e.size);for(var d=0,h=c.length;d<h;d++){t=c[d];var p=t.byteLength;if(u){if(u>p){u-=p;continue}t=t.subarray(u),p-=u,u=0}o.set(t,l),l+=p}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null}},{key:"pushAccesUnit",value:function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&g.logger.log(e.pts+"/"+e.dts+":"+e.debug)}},{key:"_parseAVCPES",value:function(e,t){var n,r,i,o=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),u=this.avcSample,l=!1,c=this.pushAccesUnit.bind(this),f=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,u&&s.length&&(c(u,a),u=this.avcSample=f(!1,e.pts,e.dts,"")),s.forEach(function(t){switch(t.type){case 1:r=!0,u.frame=!0;var s=t.data;if(l&&s.length>4){var d=new h.default(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(u.key=!0)}break;case 5:r=!0,u||(u=o.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,n=new h.default(o.discardEPB(t.data)),n.readUByte();for(var p=0,v=0,g=!1,y=0;!g&&n.bytesAvailable>1;){p=0;do{y=n.readUByte(),p+=y}while(255===y);v=0;do{y=n.readUByte(),v+=y}while(255===y);if(4===p&&0!==n.bytesAvailable){g=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var m=n.readUByte(),b=n.readUByte(),E=31&m,_=[m,b];for(i=0;i<E;i++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}}}}else if(v<n.bytesAvailable)for(i=0;i<v;i++)n.readUByte()}break;case 7:if(r=!0,l=!0,!a.sps){n=new h.default(t.data);var w=n.readSPS();a.width=w.width,a.height=w.height,a.pixelRatio=w.pixelRatio,a.sps=[t.data],a.duration=o._duration;var k=t.data.subarray(1,4),T="avc1.";for(i=0;i<3;i++){var S=k[i].toString(16);S.length<2&&(S="0"+S),T+=S}a.codec=T}break;case 8:r=!0,a.pps||(a.pps=[t.data]);break;case 9:r=!1,u&&c(u,a),u=o.avcSample=f(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}if(u&&r){u.units.push(t)}}),t&&u&&(c(u,a),this.avcSample=null)}},{key:"_insertSampleInOrder",value:function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var n=this._avcTrack,r=n.samples;e=r[r.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,n,r,i,o,a=0,s=e.byteLength,u=this._avcTrack,l=u.naluState||0,c=l,f=[],d=-1;for(-1===l&&(d=0,o=31&e[0],l=0,a=1);a<s;)if(t=e[a++],l)if(1!==l)if(t)if(1===t){if(d>=0)r={data:e.subarray(d,a-l-1),type:o},f.push(r);else{var h=this._getLastNalUnit();if(h&&(c&&a<=4-c&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-c)),(n=a-l-1)>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(e.subarray(0,n),h.data.byteLength),h.data=p}}a<s?(i=31&e[a],d=a,o=i,l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(d>=0&&l>=0&&(r={data:e.subarray(d,s),type:o,state:l},f.push(r)),0===f.length){var v=this._getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return u.naluState=l,f}},{key:"discardEPB",value:function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n}},{key:"_parseAACPES",value:function(e){var t,n,r,i,o,a=this._audioTrack,u=e.data,l=e.pts,c=this.aacOverFlow,d=this.aacLastPTS;if(c){var h=new Uint8Array(c.byteLength+u.byteLength);h.set(c,0),h.set(u,c.byteLength),u=h}for(r=0,o=u.length;r<o-1&&!s.default.isHeader(u,r);r++);if(r){var p,v;if(r<o-1?(p="AAC PES did not start with ADTS header,offset:"+r,v=!1):(p="no ADTS header found in AAC PES",v=!0),g.logger.warn("parsing error:"+p),this.observer.trigger(f.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.FRAG_PARSING_ERROR,fatal:v,reason:p}),v)return}if(s.default.initTrackConfig(a,this.observer,u,r,this.audioCodec),n=0,t=s.default.getFrameDuration(a.samplerate),c&&d){var m=d+t;Math.abs(m-l)>1&&(g.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-l)/90)),l=m)}for(;r<o;)if(s.default.isHeader(u,r)&&r+5<o){var b=s.default.appendFrame(a,u,r,l,n);if(!b)break;r+=b.length,i=b.sample.pts,n++}else r++;c=r<o?u.subarray(r,o):null,this.aacOverFlow=c,this.aacLastPTS=i}},{key:"_parseMPEGPES",value:function(e){for(var t=e.data,n=t.length,r=0,i=0,o=e.pts;i<n;)if(l.default.isHeader(t,i)){var a=l.default.appendFrame(this._audioTrack,t,i,o,r);if(!a)break;i+=a.length,r++}else i++}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();t.default=m},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(16),s=r(a),u=n(1),l=r(u),c=n(2),f=n(45),d=r(f),h=n(43),p=r(h),v=n(44),g=r(v),y=n(27),m=r(y),b=n(26),E=r(b),_=n(25),w=r(_),k=n(0),T=n(5),S=r(T),O=n(18),L=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var r=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in r)o in n||(n[o]=r[o]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,k.enableLogs)(n.debug),this.config=n,this._autoLevelCapping=-1;var a=this.observer=new S.default;a.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.removeListener.apply(a,[e].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var s=this.abrController=new n.abrController(this),u=new n.bufferController(this),l=new n.capLevelController(this),c=new n.fpsController(this),f=new d.default(this),h=new p.default(this),v=new g.default(this),y=new w.default(this),b=this.levelController=new E.default(this),_=this.streamController=new m.default(this),T=[b,_],O=n.audioStreamController;O&&T.push(new O(this)),this.networkControllers=T;var L=[f,h,v,s,u,l,c,y];if(O=n.audioTrackController){var P=new O(this);this.audioTrackController=P,L.push(P)}if(O=n.subtitleTrackController){var A=new O(this);this.subtitleTrackController=A,L.push(A)}[n.subtitleStreamController,n.timelineController].forEach(function(e){e&&L.push(new e(t))}),this.coreComponents=L}return o(e,null,[{key:"isSupported",value:function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return n&&r}},{key:"version",get:function(){return"__VERSION__"}},{key:"Events",get:function(){return l.default}},{key:"ErrorTypes",get:function(){return c.ErrorTypes}},{key:"ErrorDetails",get:function(){return c.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:O.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),o(e,[{key:"destroy",value:function(){k.logger.log("destroy"),this.trigger(l.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1}},{key:"attachMedia",value:function(e){k.logger.log("attachMedia"),this.media=e,this.trigger(l.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){k.logger.log("detachMedia"),this.trigger(l.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){e=s.default.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),k.logger.log("loadSource:"+e),this.url=e,this.trigger(l.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;k.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})}},{key:"stopLoad",value:function(){k.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})}},{key:"swapAudioCodec",value:function(){k.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){k.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){k.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){k.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){k.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){k.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){k.logger.log("set startLevel:"+e);var t=this;-1!==e&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){k.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,n=e.config.minAutoBitrate,r=t?t.length:0,i=0;i<r;i++){if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>n)return i}return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,n=e.autoLevelCapping;return-1===n&&t&&t.length?t.length-1:n}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();t.default=L},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(2),v=n(0),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.FRAG_LOADING));return n.loaders={},n}return s(t,e),l(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=this.hls.config;t.loaded=0,r&&(v.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var o=void 0,a=void 0,s=void 0;o={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var u=t.byteRangeStartOffset,l=t.byteRangeEndOffset;isNaN(u)||isNaN(l)||(o.rangeStart=u,o.rangeEnd=l),a={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(o,a,s)}},{key:"loadsuccess",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,o=n.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(f.default.FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:r})}},{key:"loaderror",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})}},{key:"loadtimeout",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})}},{key:"loadprogress",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.frag;i.loaded=e.loaded,this.hls.trigger(f.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:r})}}]),t}(h.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(3),h=i(d),p=n(2),v=n(0),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return s(t,e),l(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=t.decryptdata,o=i.uri;if(o!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;r&&(v.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new a.loader(a),this.decrypturl=o,this.decryptkey=null;var s=void 0,u=void 0,l=void 0;s={url:o,frag:t,responseType:"arraybuffer"},u={timeout:a.fragLoadingTimeOut,maxRetry:a.fragLoadingMaxRetry,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,l)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(f.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(f.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),t}(h.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(16),f=i(c),d=n(1),h=i(d),p=n(3),v=i(p),g=n(2),y=n(49),m=i(y),b=n(0),E=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,_=/#EXT-X-MEDIA:(.*)/g,w=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),k=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,T=function(){function e(){s(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return l(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=f.default.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),S=function(){function e(){s(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return l(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&(n=new T,n.method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=f.default.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),O=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.default.MANIFEST_LOADING,h.default.LEVEL_LOADING,h.default.AUDIO_TRACK_LOADING,h.default.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return a(t,e),l(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},v.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var n=this.loaders[t.type];if(n){var r=n.context;if(r&&r.url===e)return void b.logger.trace("playlist request ongoing");b.logger.warn("abort previous loader for type:"+t.type),n.abort()}var i=this.hls.config,o=void 0,a=void 0,s=void 0,u=void 0;"manifest"===t.type?(o=i.manifestLoadingMaxRetry,a=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,u=i.manifestLoadingMaxRetryTimeout):(o=i.levelLoadingMaxRetry,a=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,u=i.levelLoadingMaxRetryTimeout,b.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var l=void 0,c=void 0;l={timeout:a,maxRetry:o,retryDelay:s,maxRetryDelay:u},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,l,c)}},{key:"resolve",value:function(e,t){return f.default.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"parseMasterPlaylist",value:function(e,t){var n=[],r=void 0;for(E.lastIndex=0;null!=(r=E.exec(e));){var i={},o=i.attrs=new m.default(r[1]);i.url=this.resolve(r[2],t);var a=o.decimalResolution("RESOLUTION");a&&(i.width=a.width,i.height=a.height),i.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),i.name=o.NAME;var s=o.CODECS;if(s){s=s.split(/[ ,]+/);for(var u=0;u<s.length;u++){var l=s[u];-1!==l.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(l):-1!==l.indexOf("hvc1")?i.videoCodec=l:i.audioCodec=l}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=void 0,o=[],a=0;for(_.lastIndex=0;null!=(i=_.exec(e));){var s={},u=new m.default(i[1]);u.TYPE===n&&(s.groupId=u["GROUP-ID"],s.name=u.NAME,s.type=n,s.default="YES"===u.DEFAULT,s.autoselect="YES"===u.AUTOSELECT,s.forced="YES"===u.FORCED,u.URI&&(s.url=this.resolve(u.URI,t)),s.lang=u.LANGUAGE,s.name||(s.name=s.lang),r&&(s.audioCodec=r),s.id=a++,o.push(s))}return o}},{key:"avc1toavcoti",value:function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,n,r){var i,o,a=0,s=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},l=new T,c=0,f=null,d=new S;for(w.lastIndex=0;null!==(i=w.exec(e));){var h=i[1];if(h){d.duration=parseFloat(h);var p=(" "+i[2]).slice(1);d.title=p||null,d.tagList.push(p?["INF",h,p]:["INF",h])}else if(i[3]){if(!isNaN(d.duration)){var v=a++;d.type=r,d.start=s,d.levelkey=l,d.sn=v,d.level=n,d.cc=c,d.baseurl=t,d.relurl=(" "+i[3]).slice(1),u.fragments.push(d),f=d,s+=d.duration,d=new S}}else if(i[4]){if(d.rawByteRange=(" "+i[4]).slice(1),f){var g=f.byteRangeEndOffset;g&&(d.lastByteRangeEndOffset=g)}}else if(i[5])d.rawProgramDateTime=(" "+i[5]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]);else{for(i=i[0].match(k),o=1;o<i.length&&void 0===i[o];o++);var y=(" "+i[o+1]).slice(1),E=(" "+i[o+2]).slice(1);switch(i[o]){case"#":d.tagList.push(E?[y,E]:[y]);break;case"PLAYLIST-TYPE":u.type=y.toUpperCase();break;case"MEDIA-SEQUENCE":a=u.startSN=parseInt(y);break;case"TARGETDURATION":u.targetduration=parseFloat(y);break;case"VERSION":u.version=parseInt(y);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":c++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(y);break;case"KEY":var _=y,O=new m.default(_),L=O.enumeratedString("METHOD"),P=O.URI,A=O.hexadecimalInteger("IV");L&&(l=new T,P&&["AES-128","SAMPLE-AES"].indexOf(L)>=0&&(l.method=L,l.baseuri=t,l.reluri=P,l.key=null,l.iv=A));break;case"START":var R=y,C=new m.default(R),M=C.decimalFloatingPoint("TIME-OFFSET");isNaN(M)||(u.startTimeOffset=M);break;case"MAP":var I=new m.default(y);d.relurl=I.URI,d.rawByteRange=I.BYTERANGE,d.baseurl=t,d.level=n,d.type=r,d.sn="initSegment",u.initSegment=d,d=new S;break;default:b.logger.warn("line parsed but not handled: "+i)}}}return d=f,d&&!d.relurl&&(u.fragments.pop(),s-=d.duration),u.totalduration=s,u.averagetargetduration=s/u.fragments.length,u.endSN=a-1,u}},{key:"loadsuccess",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,o=e.url,a=n.type,s=n.id,u=n.level,l=this.hls;if(this.loaders[a]=void 0,void 0!==o&&0!==o.indexOf("data:")||(o=n.url),t.tload=performance.now(),0===i.indexOf("#EXTM3U"))if(i.indexOf("#EXTINF:")>0){var c="audioTrack"!==a&&"subtitleTrack"!==a,f=isNaN(u)?isNaN(s)?0:s:u,d=this.parseLevelPlaylist(i,o,f,"audioTrack"===a?"audio":"subtitleTrack"===a?"subtitle":"main");d.tload=t.tload,"manifest"===a&&l.trigger(h.default.MANIFEST_LOADED,{levels:[{url:o,details:d}],audioTracks:[],url:o,stats:t,networkDetails:r}),t.tparsed=performance.now(),d.targetduration?c?l.trigger(h.default.LEVEL_LOADED,{details:d,level:u||0,id:s||0,stats:t,networkDetails:r}):"audioTrack"===a?l.trigger(h.default.AUDIO_TRACK_LOADED,{details:d,id:s,stats:t,networkDetails:r}):"subtitleTrack"===a&&l.trigger(h.default.SUBTITLE_TRACK_LOADED,{details:d,id:s,stats:t,networkDetails:r}):l.trigger(h.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"invalid targetduration",networkDetails:r})}else{var p=this.parseMasterPlaylist(i,o);if(p.length){var v=this.parseMasterPlaylistMedia(i,o,"AUDIO",p[0].audioCodec),y=this.parseMasterPlaylistMedia(i,o,"SUBTITLES");if(v.length){var m=!1;v.forEach(function(e){e.url||(m=!0)}),!1===m&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(b.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main"}))}l.trigger(h.default.MANIFEST_LOADED,{levels:p,audioTracks:v,subtitles:y,url:o,stats:t,networkDetails:r})}else l.trigger(h.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no level found in manifest",networkDetails:r})}else l.trigger(h.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no EXTM3U delimiter",networkDetails:r})}},{key:"loaderror",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.loader;switch(t.type){case"manifest":n=g.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=g.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=g.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}o&&(o.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:o.url,loader:o,response:e,context:t,networkDetails:i})}},{key:"loadtimeout",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.loader;switch(t.type){case"manifest":n=g.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=g.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=g.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}o&&(o.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:o.url,loader:o,context:t,networkDetails:i})}}]),t}(v.default);t.default=O},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Math.pow(2,32)-1,a=function(){function e(){r(this,e)}return i(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for(t=new Uint8Array(r),t[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;i<o;i++)t.set(n[i],r),r+=n[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){n*=t;var r=Math.floor(n/(o+1)),i=Math.floor(n%(o+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){n*=t;var r=Math.floor(n/(o+1)),i=Math.floor(n%(o+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,o=[],a=[];for(n=0;n<t.sps.length;n++)r=t.sps[n],i=r.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)r=t.pps[n],i=r.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(r/(o+1)),u=Math.floor(r%(o+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(o+1)),s=Math.floor(n%(o+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)i=l[r],o=i.duration,a=i.size,s=i.flags,u=i.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,d)}},{key:"initSegment",value:function(t){e.types||e.init();var n,r=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+r.byteLength),n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(41),s=r(a),u=n(1),l=r(u),c=n(0),f=n(46),d=r(f),h=n(2),p=function(){function e(t,n,r,o){i(this,e),this.observer=t,this.config=n,this.typeSupported=r;var a=navigator.userAgent;this.isSafari=o&&o.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return o(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,o,a){if(this.ISGenerated){if(a){var s=this._initPTS,u=this._PTSNormalize,f=e.inputTimeScale||t.inputTimeScale,d=1/0,h=1/0,p=e.samples;if(p.length&&(d=h=u(p[0].pts-f*i,s)),p=t.samples,p.length){var v=p[0];d=Math.min(d,u(v.pts-f*i,s)),h=Math.min(h,u(v.dts-f*i,s))}if(d!==1/0){var g=s-d;Math.abs(g)>10*f&&(c.logger.warn("timestamp inconsistency, "+(g/f).toFixed(3)+"s delta against expected value: missing discontinuity ? reset initPTS/initDTS"),this._initPTS=d,this._initDTS=h,this.observer.trigger(l.default.INIT_PTS_FOUND,{initPTS:d}))}}}else this.generateIS(e,t,i);if(this.ISGenerated)if(e.samples.length){e.timescale||(c.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,i));var y=this.remuxAudio(e,i,o,a);if(t.samples.length){var m=void 0;y&&(m=y.endPTS-y.startPTS),t.timescale||(c.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,i)),this.remuxVideo(t,i,o,m,a)}}else{var b=void 0;t.samples.length&&(b=this.remuxVideo(t,i,o,a)),b&&e.codec&&this.remuxEmptyAudio(e,i,o,b)}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(l.default.FRAG_PARSED)}},{key:"generateIS",value:function(e,t,n){var r,i,o=this.observer,a=e.samples,s=t.samples,u=this.typeSupported,f="audio/mp4",p={},v={tracks:p},g=void 0===this._initPTS;if(g&&(r=i=1/0),e.config&&a.length&&(e.timescale=e.samplerate,c.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(u.mpeg?(f="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3")),p.audio={container:f,codec:e.codec,initSegment:!e.isAAC&&u.mpeg?new Uint8Array:d.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(r=i=a[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&s.length){var y=t.inputTimeScale;t.timescale=y,p.video={container:"video/mp4",codec:t.codec,initSegment:d.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(r=Math.min(r,s[0].pts-y*n),i=Math.min(i,s[0].dts-y*n),this.observer.trigger(l.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(p).length?(o.trigger(l.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,g&&(this._initPTS=r,this._initDTS=i)):o.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,n,r,i){var o,a,s,u,f,p,v,g=8,y=e.timescale,m=e.samples,b=[],E=m.length,_=this._PTSNormalize,w=this._initDTS,k=this.nextAvcDts,T=this.isSafari;T&&(n|=m.length&&k&&(i&&Math.abs(t-k/y)<.1||Math.abs(m[0].pts-k-w)<y/5)),n||(k=t*y),m.forEach(function(e){e.pts=_(e.pts-w,k),e.dts=_(e.dts-w,k)}),m.sort(function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||(r||e.id-t.id)});var S=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(S<0){c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var O=0;O<m.length;O++)m[O].dts+=S}var L=m[0];f=Math.max(L.dts,0),u=Math.max(L.pts,0);var P=Math.round((f-k)/90);n&&P&&(P>1?c.logger.log("AVC:"+P+" ms hole between fragments detected,filling it"):P<-1&&c.logger.log("AVC:"+-P+" ms overlapping between fragments detected"),f=k,m[0].dts=f,u=Math.max(u-P,k),m[0].pts=u,c.logger.log("Video/PTS/DTS adjusted: "+Math.round(u/90)+"/"+Math.round(f/90)+",delta:"+P+" ms")),L=m[m.length-1],v=Math.max(L.dts,0),p=Math.max(L.pts,0,v),T&&(o=Math.round((v-f)/(m.length-1)));for(var A=0,R=0,C=0;C<E;C++){for(var M=m[C],I=M.units,x=I.length,D=0,F=0;F<x;F++)D+=I[F].data.length;R+=D,A+=x,M.length=D,M.dts=T?f+C*o:Math.max(M.dts,f),M.pts=Math.max(M.pts,M.dts)}var N=R+4*A+8;try{a=new Uint8Array(N)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var j=new DataView(a.buffer);j.setUint32(0,N),a.set(d.default.types.mdat,4);for(var B=0;B<E;B++){for(var U=m[B],G=U.units,H=0,W=void 0,V=0,q=G.length;V<q;V++){var K=G[V],z=K.data,X=K.data.byteLength;j.setUint32(g,X),g+=4,a.set(z,g),g+=X,H+=4+X}if(T)W=Math.max(0,o*Math.round((U.pts-U.dts)/o));else{if(B<E-1)o=m[B+1].dts-U.dts;else{var Y=this.config,Q=U.dts-m[B>0?B-1:B].dts;if(Y.stretchShortVideoTrack){var Z=Y.maxBufferHole,J=Y.maxSeekHole,$=Math.floor(Math.min(Z,J)*y),ee=(r?u+r*y:this.nextAudioPts)-U.pts;ee>$?(o=ee-Q,o<0&&(o=Q),c.logger.log("It is approximately "+ee/90+" ms to the next segment; using duration "+o/90+" ms for the last video frame.")):o=Q}else o=Q}W=Math.round(U.pts-U.dts)}b.push({size:H,duration:o,cts:W,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=v+o;var te=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=b[0].flags;ne.dependsOn=2,ne.isNonSync=0}e.samples=b,s=d.default.moof(e.sequenceNumber++,f,e),e.samples=[];var re={data1:s,data2:a,startPTS:u/y,endPTS:(p+o)/y,startDTS:f/y,endDTS:this.nextAvcDts/y,type:"video",nb:b.length,dropped:te};return this.observer.trigger(l.default.FRAG_PARSING_DATA,re),re}},{key:"remuxAudio",value:function(e,t,n,r){var i,o,a,u,f,p,v,g=e.inputTimeScale,y=e.timescale,m=g/y,b=e.isAAC?1024:1152,E=b*m,_=this._PTSNormalize,w=this._initDTS,k=!e.isAAC&&this.typeSupported.mpeg,T=e.samples,S=[],O=this.nextAudioPts;if(n|=T.length&&O&&(r&&Math.abs(t-O/g)<.1||Math.abs(T[0].pts-O-w)<20*E),n||(O=t*g),T.forEach(function(e){e.pts=e.dts=_(e.pts-w,O)}),T.sort(function(e,t){return e.pts-t.pts}),r&&e.isAAC)for(var L=0,P=O;L<T.length;){var A,R=T[L],C=R.pts;A=C-P;var M=Math.abs(1e3*A/g);if(A<=-E)c.logger.warn("Dropping 1 audio frame @ "+(P/g).toFixed(3)+"s due to "+M+" ms overlap."),T.splice(L,1),e.len-=R.unit.length;else if(A>=E&&M<1e4&&P){var I=Math.round(A/E);c.logger.warn("Injecting "+I+" audio frame @ "+(P/g).toFixed(3)+"s due to "+Math.round(1e3*A/g)+" ms gap.");for(var x=0;x<I;x++){var D=Math.max(P,0);a=s.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=R.unit.subarray()),T.splice(L,0,{unit:a,pts:D,dts:D}),e.len+=a.length,P+=E,L++}R.pts=R.dts=P,P+=E,L++}else Math.abs(A),R.pts=R.dts=P,P+=E,L++}for(var F=0,N=T.length;F<N;F++){var j=T[F],B=j.unit,U=j.pts;if(void 0!==v)o.duration=Math.round((U-v)/m);else{var G=Math.round(1e3*(U-O)/g),H=0;if(n&&e.isAAC&&G){if(G>0&&G<1e4)H=Math.round((U-O)/E),c.logger.log(G+" ms hole between AAC samples detected,filling it"),H>0&&(a=s.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(a=B.subarray()),e.len+=H*a.length);else if(G<-12){c.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(O/g).toFixed(3)+"s/"+(U/g).toFixed(3)+"s/"+-G+"ms"),e.len-=B.byteLength;continue}U=O}if(p=Math.max(0,U),!(e.len>0))return;var W=k?e.len:e.len+8;i=k?0:8;try{u=new Uint8Array(W)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:W,reason:"fail allocating audio mdat "+W})}if(!k){new DataView(u.buffer).setUint32(0,W),u.set(d.default.types.mdat,4)}for(var V=0;V<H;V++)a=s.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=B.subarray()),u.set(a,i),i+=a.byteLength,o={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(o)}u.set(B,i);var q=B.byteLength;i+=q,o={size:q,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(o),v=U}var K=0,z=S.length;if(z>=2&&(K=S[z-2].duration,o.duration=K),z){this.nextAudioPts=O=v+m*K,e.len=0,e.samples=S,f=k?new Uint8Array:d.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var X=p/g,Y=O/g,Q={data1:f,data2:u,startPTS:X,endPTS:Y,startDTS:X,endDTS:Y,type:"audio",nb:z};return this.observer.trigger(l.default.FRAG_PARSING_DATA,Q),Q}return null}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var i=e.inputTimeScale,o=e.samplerate?e.samplerate:i,a=i/o,u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*i)+this._initDTS,f=r.endDTS*i+this._initDTS,d=1024*a,h=Math.ceil((f-l)/d),p=s.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(c.logger.warn("remux empty Audio"),!p)return void c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var v=[],g=0;g<h;g++){var y=l+g*d;v.push({unit:p,pts:y,dts:y}),e.len+=p.length}e.samples=v,this.remuxAudio(e,t,n)}},{key:"remuxID3",value:function(e,t){var n,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(r){for(var s=0;s<r;s++)n=e.samples[s],n.pts=(n.pts-o)/i,n.dts=(n.dts-a)/i;this.observer.trigger(l.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var n,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS;if(r){for(var a=0;a<r;a++)n=e.samples[a],n.pts=(n.pts-o)/i;this.observer.trigger(l.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}}]),e}();t.default=p},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){r(this,e),this.observer=t}return i(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,n,r,i,o,s,u){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(a.default.FRAG_PARSING_DATA,{data1:u,startPTS:i,startDTS:i,type:c,nb:1,dropped:0}),l.trigger(a.default.FRAG_PARSED)}}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,s=function(){function e(t){r(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return i(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=o.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(a.lastIndex=0;null!==(t=a.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n}}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},s=15,u=100,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},v=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},g=function(){function e(t,n,i,o,a){r(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=i||!1,this.background=o||"black",this.flash=a||!1}return i(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),y=function(){function e(t,n,i,o,a,s){r(this,e),this.uchar=t||" ",this.penState=new g(n,i,o,a,s)}return i(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){r(this,e),this.chars=[];for(var t=0;t<u;t++)this.chars.push(new y);this.pos=0,this.currPenState=new g}return i(e,[{key:"equals",value:function(e){for(var t=!0,n=0;n<u;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<u;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<u;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>u&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=u)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){e>=144&&this.backSpace();var t=a(e);if(this.pos>=u)return void p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<u;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;n<u;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),b=function(){function e(){r(this,e),this.rows=[];for(var t=0;t<s;t++)this.rows.push(new m);this.currRow=s-1,this.nrRollUpRows=null,this.reset()}return i(e,[{key:"reset",value:function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=s-1}},{key:"equals",value:function(e){for(var t=!0,n=0;n<s;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){p.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<s;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&o<p.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(i.rows[r+a])}}this.currRow=t;var u=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,c=Math.max(l-1,0);u.setCursor(e.indent),e.color=u.chars[c].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)}},{key:"setBkgData",value:function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void p.log("DEBUG","roll_up but nrRollUpRows not set yet");p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<s;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),E=function(){function e(t,n){r(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return i(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=p.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),_=function(){function e(t,n,i){r(this,e),this.field=t||1,this.outputs=[n,i],this.channels=[new E(1,n),new E(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return i(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,o=!1;this.lastTime=e,p.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(p.log("DATA","["+v([t[a],t[a+1]])+"] -> ("+v([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+v([r,i])+" orig: "+v([t[a],t[a+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var n=null,r=(20===e||28===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+v([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"parseMidrow",value:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+v([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var n=null,r=null,i=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,o=(16===e||24===e)&&64<=t&&t<=95;if(!i&&!o)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?l[e]:f[e]:1===n?c[e]:d[e];var a=this.interpretPAC(r,t);return this.channels[n-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"interpretPAC",value:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),17<=i&&i<=19){var o=t;o=17===i?t+80:18===i?t+112:t+144,p.log("INFO","Special char '"+a(o)+"' in channel "+n),r=[o]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=v(r);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(e,t){var n,r,i,o,a=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!a&&!s)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=h[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();t.default=_},function(e,t,n){var r=n(15),i={newCue:function(e,t,n,i){for(var o,a,s,u,l,c=window.VTTCue||window.TextTrackCue,f=0;f<i.rows.length;f++)if(o=i.rows[f],s=!0,u=0,l="",!o.isEmpty()){for(var d=0;d<o.chars.length;d++)o.chars[d].uchar.match(/\s/)&&s?u++:(l+=o.chars[d].uchar,s=!1);o.cueStartTime=t,t===n&&(n+=1e-4),a=new c(t,n,(0,r.fixLineBreaks)(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=f+1:a.line=f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}};e.exports=i},function(e,t,n){function r(e,t){return o.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}Object.defineProperty(t,"__esModule",{value:!0}),t.findFragWithCC=r;var i=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(54),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i,o){r(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new a.default(n),this.fast_=new a.default(i)}return i(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var n=8e3*t/e,r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return i(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function r(r,o,a){var s=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",f=!1,d=r,h=o,p=a,v=null,g="",y=!0,m="auto",b="start",E=50,_="middle",w=50,k="middle";if(Object.defineProperty(s,"id",n({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return f},set:function(e){f=!!e}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return v},set:function(e){v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return g},set:function(t){var n=e(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==i)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return b},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");b=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return _},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");_=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return k},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");k=n,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var i="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return r.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},r}()},function(e,t,n){var r=n(15),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e,t,n){return e.substr(n||0,t.length)===t},a=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)?-1:(t+=1e3*n,t+=6e4*r,t+=36e5*i)},s=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},u=function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)e.ccOffset+=r.start-i.start,r.new=!1,r=i,i=e[r.prevCC];e.presentationOffset=n},l={parse:function(e,t,n,r,l,c){var f=/\r\n|\n\r|\n|\r/g,d=String.fromCharCode.apply(null,new Uint8Array(e)).trim().replace(f,"\n").split("\n"),h="00:00.000",p=0,v=0,g=0,y=[],m=void 0,b=!0,E=new i.default;E.oncue=function(e){var t=n[r],i=n.ccOffset;t&&t.new&&(void 0!==v?i=n.ccOffset=t.start:u(n,r,g)),g&&(i=g+n.ccOffset-n.presentationOffset),e.startTime+=i-v,e.endTime+=i-v,e.id=s(e.startTime)+s(e.endTime)+s(e.text),e.text=decodeURIComponent(escape(e.text)),e.endTime>0&&y.push(e)},E.onparsingerror=function(e){m=e},E.onflush=function(){if(m&&c)return void c(m);l(y)},d.forEach(function(e){if(b){if(o(e,"X-TIMESTAMP-MAP=")){b=!1,e.substr(16).split(",").forEach(function(e){o(e,"LOCAL:")?h=e.substr(6):o(e,"MPEGTS:")&&(p=parseInt(e.substr(7)))});try{t=t<0?t+8589934592:t,p-=t,v=a(h)/1e3,g=p/9e4,-1===v&&(m=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){m=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(b=!1)}E.parse(e+"\n")}),E.flush()}};e.exports=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(){function e(t){r(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(n){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,i=this.context,a=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=t.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,l=void 0;"arraybuffer"===i.responseType?(u=t.response,l=u.byteLength):(u=t.responseText,l=u.length),r.loaded=r.total=l;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,r,i,t)}else r.retry>=a.maxRetry||s>=400&&s<499?(o.logger.error(s+" while loading "+i.url),this.callbacks.onError({code:s,text:t.statusText},i,t)):(o.logger.warn(s+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)}},{key:"loadtimeout",value:function(){o.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)}},{key:"loadprogress",value:function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)}}]),e}();t.default=a},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(e,t){function n(e){g[e]=!0;for(var t in i[e][1]){var r=i[e][1][t];g[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;l<c;l++){var f=u[l],d=o[f].exports;if(d===e||d&&d.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},l=0,c=u.length;l<c;l++){var f=u[l];h[f]=f}i[s]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[s]=s,i[p]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),v];var g={};n(p);var y="("+r+")({"+Object.keys(g).map(function(e){return a(e)+":["+i[e][0]+","+a(i[e][1])+"]"}).join(",")+"},{},["+a(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return b;var E=m.createObjectURL(b),_=new Worker(E);return _.objectURL=E,_}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(42),f=i(c),d=n(61),h=i(d),p=n(66),v=i(p),g=n(65),y=i(g),m=function(e){function t(e,n,r){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.maxErrors=i.config.maxErrors||5,i.dvrThreshold=i.config.dvrThreshold||300,i.hls=null,i.hlsVersion=f.default.version,i.manifestParsed=!1,i.audioMode=!1,i.metadata=[],i.previousMetadata=null,i.next=r,i.previousLevel=-1,i.lowestLevel=0,i.amountOfErrors=0,i.recoverDecodingErrorDate=null,i.recoverSwapAudioCodecDate=null,i}return s(t,e),u(t,[{key:"isItemSupported",value:function(e){var t=this;return new Promise(function(n){return n("m3u8"!==e.type&&"m3u"!==e.type?{supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE}:t.config.disabled||!f.default.isSupported()||t.meister.browser.isSamsung&&!window.MediaSource||t.meister.browser.isiOS&&t.config.iosMobileDisabled?{supported:!1,errorCode:Meister.ErrorCodes.NOT_SUPPORTED}:e.drm||e.drmConfig?{supported:!1,errorCode:Meister.ErrorCodes.NO_DRM}:{supported:!0})})}},{key:"resetPrivates",value:function(){this.metadata=[],this.previousMetadata=null,this.manifestParsed=!1,this.previousLevel=-1,this.lowestLevel=0,this.mediaDuration=0,this.item=null}},{key:"process",value:function(e){var t=this;return this.next(e).then(function(e){return t.player=t.meister.getPlayerByType("html5",e),t.meister.config.audioOnly||"audio"===e.mediaType?t.audioMode=!0:t.audioMode=!1,e}).catch(function(e){console.error("Something went wrong while processing middlewares. "+e)})}},{key:"load",value:function(e){var n=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e),this.item=e;var r=Number.isFinite(e.startPosition)&&e.startPosition>0?e.startPosition:-1;return new Promise(function(t){var i=n.player.mediaElement,o={autoStartLoad:!1};e.Hls&&e.Hls.fineTuning&&(o=Object.assign(o,e.Hls.fineTuning)),n.hls=new f.default(o),n.on("playerError",n.onPlayerError.bind(n)),n.on("requestBitrate",n.onRequestBitrate.bind(n)),n.on("requestGoLive",function(){return n.onRequestGoLive()}),n.hls.on(f.default.Events.MANIFEST_LOADED,function(e,i){if(n.audioMode){for(var o=!0,a=0;a<i.levels.length;a++){if(i.levels[a].videoCodec){o=!1;break}}if(o)n.meister.config.autoplay?n.hls.startLoad(r):n.one("requestPlay",function(){if(n.manifestParsed)n.hls.startLoad(r);else{var e=function e(){n.hls.startLoad(r),n.hls.off(f.default.Events.MANIFEST_PARSED,e)};n.hls.on(f.default.Events.MANIFEST_PARSED,e)}}),t();else for(var s=0;s<i.levels.length;s++){var u=i.levels[s];if(!u.videoCodec)return void n.hls.loadSource(u.url[0])}}!n.audioMode&&n.meister.config.autoplay&&n.hls.startLoad(r),n.config.splashTitle&&n.meister.trigger("uiEvent",{type:"splash",info:{title:n.config.splashTitle,description:n.config.splashDescription,thumbnailURL:n.config.splashThumbnail}})}),n.hls.on(f.default.Events.MANIFEST_PARSED,function(e,t){n.onManifestParsed(t.levels,t.firstLevel)}),n.hls.on(f.default.Events.LEVEL_LOADED,function(e,t){var r=t.details.live,i=!1;n.mediaDuration=t.details.totalduration,r&&n.mediaDuration>n.dvrThreshold&&(i=!0),n.config.dvrEnabled||(i=!1),n.meister.trigger("itemTimeInfo",{hasDVR:i,isLive:r,duration:n.mediaDuration})}),n.hls.on(f.default.Events.FRAG_PARSING_METADATA,function(e,t){n.processMetadata(t)}),n.hls.on(f.default.Events.LEVEL_SWITCH,n.onQualityChanged.bind(n)),n.hls.attachMedia(i),n.hls.loadSource(e.src),n.hls.on(f.default.Events.ERROR,function(e,t){return n.onError(e,t)}),n.meister.config.autoplay?(n.config.disableVisibilitySwitch||n.on("windowVisibilityChange",n.visibilityChange.bind(n)),t()):n.audioMode||(n.one("requestPlay",function(){if(n.manifestParsed)n.hls.startLoad(r);else{var e=function e(){n.hls.startLoad(r),n.hls.off(f.default.Events.MANIFEST_PARSED,e)};n.hls.on(f.default.Events.MANIFEST_PARSED,e)}n.config.disableVisibilitySwitch||n.on("windowVisibilityChange",function(e){return n.visibilityChange(e)})}),t())})}},{key:"playerLoadedMetadata",value:function(){}},{key:"onQualityChanged",value:function(e,t){if(this.hls.autoLevelEnabled){var n=this.hls.levels[t.level].bitrate;this.meister.trigger("playerAutoSwitchBitrate",{newBitrate:n,newBitrateIndex:t.level})}}},{key:"_onPlayerTimeUpdate",value:function(){var e=this.player.duration-this.mediaDuration;this.meister.trigger("playerTimeUpdate",{currentTime:this.player.currentTime-e,duration:this.mediaDuration}),0!==this.amountOfErrors&&(this.amountOfErrors-=1),this.broadcastTitle()}},{key:"_onPlayerSeek",value:function(){var e=this.player.duration-this.mediaDuration,t=this.player.currentTime-e,n=this.mediaDuration,r=t/n;this.meister.trigger("playerSeek",{relativePosition:r,currentTime:t,duration:n})}},{key:"onRequestSeek",value:function(e){var t=void 0;if(Number.isFinite(e.relativePosition)){var n=this.player.duration-this.mediaDuration;t=this.mediaDuration*e.relativePosition+n}else if(Number.isFinite(e.timeOffset))t=this.player.currentTime+e.timeOffset;else if(Number.isFinite(e.targetTime)){var r=this.player.duration-this.mediaDuration;t=e.targetTime+r}!e.forcedStart&&this.blockSeekForward&&t>this.player.currentTime||Number.isFinite(t)&&(this.player.currentTime=t)}},{key:"onRequestGoLive",value:function(){var e=this.player.duration,t=this.hls.levels[this.hls.currentLevel].details.targetduration,n=this.hls.config.liveSyncDurationCount,r=t*n,i=e-r;this.player.currentTime=i}},{key:"processMetadata",value:function(e){try{var t=(0,y.default)(e.samples[0].data);this.meister.trigger("id3Tags",t)}catch(e){console.error(e)}var n=h.default.parse(e);if(n){for(var r=this.metadata.length-1;r>=0;r--){var i=this.metadata[r];if(n.title===i.title)return void(i.end=n.end)}this.metadata.push(n)}}},{key:"broadcastTitle",value:function(){var e=this.player.currentTime;if(!(this.previousMetadata&&this.previousMetadata.start<e&&e<this.previousMetadata.end)){var t=this.currentlyPlaying;this.previousMetadata&&t.title===this.previousMetadata.title||(this.previousMetadata=t,this.meister.trigger("itemMetadata",{title:t.title}))}}},{key:"onManifestParsed",value:function(e){if(this.manifestParsed=!0,0!==e.length&&!this.audioMode){for(var t=e[0].bitrate,n=0;n<e.length;n++){var r=e[n];r.bitrate<t&&(t=r.bitrate,this.lowestLevel=n)}var i=[];i.push({bitrate:0,index:-1});for(var o=0;o<e.length;o++){var a=e[o];i.push({bitrate:a.bitrate,index:o})}this.meister.trigger("itemBitrates",{bitrates:i,currentIndex:-1})}}},{key:"onRequestBitrate",value:function(e){if(this.hls.nextLevel=e.bitrateIndex,-1!==e.bitrateIndex){var t=this.hls.levels[e.bitrateIndex].bitrate;this.meister.trigger("playerSwitchBitrate",{newBitrate:t,newBitrateIndex:e.bitrateIndex})}}},{key:"visibilityChange",value:function(e){"visible"===e.visibility?this.hls.nextLevel=this.previousLevel:"hidden"===e.visibility&&(this.hls.autoLevelEnabled?this.previousLevel=-1:this.previousLevel=this.hls.currentLevel,this.hls.nextLevel=this.lowestLevel)}},{key:"recoverFromMediaError",value:function(){var e=performance.now();!this.recoverDecodingErrorDate||e-this.recoverDecodingErrorDate>3e3?(this.recoverDecodingErrorDate=performance.now(),console.warn("Fatal error in Hls. Will attempt to recover."),this.hls.recoverMediaError(),this.hls.startLoad(),this.meister.trigger("requestPlay")):(!this.recoverSwapAudioCodecDate||e-this.recoverSwapAudioCodecDate>3e3)&&(this.recoverSwapAudioCodecDate=performance.now(),console.warn("Fatal error in Hls. Will attempt to swap audio codecs."),this.hls.swapAudioCodec(),this.hls.recoverMediaError(),this.hls.startLoad(),this.meister.trigger("requestPlay"))}},{key:"onError",value:function(e,t){this.amountOfErrors+=1,console.warn("Error in "+this.name+", type: "+t.details+", will attempt to recover. Errors thrown: "+this.amountOfErrors),t.fatal&&(console.error("Can not recover from "+t.type+": "+t.details+"."),t.type===f.default.ErrorTypes.NETWORK_ERROR&&this.meister.error("Network error","HLS-0001",t.details),t.type===f.default.ErrorTypes.MEDIA_ERROR&&this.config.autoRecoverMode&&this.recoverFromMediaError()),this.amountOfErrors===this.maxErrors&&(this.meister.pause(),this.meister.error("Too many errors, exceeded maximum","HLS-0002",t.details))}},{key:"onPlayerError",value:function(e){e.code===e.MEDIA_ERR_DECODE&&this.config.autoRecoverMode&&this.recoverFromMediaError()}},{key:"unload",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.resetPrivates(),this.hls&&this.hls.media&&this.hls.detachMedia(),this.hls&&this.hls.destroy()}},{key:"destroy",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.hls&&this.hls.destroy()}},{key:"duration",get:function(){return this.hls?this.mediaDuration:NaN}},{key:"currentTime",get:function(){if(!this.hls||!this.player)return NaN;var e=this.player.duration-this.mediaDuration;return this.player.currentTime-e},set:function(e){if(this.hls&&this.player){var t=this.player.duration-this.mediaDuration;this.player.currentTime=e+t}}},{key:"currentItem",get:function(){var e=this.currentlyPlaying;return{src:this.item.src,type:this.item.type,title:e.title,bitrate:e.bitrate}}},{key:"currentlyPlaying",get:function(){if(!this.hls||!this.hls.levels)return{bitrate:0,title:""};for(var e=this.hls.currentLevel,t={bitrate:this.hls.levels[e]?this.hls.levels[e].bitrate:0,title:""},n=null,r=this.player.currentTime,i=this.metadata.length-1;i>=0;i--)if(this.metadata[i].start<r&&r<this.metadata[i].end){n=this.metadata[i];break}return n&&(t.title=n.title,t.start=n.start,t.end=n.end,t.duration=n.end-n.start),t}}],[{key:"pluginName",get:function(){return"Hls"}},{key:"pluginVersion",get:function(){return v.default.version}}]),t}(Meister.MediaPlugin);Meister.registerPlugin("hls",m),Meister.registerPlugin(m.pluginName,m),t.default=m},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(62),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e)}return i(e,null,[{key:"parse",value:function(t){for(var n=[],r=0;r<t.samples.length;r++){var i=t.samples[r];n.push({data:e.toChar(i.data),pts:t.samples[r].pts})}if(n.length){if(-1===n[0].data.indexOf("<?xml"))return null;n[0].data=n[0].data.substring(n[0].data.indexOf("<?xml")),n[0].data=n[0].data.replace(" & "," &amp; ");var o={};o.data=a.default.parse(n[0].data),o.title=o.data.artistName+" - "+o.data.titleName,o.start=n[0].pts;var s=parseInt(o.data.duration)/1e3;return o.end=o.start+s,o}return n}},{key:"toChar",value:function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+=String.fromCharCode(r)}return t}}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(63),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e)}return i(e,null,[{key:"parse",value:function(e){for(var t=a.default.parse(e),n=t.getElementsByTagName("dict")[0],r=a.default.getChildren(n),i="",o={},s=0;s<r.length;s++){var u=r[s];"key"===u.tagName?i=u.textContent:o[i]=u.textContent}return o}}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"parse",value:function(e){var t=function(){};if(void 0!==window.DOMParser)t=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");t=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}}return t(e)}},{key:"getChildren",value:function(e){if(void 0===e.children){for(var t=e.childNodes,n=[],r=1;r<t.length;r+=2)n.push(t[r]);return n}return e.children}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.data=n,this.key=t,this.type="org.id3",this.startTime=i,this.endTime=o};t.default=i},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=!0;return l.forEach(function(n,r){n!==e[r]&&(t=!1)}),t}function o(e){return!!e.find(function(e){return e===p})}function a(e){if(!i(e.slice(0,3)))throw new Error("Invalid ID3 tag");var t=Array.from(e),n=(t.splice(0,c),[]);do{var a=t.splice(0,f),s=t.splice(0,d).reduce(function(e,t){return e+t}),l=t.splice(0,h),p=t.splice(0,s);o(a)||n.push({key:String.fromCharCode.apply(String,r(a)),value:new Uint8Array(p).buffer,flags:l})}while(t.length>0);return n.map(function(e){return new u.default(e.key,e.value)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(64),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=new Uint8Array([73,68,51]),c=10,f=4,d=4,h=2,p=255},function(e,t){e.exports={name:"@meisterplayer/plugin-hls",version:"5.4.0",description:"Meister plugin wrapping the hls.js player.",main:"dist/Hls.js",keywords:["meister","video","plugin"],repository:{type:"git",url:"https://github.com/meisterplayer/media-hls.git"},author:"Triple",license:"Apache-2.0",dependencies:{"hls.js":"0.7.11","url-toolkit":"^2.0.1",webworkify:"^1.4.0"},devDependencies:{"meister-js-dev":"^3.1.0","meister-gulp-webpack-tasks":"^1.0.6","babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1"},peerDependencies:{"@meisterplayer/meisterplayer":">= 5.1.0"}}},function(e,t,n){e.exports=n(17)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=5)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(2),f=i(c),d=n(3),h=i(d),p=n(4),v=i(p),g=200,y=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.config.enableKeyBoardShortcuts=void 0===r.config.enableKeyBoardShortcuts||r.config.enableKeyBoardShortcuts,r.isLoaded=!1,r.seekToWhenLoaded=null,r.bufferingMonitor=null,r.CHECK_INTERVAL=r.config.checkInterval||g,r.lastPlayPos=0,r.buffering=!1,r.playerPlayEvent=null,r.playerPauseEvent=null,r}return s(t,e),u(t,[{key:"isTypeSupported",value:function(e){return"html5"===e}},{key:"preloadContent",value:function(){return Promise.resolve()}},{key:"load",value:function(e){var n=this;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e),this.mediaElement=document.createElement("video"),(this.meister.config.audioOnly||"audio"===e.mediaType)&&(this.backgroundImage=document.createElement("div"),this.defaultImageUrl=this.meister.config.defaultAudioImage||"",this.backgroundImage.style["background-image"]="url("+this.defaultImageUrl+")",this.backgroundImage.setAttribute("class","pf-audio-image"),this.wrapper.appendChild(this.backgroundImage),this.mediaElement=document.createElement("audio")),this.mediaElement.width=this.config.width,this.mediaElement.height=this.config.height,this.mediaElement.setAttribute("class",this.meister.config.playerClass),this.config.posterImage&&this.mediaElement.setAttribute("poster",this.config.posterImage),this.meister.config.iosPlaysInline&&this.mediaElement.setAttribute("playsinline",!0),this.mediaElement.muted=this.meister.config.startMuted,this.wrapper.appendChild(this.mediaElement),this.meister.on("playerPlay",function(){if(n.shouldTriggerReplay)return n.meister.trigger("playerReplay",{}),void(n.shouldTriggerReplay=!1);n.firstPlayTriggered||(n.firstPlayTriggered=!0,n.meister.trigger("playerFirstPlay",{}))}),this.mediaElement.addEventListener("play",function(){n.meister.trigger("playerPlay",n.playerPlayEvent),n.playerPlayEvent=null}),this.mediaElement.addEventListener("pause",function(){n.meister.trigger("playerPause",n.playerPauseEvent),n.playerPauseEvent=null}),this.mediaElement.addEventListener("playing",function(){return n.meister.trigger("playerPlaying")}),this.mediaElement.addEventListener("ended",function(){n.shouldTriggerReplay=!0,n.meister.trigger("playerEnd")}),this.mediaElement.addEventListener("error",function(){n.mediaElement.networkState===HTMLMediaElement.NETWORK_NO_SOURCE&&n.meister.error("Media not found",Meister.ErrorCodes.NO_MEDIA_FOUND),n.meister.trigger("playerError",{mediaError:n.mediaElement.error})}),this.mediaElement.addEventListener("seeked",function(){return n.meister.trigger("_playerSeek")}),this.mediaElement.addEventListener("seeking",function(){return n.meister.trigger("playerSeeking")}),this.mediaElement.addEventListener("timeupdate",function(){return n.meister.trigger("_playerTimeUpdate")}),this.mediaElement.addEventListener("progress",function(){return n.meister.trigger("playerProgress",n.mediaElement)}),this.mediaElement.addEventListener("loadedmetadata",function(){return n.meister.trigger("playerLoadedMetadata")}),this.mediaElement.addEventListener("durationchange",function(){return n.meister.trigger("playerDurationChange")}),this.mediaElement.addEventListener("volumechange",function(){return n.meister.trigger("playerVolumeChange")}),this.mediaElement.addEventListener("canplay",function(){return n.meister.trigger("playerCanPlay")}),this.mediaElement.addEventListener("loadedmetadata",function(){n.isLoaded=!0,n.seekToWhenLoaded&&(n.currentTime=n.seekToWhenLoaded,n.seekToWhenLoaded=null)}),this.config.enableKeyBoardShortcuts){var r=new h.default(this.meister.container,this.meister.eventHandler);r.onKey([f.default.Space,f.default.Pause,f.default.PlayPause,f.default.Stop],this.onSpace.bind(this)),r.onKey(f.default.NextTrack,this.nextTrack.bind(this)),r.onKey(f.default.PreviousTrack,this.previousTrack.bind(this)),r.onKey(f.default.ArrowLeft,this.seekBack.bind(this)),r.onKey(f.default.ArrowRight,this.seekForward.bind(this)),r.onKey(f.default.KeyF,this.onKeyF.bind(this))}this.bufferingMonitor=setInterval(this.monitorBuffering.bind(this),this.CHECK_INTERVAL),this.on("itemLoaded",this.onItemLoaded.bind(this)),this.on("itemUnloaded",this.onItemUnloaded.bind(this)),this.meister.on("itemTimeInfo",function(e){n.isLive=e.isLive}),this.meister.trigger("playerCreated")}},{key:"onItemLoaded",value:function(e){e.item.crossorigin?this.mediaElement.setAttribute("crossorigin",e.item.crossorigin):this.mediaElement.removeAttribute("crossorigin"),(this.meister.config.audioOnly||"audio"===e.item.mediaType)&&(e.item.backgroundImage?this.backgroundImage.style["background-image"]="url("+e.item.backgroundImage+")":this.backgroundImage.style["background-image"]="url("+this.defaultImageUrl+")")}},{key:"onItemUnloaded",value:function(){this.canNudge=0,this.firstPlayTriggered=!1}},{key:"monitorBuffering",value:function(){var e=this.mediaElement.currentTime,t=1/this.CHECK_INTERVAL;this.mediaElement.paused||(this.meister.browser.isSamsung&&this.mediaElement.readyState===this.mediaElement.HAVE_ENOUGH_DATA&&0===e?this.meister.trigger("playerBufferedEnough"):!this.buffering&&e<this.lastPlayPos+t?(this.buffering=!0,this.meister.trigger("playerBuffering"),this.meister.trigger("showLoading",{code:"VIDEO_BUFFERING"})):this.buffering&&e>this.lastPlayPos+t&&(this.buffering=!1,this.meister.trigger("playerBufferedEnough"))),this.lastPlayPos=e}},{key:"unload",value:function(){clearInterval(this.bufferingMonitor),this.mediaElement&&this.mediaElement.remove(),this.meister.trigger("playerDestroyed"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this)}},{key:"play",value:function(e){var t=this;if(this.playerPlayEvent=e,this.mediaElement){var n=this.mediaElement.play();n&&n.catch(function(e){-1===e.message.indexOf("call to pause")&&setTimeout(function(){t.play()},100)})}}},{key:"pause",value:function(e){this.playerPauseEvent=e,this.mediaElement&&this.mediaElement.pause()}},{key:"isPauseDisabled",value:function(){return this.isLive&&this.meister.config.disablePauseWithLive}},{key:"onSpace",value:function(e){e.preventDefault(),this.isPauseDisabled()||(!0===this.meister.playing?this.meister.pause():this.meister.play())}},{key:"nextTrack",value:function(e){e.preventDefault(),this.meister.trigger("playlistNext")}},{key:"previousTrack",value:function(e){e.preventDefault(),this.meister.trigger("playlistPrevious")}},{key:"seekBack",value:function(e){e.preventDefault(),this.isPauseDisabled()||this.meister.trigger("requestSeek",{timeOffset:-5})}},{key:"seekForward",value:function(e){e.preventDefault(),this.isPauseDisabled()||this.meister.trigger("requestSeek",{timeOffset:5})}},{key:"onKeyF",value:function(e){e.preventDefault(),this.meister.isFullscreen?this.meister.cancelFullscreen():this.meister.requestFullscreen()}},{key:"currentSrc",set:function(e){this.mediaElement&&(this.isLoaded=!1,this.mediaElement.src=e)},get:function(){return this.mediaElement?this.mediaElement.src:null}},{key:"volume",get:function(){return this.mediaElement?this.mediaElement.volume:null},set:function(e){this.mediaElement&&(this.mediaElement.volume=e)}},{key:"muted",get:function(){return this.mediaElement?this.mediaElement.muted:null},set:function(e){this.mediaElement&&(this.mediaElement.muted=e)}},{key:"duration",get:function(){return this.mediaElement?this.mediaElement.duration:null}},{key:"playing",get:function(){return this.mediaElement?!this.mediaElement.paused:null}},{key:"currentTime",get:function(){return this.mediaElement?this.mediaElement.currentTime:null},set:function(e){this.mediaElement&&(this.isLoaded?this.mediaElement.currentTime=e:this.seekToWhenLoaded=e)}}],[{key:"pluginName",get:function(){return"Html5Player"}},{key:"pluginVersion",get:function(){return v.default.version}}]),t}(Meister.PlayerPlugin);Meister.registerPlugin(y.pluginName,y),t.default=y},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"F1",get:function(){return 112}},{key:"F2",get:function(){return 113}},{key:"F3",get:function(){return 114}},{key:"F4",get:function(){return 115}},{key:"F5",get:function(){return 116}},{key:"F6",get:function(){return 117}},{key:"F7",get:function(){return 118}},{key:"F8",get:function(){return 118}},{key:"F9",get:function(){return 119}},{key:"F10",get:function(){return 120}},{key:"F11",get:function(){return 121}},{key:"F12",get:function(){return 122}},{key:"Digit1",get:function(){return 49}},{key:"Digit2",get:function(){return 50}},{key:"Digit3",get:function(){return 51}},{key:"Digit4",get:function(){return 52}},{key:"Digit5",get:function(){return 53}},{key:"Digit6",get:function(){return 54}},{key:"Digit7",get:function(){return 55}},{key:"Digit8",get:function(){return 56}},{key:"Digit9",get:function(){return 57}},{key:"Digit0",get:function(){return 48}},{key:"Minus",get:function(){return 189}},{key:"Equal",get:function(){return 187}},{key:"Comma",get:function(){return 188}},{key:"Period",get:function(){return 190}},{key:"Slash",get:function(){return 191}},{key:"Dash",get:function(){return 189}},{key:"Semicolon",get:function(){return 186}},{key:"Quote",get:function(){return 222}},{key:"BracketLeft",get:function(){return 219}},{key:"BracketRight",get:function(){return 221}},{key:"Backquote",get:function(){return 192}},{key:"Accent",get:function(){return 192}},{key:"BackSlash",get:function(){return 220}},{key:"Home",get:function(){return 36}},{key:"End",get:function(){return 35}},{key:"PageUp",get:function(){return 33}},{key:"PageDown",get:function(){return 34}},{key:"ArrowRight",get:function(){return 39}},{key:"ArrowDown",get:function(){return 40}},{key:"ArrowLeft",get:function(){return 37}},{key:"ArrowUp",get:function(){return 38}},{key:"Shift",get:function(){return 16}},{key:"Control",get:function(){return 17}},{key:"Alt",get:function(){return 18}},{key:"Meta",get:function(){return 91}},{key:"Space",get:function(){return 32}},{key:"Escape",get:function(){return 27}},{key:"CapsLock",get:function(){return 20}},{key:"Tab",get:function(){return 9}},{key:"Fn",get:function(){return 119}},{key:"NumLock",get:function(){return 144}},{key:"ScrollLock",get:function(){return 145}},{key:"Enter",get:function(){return 66}},{key:"NumpadEnter",get:function(){return 160}},{key:"Backspace",get:function(){return 67}},{key:"Clear",get:function(){return 28}},{key:"Delete",get:function(){return 112}},{key:"Insert",get:function(){return 124}},{key:"Help",get:function(){return 259}},{key:"Pause",get:function(){return 121}},{key:"BrightnessDown",get:function(){return 220}},{key:"BrightnessUp",get:function(){return 221}},{key:"Eject",get:function(){return 129}},{key:"Power",get:function(){return 26}},{key:"PrintScreen",get:function(){return 120}},{key:"WakeUp",get:function(){return 223}},{key:"Standby",get:function(){return 224}},{key:"KeyQ",get:function(){return 81}},{key:"KeyW",get:function(){return 87}},{key:"KeyE",get:function(){return 69}},{key:"KeyR",get:function(){return 82}},{key:"KeyT",get:function(){return 84}},{key:"KeyY",get:function(){return 89}},{key:"KeyU",get:function(){return 85}},{key:"KeyI",get:function(){return 73}},{key:"KeyO",get:function(){return 79}},{key:"KeyP",get:function(){return 80}},{key:"KeyA",get:function(){return 65}},{key:"KeyS",get:function(){return 83}},{key:"KeyD",get:function(){return 68}},{key:"KeyF",get:function(){return 70}},{key:"KeyG",get:function(){return 71}},{key:"KeyH",get:function(){return 72}},{key:"KeyJ",get:function(){return 74}},{key:"KeyK",get:function(){return 75}},{key:"KeyL",get:function(){return 76}},{key:"KeyZ",get:function(){return 90}},{key:"KeyX",get:function(){return 88}},{key:"KeyC",get:function(){return 67}},{key:"KeyV",get:function(){return 86}},{key:"KeyB",get:function(){return 66}},{key:"KeyN",get:function(){return 78}},{key:"KeyM",get:function(){return 77}},{key:"Mute",get:function(){return 173}},{key:"VolumeDown",get:function(){return 174}},{key:"VolumeUp",get:function(){return 175}},{key:"NextTrack",get:function(){return 176}},{key:"PreviousTrack",get:function(){return 177}},{key:"Stop",get:function(){return 182}},{key:"PlayPause",get:function(){return 179}}]),e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var i=this;r(this,e),this.container=t,this.eventHandler=n,this.container.addEventListener("keyup",this.handleUp.bind(this)),this.container.addEventListener("keydown",this.handleDown.bind(this)),this.container.setAttribute("tabindex","0"),this.eventHandler.on("playerFullscreen",function(){i.container.focus()})}return i(e,[{key:"onKey",value:function(e,t){var n=this;(Array.isArray(e)?e:[e]).forEach(function(e){n.onKeyUp(e,t),n.onKeyDown(e,function(e){e.preventDefault()})})}},{key:"onKeyUp",value:function(e,t){this.eventHandler.on("up"+e,t)}},{key:"onKeyDown",value:function(e,t){this.eventHandler.on("down"+e,t)}},{key:"handleUp",value:function(e){this.eventHandler.trigger("up"+e.keyCode,e)}},{key:"handleDown",value:function(e){this.eventHandler.trigger("down"+e.keyCode,e)}}]),e}();t.default=o},function(e,t){e.exports={name:"@meisterplayer/plugin-html5player",version:"5.5.1",description:"Meister plugin for playing video with the html5player",main:"dist/Html5player.js",repository:{type:"git",url:"https://github.com/meisterplayer/player-html5player.git"},scripts:{lint:"eslint ./src/js",test:"jest","test:coverage":"jest --coverage",build:"gulp build",dist:"gulp build:min && gulp build:dist"},keywords:["meister","video","plugin"],author:"Triple",license:"Apache-2.0",devDependencies:{"@meisterplayer/meister-mock":"^1.0.0","babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1",jest:"^20.0.4","meister-gulp-webpack-tasks":"^1.0.6","meister-js-dev":"^3.1.0"}}},function(e,t,n){e.exports=n(0)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=62)}([function(e,t,n){var r=n(51);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){i(this,e),this.meister=t,this.isMobile=this.meister.browser.isMobile,this.element=null,this.eventStore=[],this.onItemLoaded&&this.on("itemLoaded",this.onItemLoaded.bind(this)),this.onItemUnloaded&&this.on("itemUnloaded",this.onItemUnloaded.bind(this))}return o(e,[{key:"on",value:function(e,t){var n;(n=this.eventStore).push.apply(n,r(this.meister.on(e,t,this.constructor.name)))}},{key:"one",value:function(e,t,n){this.eventStore.push(this.meister.one(e,t,n,this.constructor.name))}},{key:"classListAdd",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){t&&e.classList.add(t)}),this.isMobile&&e.classList.add("pf-mobile")}},{key:"classListRemove",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){e.classList.remove(t)})}},{key:"getNode",value:function(){return this.element}}]),e}();t.default=a},function(e,t,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=g(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var o=m++;n=y||(y=s(t)),r=c.bind(null,n,o,!1),i=c.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=d.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var h={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},v=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),g=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,b=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"==typeof document?"undefined":r(document)))throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=v()),void 0===t.insertAt&&(t.insertAt="bottom");var o=i(e);return n(o,t),function(e){for(var r=[],a=0;a<o.length;a++){var s=o[a],u=h[s.id];u.refs--,r.push(u)}e&&n(i(e),t);for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t?e.concat(t):e},[]).join(" ")};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CUSTOM_UI_EVENT_PREFIX="ui",t.MEISTER_DATA_EVENTS_ATTR="data-mstr-events",t.MEISTER_DATA_STANDARD_ATTR="data-mstr-standard",t.MEISTER_DATA_DIRECTIVE_ATTR="data-mstr-directive"},function(e,t,n){function r(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function i(e,t){return e.parentNode?e.parentNode.replaceChild(t,e):null}function o(e){return e.trim().toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.extractNodesWithSelector=r,t.replaceNodeWith=i,t.formatValue=o},function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n(16),f=n(17),d=n(14),h=n(61),p=i(h),v=n(10),g=i(v),y=function(e){function t(e,n){var r;o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(i.hiddenClassName=i.config.hiddenClassName||"mstr-hide-controls",i.directives=[],i.config.ui)if(i.meister.utils.isDOMNode(i.config.ui))i.element=i.config.ui,i.processTemplate();else{if("string"!=typeof i.config.ui){var s;return console.warn("Unable to render a UI template"),s=[],a(i,s)}i.insertStringTemplate(i.config.ui)}else i.insertStringTemplate((0,g.default)());return r=i,a(i,r)}return s(t,e),u(t,[{key:"getTemplateWrapper",value:function(){var e=document.createElement("div");e.style.display="none",e.style.visibility="hidden";var t=document.createElement("div");return e.appendChild(t),document.body.appendChild(e),t}},{key:"insertStringTemplate",value:function(e){var t=this.getTemplateWrapper();t.innerHTML=e,this.element=t.firstChild,this.processTemplate(),this.draw()}},{key:"processTemplate",value:function(){var e=this;(0,f.extractStandardNodes)(this.element).forEach((0,f.createLoadStandardElement)(this.meister,this.config.standard)),(0,c.extractEventNodes)(this.element).forEach((0,c.createRegisterDataEvents)(this.meister,this.config.registeredCallback)),(0,d.extractDirectiveNodes)(this.element).forEach(function(t){var n=(0,d.createAttachDirective)(e.meister,e.config);e.directives.push(n(t))}),this.meister.on("uiEvent:hideControls",this.hideControls.bind(this)),this.meister.on("uiEvent:showControls",this.showControls.bind(this)),this.meister.on("uiEvent:hideCursor",this.hideCursor.bind(this)),this.meister.on("uiEvent:showCursor",this.showCursor.bind(this))}},{key:"draw",value:function(){this.element&&this.controlsWrapper.appendChild(this.element)}},{key:"hideControls",value:function(){this.element&&this.element.classList.add(this.hiddenClassName)}},{key:"showControls",value:function(){this.element&&this.element.classList.remove(this.hiddenClassName)}},{key:"hideCursor",value:function(){this.meister.container.style.cursor="none"}},{key:"showCursor",value:function(){this.meister.container.style.cursor="auto"}},{key:"unload",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.directives.forEach(function(e){e.unload()})}}],[{key:"pluginName",get:function(){return"HtmlUi"}},{key:"pluginVersion",get:function(){return p.default.version}}]),t}(Meister.Ui);Meister.registerPlugin(y.pluginName,y),t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),i=(function(e){e&&e.__esModule}(r),function(){return'<div class="mstr-container" data-mstr-directive="autoHideShow">\n                <div class="mstr-centerbar">\n                    <span data-mstr-standard="spinner"></span>\n                </div>\n                <div class="mstr-bottombar">\n                    <div class="mstr-items">\n                        <div class="mstr-item">\n                            <span data-mstr-standard="playbutton"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="playlistpreviousbutton"></span>\n                        </div>\n                        <div class="mstr-item mstr-item--fill">\n                            <span data-mstr-standard="seekbar"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="timedisplay"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="playlistnextbutton"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="fullscreenbutton"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="volumeslider"></span>\n                        </div>\n                        <div class="mstr-item">\n                            <span data-mstr-standard="qualitybutton"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '});t.default=i},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=3e3,f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Number.isFinite(r.config.timeToFade)&&(c=1e3*r.config.timeToFade),r.onMouseDown=r.onMouseDown.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseLeave=r.onMouseLeave.bind(r),r.mouseTimeout=null,r.controlsTimeout=null,r.isControlsShown=!1,r.fixedControls=!!r.config.fixedControls,r.toggleFixedControls(r.fixedControls),r}return a(t,e),s(t,[{key:"toggleFixedControls",value:function(e){e?(this.removeEventListeners(),this.showControls(),this.showCursor()):(this.addEventListeners(),this.mouseTimeout=setTimeout(this.hideCursor.bind(this),c),this.controlsTimeout=setTimeout(this.hideControls.bind(this),c))}},{key:"removeEventListeners",value:function(){this.meister.container.removeEventListener("mousedown",this.onMouseDown),this.meister.container.removeEventListener("touchstart",this.onMouseDown),this.meister.container.removeEventListener("mousemove",this.onMouseMove),this.meister.container.removeEventListener("touchmove",this.onMouseMove),this.meister.container.removeEventListener("mouseleave",this.onMouseLeave)}},{key:"addEventListeners",value:function(){this.meister.container.addEventListener("mousedown",this.onMouseDown),this.meister.container.addEventListener("touchstart",this.onMouseDown),this.meister.container.addEventListener("mousemove",this.onMouseMove),this.meister.container.addEventListener("touchmove",this.onMouseMove),this.meister.container.addEventListener("mouseleave",this.onMouseLeave)}},{key:"hideCursor",value:function(){this.dragging||this.meister.trigger("uiEvent:hideCursor",{})}},{key:"showCursor",value:function(){this.meister.trigger("uiEvent:showCursor",{})}},{key:"hideControls",value:function(){!this.dragging&&this.meister.playing&&this.meister.trigger("uiEvent:hideControls",{})}},{key:"showControls",value:function(){this.meister.trigger("uiEvent:showControls",{})}},{key:"onMouseDown",value:function(){this.dragging=!0,window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onMouseUp)}},{key:"onMouseUp",value:function(){this.dragging=!1,this.onMouseMove(),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onMouseUp)}},{key:"onMouseMove",value:function(){clearTimeout(this.mouseTimeout),clearTimeout(this.controlsTimeout),this.showControls(),this.showCursor(),this.mouseTimeout=setTimeout(this.hideCursor.bind(this),c),this.controlsTimeout=setTimeout(this.hideControls.bind(this),c)}},{key:"onMouseLeave",value:function(){clearTimeout(this.mouseTimeout),clearTimeout(this.controlsTimeout),this.hideControls(),this.showCursor()}},{key:"unload",value:function(){this.removeEventListeners(),this.mouseTimeout&&clearTimeout(this.mouseTimeout),this.controlsTimeout&&clearTimeout(this.controlsTimeout),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onMouseUp)}}]),t}(l.default),d=function(e,t){return new f(e,t)};t.default=d},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.config=n,this.meister=t}return i(e,[{key:"unload",value:function(){}}]),e}();t.default=o},function(e,t,n){function r(e,t,n){switch(n){case"autohideshow":return(0,o.default)(e,t);default:return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(11),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){function r(e){var t=(0,a.extractNodesWithSelector)(e,"["+o.MEISTER_DATA_DIRECTIVE_ATTR+"]");return e.getAttribute(o.MEISTER_DATA_DIRECTIVE_ATTR)?t.concat(e):t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=(0,a.formatValue)(n.getAttribute(o.MEISTER_DATA_DIRECTIVE_ATTR));return(0,u.default)(e,t,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.extractDirectiveNodes=r,t.createAttachDirective=i;var o=n(5),a=n(6),s=n(13),u=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomUiEvent=function e(t,n,i,o,a){r(this,e),this.eventName=i,this.eventType=o,this.event=a,this.meister=t,this.element=n},t.CustomUiElementRegisteredEvent=function e(t,n,i){r(this,e),this.meister=t,this.element=n,this.events=i,this.id=n.id}},function(e,t,n){function r(e){var t=(0,s.extractNodesWithSelector)(e,"["+a.MEISTER_DATA_EVENTS_ATTR+"]");return e.getAttribute(a.MEISTER_DATA_EVENTS_ATTR)?t.concat(e):t}function i(e){return e.split(",").filter(function(e){return!!e}).map(function(e){return e.trim()}).filter(function(e){return!!e})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(n){var r=n.getAttribute(a.MEISTER_DATA_EVENTS_ATTR);if(r){var o=i(r);if(!(o.length<1)){var s=n.id?n.id+":":"",l=a.CUSTOM_UI_EVENT_PREFIX+":"+s;o.forEach(function(t){var r=""+l+t;n.addEventListener(t,function(i){e.trigger(r,new u.CustomUiEvent(e,n,r,t,i))})}),t(new u.CustomUiElementRegisteredEvent(e,n,o))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.extractEventNodes=r,t.createRegisterDataEvents=o;var a=n(5),s=n(6),u=n(15)},function(e,t,n){function r(e){return(0,a.extractNodesWithSelector)(e,"["+o.MEISTER_DATA_STANDARD_ATTR+"]")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=(0,a.formatValue)(n.getAttribute(o.MEISTER_DATA_STANDARD_ATTR));if(r){var i=(0,u.default)(e,t,r);i||console.error("No standard element with name '"+r+"'"),(0,a.replaceNodeWith)(n,i.getNode())}}}Object.defineProperty(t,"__esModule",{value:!0}),t.extractStandardNodes=r,t.createLoadStandardElement=i;var o=n(5),a=n(6),s=n(32),u=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,"pf-ui-element","pf-ui-element-right","pf-ui-element-active"),n.classListAdd(n.element,"pf-icon","pf-icon_icCc"),n.classListAdd(n.element,"pf-ui-element-hidden"),n.captionSelector=document.createElement("div"),n.classListAdd(n.captionSelector,"pf-quality-selector","hidden"),n.meister.controlsWrapper.appendChild(n.captionSelector),n.element.addEventListener("click",n.onClick.bind(n)),n.captions=null,n.on("itemLoaded",n.onItemLoaded.bind(n)),n.hide=function(){n.classListAdd(n.captionSelector,"hidden"),document.body.removeEventListener("click",n.hide)},n}return a(t,e),s(t,[{key:"onItemUnloaded",value:function(){this.captionSelector.innerHTML="",this.captions=null,this.classListAdd(this.element,"pf-ui-element-hidden")}},{key:"onClick",value:function(e){if(e.stopPropagation(),!e.target.hasAttribute("lang"))return void(this.captionSelector.classList.contains("hidden")?this.show():this.hide());var t=e.target.getAttribute("lang");this.selectLang(t),this.hide()}},{key:"show",value:function(){this.classListRemove(this.captionSelector,"hidden"),document.body.addEventListener("click",this.hide)}},{key:"onItemLoaded",value:function(e){var t=this;e.item&&e.item.captions&&(Array.isArray(e.item.captions)?this.captions=e.item.captions.slice(0).sort(function(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0}):this.captions=[e.item.captions],this.captions.push({title:this.meister.Localization.get("NONE"),lang:"none"}),this.classListRemove(this.element,"pf-ui-element-hidden"),this.captions.forEach(function(e){var n=e.title,r=e.lang;e.option=t.createOption(n,r)}),this.classListRemove(this.element,"pf-ui-element-hidden"))}},{key:"createOption",value:function(e,t){var n=this,r=document.createElement("div");return r.classList.add("pf-quality-option"),r.classList.add("pf-ui-element-active"),r.textContent=e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),r.setAttribute("lang",t),r.selected=document.createElement("div"),r.selected.classList.add("pf-quality-option-select"),r.selected.classList.add("pf-icon"),this.isMobile&&r.selected.classList.add("pf-mobile"),r.appendChild(r.selected),this.captionSelector.appendChild(r),r.addEventListener("click",function(e){return n.onClick(e)}),r}},{key:"selectLang",value:function(e){if(this.captions.forEach(function(e){e.option.selected.classList.remove("pf-icon_icCheck")}),"none"===e)return void this.meister.trigger("requestCaptions",{newLanguage:"none"});var t=this.captions.find(function(t){return t.lang===e});t.option.selected.classList.add("pf-icon_icCheck"),this.meister.trigger("requestCaptions",t)}}]),t}(l.default);t.default=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(53),d=i(f),h=n(33),p=i(h),v=n(34),g=i(v),y=n(0),m=i(y),b=(0,p.default)(),E=(0,g.default)(),_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,m.default.uiElement),n.meister.config.audioOnly?n.classListAdd(n.element,m.default.uiElementInactive):n.classListAdd(n.element,m.default.uiElementActive),n.classListAdd(n.element,m.default.icon,d.default.fullscreenIcon),n.element.innerHTML=b,n.element.addEventListener("click",function(){return n.toggleFullscreen()}),n.on("playerFullscreen",function(){return n.toggleIcon()}),n}return s(t,e),u(t,[{key:"toggleIcon",value:function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement?(this.classListAdd(this.element,d.default.fullscreenExitIcon),this.classListRemove(this.element,d.default.fullscreenIcon),this.element.innerHTML=E):(this.classListAdd(this.element,d.default.fullscreenIcon),this.classListRemove(this.element,d.default.fullscreenExitIcon),this.element.innerHTML=b)}},{key:"toggleFullscreen",value:function(){this.meister.isFullscreen?this.meister.cancelFullscreen():this.meister.requestFullscreen()}}]),t}(c.default);t.default=_},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(54),d=i(f),h=n(37),p=i(h),v=n(36),g=i(v),y=n(0),m=i(y),b=(0,p.default)(),E=(0,g.default)(),_=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config=n,i.type=r,i.element=document.createElement("div"),i.classListAdd(i.element,m.default.uiElement,m.default.uiElementActive),i.isLive=!1,i.classListAdd(i.element,d.default.button),i.classListAdd(i.element,d.default.playButton),i.element.innerHTML=b,i.element.addEventListener("click",function(){return i.onClick()}),i.on("itemTimeInfo",function(e){return i.onItemTimeInfo(e)}),i.on("playerPlay",function(){return i.toggleIcon()}),i.on("playerPause",function(){return i.toggleIcon()}),i.on("itemLoaded",function(){return i.toggleIcon()}),i}return s(t,e),u(t,[{key:"onItemTimeInfo",value:function(e){this.isLive=e.isLive,this.isLive&&this.config.disablePauseWithLive&&this.meister.playing&&"normal"===this.type&&this.toggleIcon()}},{key:"onClick",value:function(){this.meister.playing?this.meister.pause(!0):this.meister.play(!0)}},{key:"toggleIcon",value:function(){if(this.isLive&&this.config.disablePauseWithLive&&this.meister.playing&&"normal"===this.type)return this.classListRemove(this.element,d.default.playButton),void this.classListRemove(this.element,d.default.pauseButton);this.meister.playing?(this.classListAdd(this.element,d.default.pauseButton),this.classListRemove(this.element,d.default.playButton),this.element.innerHTML=E):(this.classListRemove(this.element,d.default.pauseButton),this.classListAdd(this.element,d.default.playButton),this.element.innerHTML=b)}}]),t}(c.default);t.default=_},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistNextButton=t.PlaylistPreviousButton=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(55),d=i(f),h=n(38),p=i(h),v=n(35),g=i(v),y=n(0),m=i(y),b=(0,p.default)(),E=(0,g.default)(),_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,m.default.uiElement,m.default.uiElementHidden,m.default.icon,d.default.previousIcon),n.element.innerHTML=b,n.element.addEventListener("click",function(){return n.meister.trigger("playlistPrevious")}),n.on("playlistInfo",function(e){return n.onPlaylistInfo(e)}),n}return s(t,e),u(t,[{key:"onPlaylistInfo",value:function(e){if(this.classListRemove(this.element,m.default.uiElementInactive),e.length<=1)return void this.classListAdd(this.element,m.default.uiElementHidden);0===e.currentIndex&&this.classListAdd(this.element,m.default.uiElementInactive),e.currentIndex>=e.length-1&&this.classListAdd(this.element,m.default.uiElementActive),this.classListRemove(this.element,m.default.uiElementHidden)}}]),t}(c.default),w=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,m.default.uiElement,m.default.uiElementHidden,m.default.icon,d.default.nextIcon),n.element.innerHTML=E,n.element.addEventListener("click",function(){return n.meister.trigger("playlistNext")}),n.on("playlistInfo",function(e){return n.onPlaylistInfo(e)}),n}return s(t,e),u(t,[{key:"onPlaylistInfo",value:function(e){0===e.currentIndex&&this.classListAdd(this.element,m.default.uiElementActive),e.currentIndex>=e.length-1&&this.classListAdd(this.element,m.default.uiElementInactive),this.classListRemove(this.element,m.default.uiElementHidden)}}]),t}(c.default);t.PlaylistPreviousButton=_,t.PlaylistNextButton=w},function(e,t,n){function r(e,t,n,r){var i=e;i.textContent="auto"===t?t:r(t),i.setAttribute("index",n)}function i(e,t,n){return e.forEach(function(e){e.index===t?e.option.classList.add(a.default.isActive):e.option.classList.remove(a.default.isActive)}),n?null:t}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareBitrateOption=r,t.selectBitrate=i;var o=n(7),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(0),d=i(f),h=n(39),p=i(h),v=n(7),g=i(v),y=n(22),m=n(24),b=(0,p.default)(),E=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.config=n,r.isOpen=!1,r.element=document.createElement("div"),r.classListAdd(r.element,d.default.uiElement,d.default.uiElementActive,d.default.uiElementHidden,g.default.element),r.iconElement=document.createElement("div"),r.iconElement.innerHTML=b,r.classListAdd(r.iconElement,d.default.icon,g.default.iconElement),r.element.appendChild(r.iconElement),r.qualitySelector=document.createElement("div"),r.classListAdd(r.qualitySelector,g.default.qualitySelector,g.default.isClosed),r.element.appendChild(r.qualitySelector),r.qualitySelectorOptions=document.createElement("div"),r.classListAdd(r.qualitySelectorOptions,g.default.qualitySelectorOptions),r.qualitySelector.appendChild(r.qualitySelectorOptions),r.bitrates=null,r.on("itemBitrates",function(e){return r.onItemBitrates(e)}),Array.isArray(r.config.qualityMapping)&&(r.qualityMappingMode=!0,r.qualityMapping=r.config.qualityMapping.map(m.expandQualityMapping)),r.iconElement.addEventListener("click",function(){return r.toggleOpen()}),r.qualitySelectorOptions.addEventListener("click",function(e){return r.onOptionClick(e)}),r}return s(t,e),u(t,[{key:"onItemUnloaded",value:function(){this.qualitySelectorOptions.innerHTML="",this.bitrates=null,this.classListAdd(this.element,d.default.uiElementHidden)}},{key:"setOpen",value:function(){this.classListAdd(this.qualitySelector,g.default.isOpen),this.classListRemove(this.qualitySelector,g.default.isClosed),this.isOpen=!0}},{key:"setClose",value:function(){this.classListAdd(this.qualitySelector,g.default.isClosed),this.classListRemove(this.qualitySelector,g.default.isOpen),this.isOpen=!1}},{key:"toggleOpen",value:function(){this.isOpen?this.setClose():this.setOpen()}},{key:"onOptionClick",value:function(e){if(e.stopPropagation(),!e.target.hasAttribute("index")&&!e.target.mapping)return void(this.qualitySelector.classList.contains("hidden")?this.setOpen():this.setClose());if(e.target.hasAttribute("index")){var t=parseInt(e.target.getAttribute("index"),10);this.selectOption(t)}if(e.target.mapping){var n=parseInt(e.target.mapping.bitrates[0].bitrateIndex,10);this.selectOption(n)}this.setClose()}},{key:"onItemBitrates",value:function(e){var t=this;e.bitrates.sort(function(e,t){return t.bitrate-e.bitrate}),this.bitrates=e.bitrates,this.classListRemove(this.element,d.default.uiElementHidden),this.qualityMappingMode?(this.bitrates=(0,m.prepareResolutionMapping)(this.bitrates,this.qualityMapping),this.qualityMapping.forEach(function(e){e.bitrates.length<1?t.meister.config.debug&&console.error("No bitrates available for this mapping",e):e.option=t.createOption({type:0,mapping:e})})):this.bitrates.forEach(function(e){var n=0===e.bitrate?"auto":e.bitrate;e.option=t.createOption({type:1,bitrate:n,index:e.index})}),this.selectOption(e.currentIndex,!0)}},{key:"createOption",value:function(e){var t=document.createElement("div");if(this.classListAdd(t,g.default.qualitySelectorOption),1===e.type){var n=this.config.bitrateToResolution?this.config.bitrateToResolution:this.meister.utils.bitrateToResolution;(0,y.prepareBitrateOption)(t,e.bitrate,e.index,n)}else 0===e.type&&(0,m.prepareResolutionOption)(t,e.mapping);return this.qualitySelectorOptions.appendChild(t),t}},{key:"selectOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null;n=this.qualityMappingMode?(0,m.selectResolution)(this.qualityMapping,e,t):(0,y.selectBitrate)(this.bitrates,e,t),Number.isFinite(n)&&this.meister.trigger("requestBitrate",{bitrateIndex:n})}}]),t}(c.default);t.default=E},function(e,t,n){function r(e,t){return{index:t,bitrates:[],from:e.from,to:e.to,resolution:e.resolution}}function i(e,t,n){var r=n.find(function(t){return e>t.from&&e<=t.to});if(!r)return void console.warn("No resolution found for bitrate: "+e);r.bitrates.push({bitrate:e,bitrateIndex:t})}function o(e,t){return e.forEach(function(e){return i(e.bitrate,e.index,t)}),e}function a(e,t){var n=e;t.resolution||console.error("Qualitymapping is missing a resolution-value",t),n.textContent=t.resolution,n.mapping=t}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.forEach(function(e){e.option&&(e.bitrates.find(function(e){return e.bitrateIndex===t})?e.option.selected.classList.add("pf-icon_icCheck"):e.option.selected.classList.remove("pf-icon_icCheck"))}),n?null:t}Object.defineProperty(t,"__esModule",{value:!0}),t.expandQualityMapping=r,t.prepareResolutionMapping=o,t.prepareResolutionOption=a,t.selectResolution=s},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.style.webkitTransform="scaleX("+t+")",e.style.transform="scaleX("+t+")"}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=i(c),d=n(26),h=i(d),p=n(56),v=i(p),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDragging=!1,n.loadedMetadata=!1,n.mousedownX=0,n.pagedownX=0,n.element=document.createElement("div"),n.classListAdd(n.element,v.default.wrapper),n.innerElement=document.createElement("div"),n.classListAdd(n.innerElement,v.default.inner),n.element.appendChild(n.innerElement),n.seekBarPadding=document.createElement("div"),n.classListAdd(n.seekBarPadding,v.default.padding),n.innerElement.appendChild(n.seekBarPadding),n.seekBarDuration=document.createElement("div"),n.classListAdd(n.seekBarDuration,v.default.seekBar,v.default.duration),n.innerElement.appendChild(n.seekBarDuration),n.seekBarBuffered=document.createElement("div"),n.classListAdd(n.seekBarBuffered,v.default.seekBar,v.default.buffered),n.innerElement.appendChild(n.seekBarBuffered),n.seekBarBuffered.style.transform="scaleX(0)",n.seekBarFill=document.createElement("div"),n.classListAdd(n.seekBarFill,v.default.seekBar,v.default.fill),n.innerElement.appendChild(n.seekBarFill),n.seekBarFill.style.transform="scaleX(0)",n.seekBarHighlight=document.createElement("div"),n.classListAdd(n.seekBarHighlight,v.default.seekBar,v.default.highlight),n.innerElement.appendChild(n.seekBarHighlight),n.seekBarHighlight.style.transform="scaleX(0)",n.seekBarFigure=document.createElement("div"),n.classListAdd(n.seekBarFigure,v.default.seekDot),n.seekBarDuration.appendChild(n.seekBarFigure),n.seekBarFigure.style.left="0%",n.preview=new h.default(e),n.seekBarDuration.appendChild(n.preview.getNode()),n.on("itemTimeInfo",function(e){return n.onItemTimeInfo(e)}),n.on("playerTimeUpdate",function(e){return n.onTimeUpdate(e)}),n.on("playerSeek",function(e){return n.onPlayerSeek(e)}),n.on("playerProgress",function(e){return n.onPlayerProgress(e)}),n.on("playerLoadedMetadata",function(){n.loadedMetadata=!0}),n.points={},n.on("adCuePoints",function(e){return n.onAdCuePoints(e)}),n.on("adEnded",function(e){return n.onAdEnded(e)}),n.element.addEventListener("mouseover",function(e){return n.onMouseOver(e)}),n.element.addEventListener("mousemove",function(e){return n.onMouseMove(e)}),n.element.addEventListener("mouseout",function(){return n.onMouseOut()}),n.element.addEventListener("mousedown",function(e){return n.onSeekDown(e)}),n.element.addEventListener("touchstart",function(e){return n.onSeekDown(e)}),n.onSeekMove=function(e){e.preventDefault();var t=n.normalizeEventPosition(e);n.isDragging&&(u(n.seekBarFill,t),u(n.seekBarHighlight,t),n.updateFigure(t),n.preview.update(t),n.updateCurrentTime(t))},n.onSeekUp=function(e){window.TouchEvent&&e instanceof window.TouchEvent&&e.touches.length>0||n.isDragging&&(n.wasPlaying&&n.meister.play(),n.isDragging=!1,window.TouchEvent&&e instanceof window.TouchEvent?n.preview.hide():e.target!==n.seekBarPadding&&n.preview.hide(),document.removeEventListener("mousemove",n.onSeekMove),document.removeEventListener("mouseup",n.onSeekUp),document.removeEventListener("touchmove",n.onSeekMove),document.removeEventListener("touchend",n.onSeekUp))},n}return s(t,e),l(t,[{key:"onItemUnloaded",value:function(){var e=this;this.loadedMetadata=!1,this.seekBarBuffered.style.transform="scaleX(0)",this.seekBarHighlight.style.transform="scaleX(0)",this.seekBarFill.style.transform="scaleX(0)",this.seekBarFigure.style.left="0%",Object.keys(this.points).forEach(function(t){null!==e.points[t]&&e.points[t].remove()}),this.points={},this.classListAdd(this.element,"pf-ui-element-hidden")}},{key:"onItemTimeInfo",value:function(e){e.isLive&&!e.hasDVR?this.classListAdd(this.element,"pf-ui-element-hidden"):this.classListRemove(this.element,"pf-ui-element-hidden")}},{key:"onTimeUpdate",value:function(e){var t=e.currentTime/e.duration;u(this.seekBarFill,t),this.updateFigure(t)}},{key:"onPlayerProgress",value:function(e){if(e){var t=e.buffered,n=this.findTimerange(t);if(-1!==n){var r=this.meister.duration,i=t.end(n);this.playOffset&&(i-=this.playOffset,r-=this.playOffset);var o=i/r;u(this.seekBarBuffered,o)}}}},{key:"onMouseOver",value:function(e){if(window.TouchEvent&&e instanceof window.TouchEvent){this.pagedownX=e.touches[0].pageX;var t=this.seekBarPadding.getBoundingClientRect();this.mousedownX=this.pagedownX-t.left}else this.mousedownX=e.offsetX,this.pagedownX=e.pageX;this.preview.show()}},{key:"onMouseMove",value:function(e){var t=this.normalizeEventPosition(e);u(this.seekBarHighlight,t),this.preview.update(t)}},{key:"onMouseOut",value:function(){u(this.seekBarHighlight,0),this.isDragging||this.preview.hide()}},{key:"onSeekDown",value:function(e){e.preventDefault(),this.onMouseOver(e),this.onMouseMove(e),this.wasPlaying=this.meister.playing,this.meister.pause(),this.isDragging=!0;var t=this.normalizeEventPosition(e);u(this.seekBarFill,t),this.updateFigure(t),this.updateCurrentTime(t),document.addEventListener("mousemove",this.onSeekMove),document.addEventListener("mouseup",this.onSeekUp),document.addEventListener("touchmove",this.onSeekMove),document.addEventListener("touchend",this.onSeekUp)}},{key:"onPlayerSeek",value:function(e){var t=e.relativePosition;u(this.seekBarFill,t),u(this.seekBarHighlight,t),this.updateFigure(t)}},{key:"onAdCuePoints",value:function(e){for(var t=0;t<e.points.length;t++)this.setPoint(e.points[t])}},{key:"setPoint",value:function(e){function t(e){var t=document.createElement("div"),r=e/n.meister.duration;n.meister.elementUtils.classListAdd(t,"pf-seek-bar-point","pf-ad-point"),t.id="adpoint-"+e,e<0&&(r=1);var i=100*r;t.style.left=i+"%",n.seekBarDuration.appendChild(t),n.points["adpoint-"+e]=t}var n=this;this.loadedMetadata?t(e):this.one("playerLoadedMetadata",function(){t(e)})}},{key:"onAdEnded",value:function(e){var t=e.ad.getAdPodInfo(),n=document.getElementById("adpoint-"+t.getTimeOffset());delete this.points["adpoint-"+t.getTimeOffset()],null!==n&&n.remove()}},{key:"normalizeEventPosition",value:function(e){var t=0;t=window.TouchEvent&&e instanceof window.TouchEvent?e.touches[e.touches.length-1].pageX:e.pageX;var n=t;n=this.mousedownX+(t-this.pagedownX);var r=n/this.seekBarPadding.offsetWidth;return r>1?r=1:r<0&&(r=0),r}},{key:"updateFigure",value:function(e){var t=100*e;this.seekBarFigure.style.left=t+"%"}},{key:"updateCurrentTime",value:function(e){this.meister.trigger("requestSeek",{relativePosition:e})}},{key:"findTimerange",value:function(e){for(var t=0;t<e.length;t++)if(this.meister.currentTime>=e.start(t)&&this.meister.currentTime<=e.end(t))return t;return-1}}]),t}(f.default);t.default=g},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(57),d=i(f),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,d.default.container,d.default.isHidden),n.seekBarPreviewImage=document.createElement("img"),n.classListAdd(n.seekBarPreviewImage,"pf-seek-bar-preview-image"),n.element.appendChild(n.seekBarPreviewImage),n.seekBarPreviewTime=document.createElement("span"),n.seekBarPreviewTime.textContent="0:00",n.classListAdd(n.seekBarPreviewTime,d.default.previewTime),n.element.appendChild(n.seekBarPreviewTime),n.images=[],n.on("itemTimeInfo",function(e){return n.onItemTimeInfo(e)}),n.on("itemImagestream",function(e){n.images=e.images,n.classListRemove(n.element,"no-preview")}),n}return s(t,e),u(t,[{key:"onItemUnloaded",value:function(){this.isLive=!1,this.modifiedDuration=null,this.images=[],this.classListAdd(this.element,"no-preview")}},{key:"onItemTimeInfo",value:function(e){e.isLive&&(this.isLive=!0,this.modifiedDuration=e.duration)}},{key:"show",value:function(){this.classListRemove(this.element,d.default.isHidden)}},{key:"hide",value:function(){this.classListAdd(this.element,d.default.isHidden)}},{key:"update",value:function(e){var t=this.element.offsetWidth,n=this.element.offsetParent.offsetWidth,r=n-t,i=n*e-t/2;i<0?i=0:i>r&&(i=r),this.element.style.transform="translate("+i+"px)";var o=(this.modifiedDuration||this.meister.duration)*e,a=this.getImageByTime(o);if(a&&(this.seekBarPreviewImage.src=a),this.modifiedDuration){o=this.modifiedDuration-o;var s=this.meister.utils.timeToHMS(Math.round(o));this.seekBarPreviewTime.textContent="-"+s}else this.seekBarPreviewTime.textContent=this.meister.utils.timeToHMS(Math.round(o))}},{key:"getImageByTime",value:function(e){if(0===this.images.length)return"";for(var t=0;t<this.images.length;t++){var n=this.images[t];if(n.start<=e&&n.end>=e)return n.src}return this.images[this.images.length-1].src}}]),t}(c.default);t.default=h},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(58),d=i(f),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.meister=e,n.element=document.createElement("div"),n.classListAdd(n.element,d.default.container),n.spinner=document.createElement("div"),n.classListAdd(n.spinner,d.default.spinner),n.element.appendChild(n.spinner),n.spinnerMessage=document.createElement("div"),n.classListAdd(n.spinnerMessage,d.default.message),n.element.appendChild(n.spinnerMessage),n.on("playerBufferedEnough",function(){return n.hideSpinner(!0)}),n.on("playerPause",function(){return n.hideSpinner()}),n.on("itemUnloaded",function(){return n.hideSpinner()}),n.on("playerPlay",function(){return n.hideSpinner()}),n.on("showLoading",function(e){return n.showSpinner(e)}),n.on("hideLoading",function(){return n.hideSpinner()}),n}return s(t,e),u(t,[{key:"showSpinner",value:function(e){this.classListRemove(this.element,d.default.hidden),this.classListRemove(this.spinner,d.default.hidden),e&&e.message?(this.spinnerMessage.innerHTML=e.message,this.classListRemove(this.spinnerMessage,d.default.hidden)):e&&e.code&&(this.spinnerMessage.innerHTML=this.meister.Localization.get(e.code),this.classListRemove(this.spinnerMessage,d.default.hidden))}},{key:"hideSpinner",value:function(e){("Buffering..."!==this.spinnerMessage.innerHTML||e)&&(this.classListAdd(this.element,d.default.hidden),this.classListAdd(this.spinner,d.default.hidden),this.classListAdd(this.spinnerMessage,d.default.hidden))}}]),t}(c.default);t.default=h},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.config=n,r.element=document.createElement("div"),r.classListAdd(r.element,"pf-ui-element","pf-ui-element-left","pf-ui-element-active"),r.classListAdd(r.element,"pf-icon"),r.classListAdd(r.element,"pf-icon_icStepBackward"),r.element.addEventListener("click",function(){return r.onClick()}),r}return a(t,e),s(t,[{key:"onClick",value:function(){this.meister.trigger("requestSeek",{timeOffset:-1*this.config.stepBack})}}]),t}(l.default);t.default=c},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.config=n,r.element=document.createElement("div"),r.classListAdd(r.element,"pf-ui-element","pf-ui-element-left","pf-ui-element-active"),r.classListAdd(r.element,"pf-icon"),r.classListAdd(r.element,"pf-icon_icStepForward"),r.element.addEventListener("click",function(){return r.onClick()}),r}return a(t,e),s(t,[{key:"onClick",value:function(){this.meister.trigger("requestSeek",{timeOffset:this.config.stepForward})}}]),t}(l.default);t.default=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(59),d=i(f),h=n(0),p=i(h),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n.classListAdd(n.element,p.default.uiElement,d.default.container),(n.meister.browser.isIE||n.meister.browser.isEdge)&&n.classListAdd(n.element,"microsoft-hack"),n.currentTime=document.createElement("span"),n.currentTime.innerHTML="0:00",n.classListAdd(n.currentTime,d.default.currentTime),n.seperator=document.createElement("span"),n.seperator.innerHTML="/",n.classListAdd(n.seperator,d.default.seperator),n.duration=document.createElement("span"),n.duration.innerHTML="0:00",n.classListAdd(n.duration,d.default.duration),n.duration.addEventListener("click",function(){return n.meister.trigger("requestGoLive")}),n.element.appendChild(n.currentTime),n.element.appendChild(n.seperator),n.element.appendChild(n.duration),n.isLive=!1,n.on("itemTimeInfo",function(e){return n.onItemTimeInfo(e)}),n.on("playerTimeUpdate",function(e){return n.onTimeUpdate(e)}),n.on("playerSeek",function(e){return n.onPlayerSeek(e)}),n.adTimer=null,n.adDuration=0,n}return s(t,e),u(t,[{key:"onItemUnloaded",value:function(){this.isLive=!1,this.classListRemove(this.duration,"go-live",p.default.uiElementActive),this.currentTime.innerHTML="-",this.duration.innerHTML="-"}},{key:"onItemTimeInfo",value:function(e){e.isLive?(this.isLive=!0,this.duration.innerHTML="LIVE",e.hasDVR||(this.currentTime.innerHTML="-")):this.duration.innerHTML=this.createTimeString(e.duration)}},{key:"onTimeUpdate",value:function(e){if(!this.isLive)return this.currentTime.innerHTML=this.createTimeString(e.currentTime),void(this.duration.innerHTML=this.createTimeString(e.duration));e.duration-e.currentTime<35&&(this.currentTime.innerHTML="-",this.classListRemove(this.duration,"go-live",p.default.uiElementActive))}},{key:"onPlayerSeek",value:function(e){if(!this.isLive)return this.currentTime.innerHTML=this.createTimeString(e.currentTime),void(this.duration.innerHTML=this.createTimeString(e.duration));var t=e.duration-e.currentTime;if(t<35)return this.currentTime.innerHTML="-",void this.classListRemove(this.duration,"go-live",p.default.uiElementActive);var n=this.createTimeString(t);this.currentTime.innerHTML="-"+n,this.classListAdd(this.duration,"go-live",p.default.uiElementActive)}},{key:"createTimeString",value:function(e){var t=Math.round(e);return t<0&&(t=0),this.meister.utils.timeToHMS(t)}}]),t}(c.default);t.default=v},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),f=n(60),d=i(f),h=n(40),p=n(0),v=i(p),g=(0,h.volumeMuteIcon)(),y=(0,h.volumeLowIcon)(),m=(0,h.volumeMediumIcon)(),b=(0,h.volumeHighIcon)(),E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDragging=!1,n.mousedownY=0,n.pagedownY=0,n.element=document.createElement("div"),n.classListAdd(n.element,v.default.uiElement,d.default.volume),n.meister.browser.isiOS&&!n.meister.config.iosPlaysInline?n.classListAdd(n.element,v.default.uiElementInactive):n.classListAdd(n.element,v.default.uiElementActive),n.volumeButton=document.createElement("div"),n.classListAdd(n.volumeButton,d.default.volumeButton),n.classListAdd(n.volumeButton,v.default.svg,d.default.volumeMute),n.volumeButton.innerHTML=g,n.element.appendChild(n.volumeButton),n.sliderContainer=document.createElement("div"),n.classListAdd(n.sliderContainer,d.default.container,d.default.isClosed),n.element.appendChild(n.sliderContainer),n.sliderInner=document.createElement("div"),n.classListAdd(n.sliderInner,d.default.inner),n.sliderContainer.appendChild(n.sliderInner),n.volumeBar=document.createElement("div"),n.classListAdd(n.volumeBar,d.default.volumeBar),n.sliderInner.appendChild(n.volumeBar),n.volumeBarFill=document.createElement("div"),n.classListAdd(n.volumeBarFill,d.default.volumeBarFill),n.volumeBar.appendChild(n.volumeBarFill),n.volumeBarFigure=document.createElement("div"),n.classListAdd(n.volumeBarFigure,d.default.volumeBarFigure),n.volumeBar.appendChild(n.volumeBarFigure),n.on("playerVolumeChange",function(){return n.onVolumeChange()}),n.on("playerLoadedMetadata",function(){return n.onVolumeChange()}),n.volumeButton.addEventListener("click",function(){return n.onClick()}),n.element.addEventListener("mouseover",function(){return n.showSlider(!0)}),n.element.addEventListener("mouseleave",function(){return n.showSlider(!1)}),n.sliderInner.addEventListener("mousedown",function(e){return n.onDown(e)}),n.sliderInner.addEventListener("touchstart",function(e){return n.onDown(e)}),n.onMove=function(e){n.isDragging&&n.updateBar(e)},n.onUp=function(e){n.isDragging&&(n.isDragging=!1,e.target!==n.sliderInner&&n.showSlider(!1),document.removeEventListener("mousemove",n.onMove),document.removeEventListener("mouseup",n.onUp),document.addEventListener("touchmove",n.onMove),document.addEventListener("touchend",n.onUp))},n}return s(t,e),u(t,[{key:"onDown",value:function(e){if(e.preventDefault(),this.isDragging=!0,window.TouchEvent&&e instanceof window.TouchEvent){this.pagedownY=e.touches[0].pageY;var t=e.target.getBoundingClientRect();this.mousedownY=this.pagedownY-t.top}else this.mousedownY=e.offsetY,this.pagedownY=e.pageY;this.updateBar(e),document.addEventListener("mousemove",this.onMove),document.addEventListener("mouseup",this.onUp),document.addEventListener("touchmove",this.onMove),document.addEventListener("touchend",this.onUp)}},{key:"showSlider",value:function(e){this.isDragging||(e?(this.classListAdd(this.sliderContainer,d.default.isOpen),this.classListRemove(this.sliderContainer,d.default.isClosed)):(this.classListRemove(this.sliderContainer,d.default.isOpen),this.classListAdd(this.sliderContainer,d.default.isClosed)))}},{key:"onClick",value:function(){this.meister.muted=!this.meister.muted,this.meister.trigger("playerVolumeChange")}},{key:"onVolumeChange",value:function(){var e=this.meister.volume;this.meister.muted&&(e=0),this.volumeBarFill.style.transform="scaleY("+e+")";var t=100*e;this.volumeBarFigure.style.bottom=t+"%",this.updateIcon()}},{key:"updateBar",value:function(e){this.meister.muted=!1;var t=this.normalizeEventPosition(e);t>1?t=1:t<0&&(t=0),this.meister.volume=t}},{key:"updateIcon",value:function(){var e=this.meister.volume,t=d.default.volumeMute,n=g;this.meister.muted?(t=d.default.volumeMute,n=g):e<=.33&&e>=.01?(t=d.default.volumeLow,n=y):e>=.33&&e<=.66?(t=d.default.volumeMedium,n=m):e>=.66&&e<=1&&(t=d.default.volumeHigh,n=b),this.classListRemove(this.volumeButton,d.default.volumeMute,d.default.volumeLow,d.default.volumeMedium,d.default.volumeHigh),this.classListAdd(this.volumeButton,t),this.volumeButton.innerHTML=n}},{key:"normalizeEventPosition",value:function(e){var t=0;t=window.TouchEvent&&e instanceof window.TouchEvent?e.touches[e.touches.length-1].pageY:e.pageY;var n=t;n=this.mousedownY+(t-this.pagedownY);var r=1-n/this.volumeBar.offsetHeight;return Math.max(Math.min(r,1),0)}}]),t}(c.default);t.default=E},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){switch(n){case"captionsbutton":return new a.default(e,t);case"fullscreenbutton":return new u.default(e,t);case"playbutton":return new c.default(e,t);case"playlistpreviousbutton":return new f.PlaylistPreviousButton(e,t);case"playlistnextbutton":return new f.PlaylistNextButton(e,t);case"qualitybutton":return new h.default(e,t);case"seekbar":return new v.default(e,t);case"spinner":return new y.default(e,t);case"stepbackbutton":return new b.default(e,t);case"stepforwardbutton":return new _.default(e,t);case"timedisplay":return new k.default(e,t);case"volumeslider":return new S.default(e,t);default:return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(18),a=r(o),s=n(19),u=r(s),l=n(20),c=r(l),f=n(21),d=n(23),h=r(d),p=n(25),v=r(p),g=n(27),y=r(g),m=n(28),b=r(m),E=n(29),_=r(E),w=n(30),k=r(w),T=n(31),S=r(T)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M14.990778,4 L19.009222,4 C19.2777897,4 19.5243695,4.11070974 19.7117708,4.2928267 C19.8904143,4.4719102 20,4.71851976 20,4.99077797 L20,9.00922203 C20,9.54902482 19.5527519,10 19.0010434,10 L17.9989566,10 C17.4426603,10 17,9.55641359 17,9.00922203 L17,7 L14.990778,7 C14.4509752,7 14,6.55275191 14,6.00104344 L14,4.99895656 C14,4.44266033 14.4435864,4 14.990778,4 Z M14.990778,20 C14.4435864,20 14,19.5573397 14,19.0010434 L14,17.9989566 C14,17.4472481 14.4509752,17 14.990778,17 L17,17 L17,14.990778 C17,14.4435864 17.4426603,14 17.9989566,14 L19.0010434,14 C19.5527519,14 20,14.4509752 20,14.990778 L20,19.009222 C20,19.2814802 19.8904143,19.5280898 19.7117708,19.7071733 C19.5243695,19.8892903 19.2777897,20 19.009222,20 L14.990778,20 Z M9.00922203,4 C9.55641359,4 10,4.44266033 10,4.99895656 L10,6.00104344 C10,6.55275191 9.54902482,7 9.00922203,7 L7,7 L7,9.00922203 C7,9.55641359 6.55733967,10 6.00104344,10 L4.99895656,10 C4.44724809,10 4,9.54902482 4,9.00922203 L4,4.99077797 C4,4.71851976 4.10958568,4.4719102 4.28822924,4.2928267 C4.47563053,4.11070974 4.72221026,4 4.99077797,4 L9.00922203,4 Z M9.00922203,20 L4.99077797,20 C4.72221026,20 4.47563053,19.8892903 4.28822924,19.7071733 C4.10958568,19.5280898 4,19.2814802 4,19.009222 L4,14.990778 C4,14.4509752 4.44724809,14 4.99895656,14 L6.00104344,14 C6.55733967,14 7,14.4435864 7,14.990778 L7,17 L9.00922203,17 C9.54902482,17 10,17.4472481 10,17.9989566 L10,19.0010434 C10,19.5573397 9.55641359,20 9.00922203,20 Z"></path>\n</svg>'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M19.009222,10 L14.990778,10 C14.7222103,10 14.4756305,9.88929026 14.2882292,9.7071733 C14.1095857,9.5280898 14,9.28148024 14,9.00922203 L14,4.99077797 C14,4.45097518 14.4472481,4 14.9989566,4 L16.0010434,4 C16.5573397,4 17,4.44358641 17,4.99077797 L17,7 L19.009222,7 C19.5490248,7 20,7.44724809 20,7.99895656 L20,9.00104344 C20,9.55733967 19.5564136,10 19.009222,10 Z M19.009222,14 C19.5564136,14 20,14.4426603 20,14.9989566 L20,16.0010434 C20,16.5527519 19.5490248,17 19.009222,17 L17,17 L17,19.009222 C17,19.5564136 16.5573397,20 16.0010434,20 L14.9989566,20 C14.4472481,20 14,19.5490248 14,19.009222 L14,14.990778 C14,14.7185198 14.1095857,14.4719102 14.2882292,14.2928267 C14.4756305,14.1107097 14.7222103,14 14.990778,14 L19.009222,14 Z M4.99077797,10 C4.44358641,10 4,9.55733967 4,9.00104344 L4,7.99895656 C4,7.44724809 4.45097518,7 4.99077797,7 L7,7 L7,4.99077797 C7,4.44358641 7.44266033,4 7.99895656,4 L9.00104344,4 C9.55275191,4 10,4.45097518 10,4.99077797 L10,9.00922203 C10,9.28148024 9.89041432,9.5280898 9.71177076,9.7071733 C9.52436947,9.88929026 9.27778974,10 9.00922203,10 L4.99077797,10 Z M4.99077797,14 L9.00922203,14 C9.27778974,14 9.52436947,14.1107097 9.71177076,14.2928267 C9.89041432,14.4719102 10,14.7185198 10,14.990778 L10,19.009222 C10,19.5490248 9.55275191,20 9.00104344,20 L7.99895656,20 C7.44266033,20 7,19.5564136 7,19.009222 L7,17 L4.99077797,17 C4.45097518,17 4,16.5527519 4,16.0010434 L4,14.9989566 C4,14.4426603 4.44358641,14 4.99077797,14 Z"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M15.5797546,11.3085619 C16.1433363,11.6897833 16.1368179,12.3122745 15.5797546,12.6890866 L5.02045486,19.8316732 C4.4568732,20.2128946 4,19.9252466 4,19.1843471 L4,4.81330147 C4,4.07457175 4.46339158,3.78916316 5.02045486,4.16597534 L15.5797546,11.3085619 Z M17,5.00087166 C17,4.4481055 17.4426603,4 17.9989566,4 L19.0010434,4 C19.5527519,4 20,4.44463086 20,5.00087166 L20,18.9991283 C20,19.5518945 19.5573397,20 19.0010434,20 L17.9989566,20 C17.4472481,20 17,19.5553691 17,18.9991283 L17,5.00087166 Z"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M6,4.66712976 C6,4.29868417 6.44335318,4 7.0093689,4 L8.9906311,4 C9.54809015,4 10,4.29831281 10,4.66712976 L10,19.3328702 C10,19.7013158 9.55664682,20 8.9906311,20 L7.0093689,20 C6.45190985,20 6,19.7016872 6,19.3328702 L6,4.66712976 Z M14,4.66712976 C14,4.29868417 14.4433532,4 15.0093689,4 L16.9906311,4 C17.5480902,4 18,4.29831281 18,4.66712976 L18,19.3328702 C18,19.7013158 17.5566468,20 16.9906311,20 L15.0093689,20 C14.4519098,20 14,19.7016872 14,19.3328702 L14,4.66712976 Z" id="pause"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M17.5797546,11.3085619 C18.1433363,11.6897833 18.1368179,12.3122745 17.5797546,12.6890866 L7.02045486,19.8316732 C6.4568732,20.2128946 6,19.9252466 6,19.1843471 L6,4.81330147 C6,4.07457175 6.46339158,3.78916316 7.02045486,4.16597534 L17.5797546,11.3085619 Z" id="play"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M8.42024541,11.3085619 C7.85666375,11.6897833 7.86318212,12.3122745 8.42024541,12.6890866 L18.9795451,19.8316732 C19.5431268,20.2128946 20,19.9252466 20,19.1843471 L20,4.81330147 C20,4.07457175 19.5366084,3.78916316 18.9795451,4.16597534 L8.42024541,11.3085619 Z M7,5.00087166 C7,4.4481055 6.55733967,4 6.00104344,4 L4.99895656,4 C4.44724809,4 4,4.44463086 4,5.00087166 L4,18.9991283 C4,19.5518945 4.44266033,20 4.99895656,20 L6.00104344,20 C6.55275191,20 7,19.5553691 7,18.9991283 L7,5.00087166 Z"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(4),s=r(a),u=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M0,5.99406028 C0,4.8927712 0.897026226,4 2.00494659,4 L21.9950534,4 C23.1023548,4 24,4.89451376 24,5.99406028 L24,18.0059397 C24,19.1072288 23.1029738,20 21.9950534,20 L2.00494659,20 C0.897645164,20 0,19.1054862 0,18.0059397 L0,5.99406028 Z M9,11 L6,11 L6,8 L4,8 L4,16 L6,16 L6,13 L9,13 L9,16 L11,16 L11,8 L9,8 L9,11 Z M16,16 C18.209139,16 20,14.209139 20,12 C20,9.790861 18.209139,8 16,8 L13,8 L13,16 L16,16 Z M15,14 L15,10 L16,10 C17.1045695,10 18,10.8954305 18,12 C18,13.1045695 17.1045695,14 16,14 L15,14 Z"></path>\n</svg>\n'};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.volumeHighIcon=t.volumeMediumIcon=t.volumeLowIcon=t.volumeMuteIcon=void 0;var i=n(0),o=r(i),a=n(4),s=r(a),u=(t.volumeMuteIcon=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M18,10.7529107 L15.5073637,8.2602744 C15.1664641,7.91937486 14.6031064,7.914358 14.2587322,8.25873219 C13.9119571,8.6055073 13.9150485,9.16213774 14.2602744,9.50736367 L16.7529107,12 L14.2602744,14.4926363 C13.9193749,14.8335359 13.914358,15.3968936 14.2587322,15.7412678 C14.6055073,16.0880429 15.1621377,16.0849515 15.5073637,15.7397256 L18,13.2470893 L20.4926363,15.7397256 C20.8335359,16.0806251 21.3968936,16.085642 21.7412678,15.7412678 C22.0880429,15.3944927 22.0849515,14.8378623 21.7397256,14.4926363 L19.2470893,12 L21.7397256,9.50736367 C22.0806251,9.16646413 22.085642,8.60310639 21.7412678,8.25873219 C21.3944927,7.91195709 20.8378623,7.91504847 20.4926363,8.2602744 L18,10.7529107 Z"></path>\n    <path fill="currentColor" d="M1.0093689,8.0749622 C0.451909848,8.0749622 0,8.51944308 0,9.06903369 L0,14.9298135 C0,15.478824 0.443353176,15.923885 1.0093689,15.923885 L4,15.923885 L9.37646484,19.6916936 C10.2772423,20.3229555 11,19.9530982 11,18.872049 L11,5.1267982 C11,4.0451514 10.2731186,3.67878158 9.37646484,4.30715352 L4,8.0749622 L1.0093689,8.0749622 Z"></path>\n</svg>\n'},t.volumeLowIcon=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M14.8284271,14.8284271 C16.3905243,13.26633 16.3905243,10.73367 14.8284271,9.17157288 C14.4379028,8.78104858 13.8047379,8.78104858 13.4142136,9.17157288 C13.0236893,9.56209717 13.0236893,10.1952621 13.4142136,10.5857864 C14.1952621,11.366835 14.1952621,12.633165 13.4142136,13.4142136 C13.0236893,13.8047379 13.0236893,14.4379028 13.4142136,14.8284271 C13.8047379,15.2189514 14.4379028,15.2189514 14.8284271,14.8284271 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M1.0093689,8.0749622 C0.451909848,8.0749622 0,8.51944308 0,9.06903369 L0,14.9298135 C0,15.478824 0.443353176,15.923885 1.0093689,15.923885 L4,15.923885 L9.37646484,19.6916936 C10.2772423,20.3229555 11,19.9530982 11,18.872049 L11,5.1267982 C11,4.0451514 10.2731186,3.67878158 9.37646484,4.30715352 L4,8.0749622 L1.0093689,8.0749622 Z"></path>\n</svg>\n'},t.volumeMediumIcon=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M14.8284271,14.8284271 C16.3905243,13.26633 16.3905243,10.73367 14.8284271,9.17157288 C14.4379028,8.78104858 13.8047379,8.78104858 13.4142136,9.17157288 C13.0236893,9.56209717 13.0236893,10.1952621 13.4142136,10.5857864 C14.1952621,11.366835 14.1952621,12.633165 13.4142136,13.4142136 C13.0236893,13.8047379 13.0236893,14.4379028 13.4142136,14.8284271 C13.8047379,15.2189514 14.4379028,15.2189514 14.8284271,14.8284271 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M17.6568542,17.6568542 C20.7810486,14.5326599 20.7810486,9.46734008 17.6568542,6.34314575 C17.26633,5.95262146 16.633165,5.95262146 16.2426407,6.34314575 C15.8521164,6.73367004 15.8521164,7.36683502 16.2426407,7.75735931 C18.5857864,10.1005051 18.5857864,13.8994949 16.2426407,16.2426407 C15.8521164,16.633165 15.8521164,17.26633 16.2426407,17.6568542 C16.633165,18.0473785 17.26633,18.0473785 17.6568542,17.6568542 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M1.0093689,8.0749622 C0.451909848,8.0749622 0,8.51944308 0,9.06903369 L0,14.9298135 C0,15.478824 0.443353176,15.923885 1.0093689,15.923885 L4,15.923885 L9.37646484,19.6916936 C10.2772423,20.3229555 11,19.9530982 11,18.872049 L11,5.1267982 C11,4.0451514 10.2731186,3.67878158 9.37646484,4.30715352 L4,8.0749622 L1.0093689,8.0749622 Z"></path>\n</svg>\n'},t.volumeHighIcon=function(e){return'\n<svg class="'+(0,s.default)(o.default.svg,e)+'" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path fill="currentColor" d="M14.8284271,14.8284271 C16.3905243,13.26633 16.3905243,10.73367 14.8284271,9.17157288 C14.4379028,8.78104858 13.8047379,8.78104858 13.4142136,9.17157288 C13.0236893,9.56209717 13.0236893,10.1952621 13.4142136,10.5857864 C14.1952621,11.366835 14.1952621,12.633165 13.4142136,13.4142136 C13.0236893,13.8047379 13.0236893,14.4379028 13.4142136,14.8284271 C13.8047379,15.2189514 14.4379028,15.2189514 14.8284271,14.8284271 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M17.6568542,17.6568542 C20.7810486,14.5326599 20.7810486,9.46734008 17.6568542,6.34314575 C17.26633,5.95262146 16.633165,5.95262146 16.2426407,6.34314575 C15.8521164,6.73367004 15.8521164,7.36683502 16.2426407,7.75735931 C18.5857864,10.1005051 18.5857864,13.8994949 16.2426407,16.2426407 C15.8521164,16.633165 15.8521164,17.26633 16.2426407,17.6568542 C16.633165,18.0473785 17.26633,18.0473785 17.6568542,17.6568542 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M20.4852814,20.4852814 C25.1715729,15.7989899 25.1715729,8.20101013 20.4852814,3.51471863 C20.0947571,3.12419433 19.4615921,3.12419433 19.0710678,3.51471863 C18.6805435,3.90524292 18.6805435,4.5384079 19.0710678,4.92893219 C22.9763107,8.83417511 22.9763107,15.1658249 19.0710678,19.0710678 C18.6805435,19.4615921 18.6805435,20.0947571 19.0710678,20.4852814 C19.4615921,20.8758057 20.0947571,20.8758057 20.4852814,20.4852814 Z" fill-rule="nonzero"></path>\n    <path fill="currentColor" d="M1.0093689,8.0749622 C0.451909848,8.0749622 0,8.51944308 0,9.06903369 L0,14.9298135 C0,15.478824 0.443353176,15.923885 1.0093689,15.923885 L4,15.923885 L9.37646484,19.6916936 C10.2772423,20.3229555 11,19.9530982 11,18.872049 L11,5.1267982 C11,4.0451514 10.2731186,3.67878158 9.37646484,4.30715352 L4,8.0749622 L1.0093689,8.0749622 Z"></path>\n</svg>\n'});t.default=u},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,'.pf-player-container {\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  display: inherit;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  font-family: "Arial";\n  overflow: hidden; }\n  .pf-player-container:focus {\n    border: none;\n    outline-width: 0; }\n  .pf-player-container .pf-default-wrapper {\n    background-color: black;\n    position: relative;\n    width: 100%;\n    height: 100%; }\n  .pf-player-container .pf-player, .pf-player-container .pf-player video {\n    width: 100%;\n    height: 100%;\n    display: inherit; }\n  .pf-player-container .pf-ads {\n    width: 100%;\n    height: 100%;\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n  .pf-player-container .pf-controls {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px; }\n\n.mstr-hide-controls {\n  animation: hide-bars-animation 0.4s forwards; }\n\n.pf-ui-element-hidden {\n  visibility: hidden !important;\n  width: 0px !important; }\n\n.mstr-container,\n.mstr-container * {\n  box-sizing: border-box; }\n\n.mstr-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n\n.mstr-bottombar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  padding: 15px;\n  width: 100%;\n  background-image: linear-gradient(to top, black 0%, rgba(0, 0, 0, 0.738) 19%, rgba(0, 0, 0, 0.541) 34%, rgba(0, 0, 0, 0.382) 47%, rgba(0, 0, 0, 0.278) 56.5%, rgba(0, 0, 0, 0.194) 65%, rgba(0, 0, 0, 0.126) 73%, rgba(0, 0, 0, 0.075) 80.2%, rgba(0, 0, 0, 0.042) 86.1%, rgba(0, 0, 0, 0.021) 91%, rgba(0, 0, 0, 0.008) 95.2%, rgba(0, 0, 0, 0.002) 98.2%, transparent 100%); }\n\n.mstr-centerbar {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 100%;\n  transform: translateY(-50%);\n  text-align: center; }\n\n.mstr-items {\n  display: table;\n  position: relative; }\n\n.mstr-item {\n  color: white;\n  display: table-cell;\n  width: auto;\n  vertical-align: middle;\n  padding: 0 10px; }\n\n.mstr-item--fill {\n  width: 100%; }\n\n@keyframes show-bars-animation {\n  0% {\n    width: 0;\n    opacity: 0; }\n  1% {\n    width: 100%;\n    opacity: 0.01; }\n  100% {\n    width: 100%;\n    opacity: 1; } }\n\n@keyframes hide-bars-animation {\n  0% {\n    width: 100%;\n    opacity: 1; }\n  99% {\n    width: 100%;\n    opacity: 0.01; }\n  100% {\n    width: 0;\n    opacity: 0; } }\n',""])},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"",""])},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._3-7jdtXGk4-IHrW24dLF4t {\n  display: block; }\n",""]),t.locals={button:"_3-7jdtXGk4-IHrW24dLF4t"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._2DjGpA6bpztzCIAHvLvgPU {\n  width: 62px; }\n",""]),t.locals={container:"_2DjGpA6bpztzCIAHvLvgPU"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._2BkoXnFkGWrot4AcrmAdbW {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n._1L-Qm5xHQu3dqpQbSGrwcf {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n._1Svz3o9fO5ftw5nQmQvFqL {\n  display: none;\n  visibility: hidden; }\n\n._1nCAdn1flNYjKcqsd3vMgY {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n\n._2GjwLTf0ojMGQEkCzNc9Qz {\n  position: relative; }\n\n._1rkEbgdPOWi_wGc1u2I8d- {\n  position: absolute;\n  right: 0;\n  bottom: 100%;\n  padding-bottom: 15px; }\n  ._1rkEbgdPOWi_wGc1u2I8d-._1RtEWhu3XHXTFoQMs8Bq11 {\n    display: none; }\n\n._3h9pYFHPU_F9zDvpJizvfB {\n  padding: 6px 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 5px; }\n\n._3rREDsf0Lm5GHZCgo2IN2x {\n  color: rgba(255, 255, 255, 0.8);\n  padding: 10px 10px;\n  border-bottom: 1px solid #FFF; }\n  ._3rREDsf0Lm5GHZCgo2IN2x:last-child {\n    border-bottom: none; }\n  ._3rREDsf0Lm5GHZCgo2IN2x._1casQPYrLP1EAJDS5j5lKU {\n    color: #FFF; }\n",""]),t.locals={uiElementActive:"_2BkoXnFkGWrot4AcrmAdbW",uiElementInactive:"_1L-Qm5xHQu3dqpQbSGrwcf",uiElementHidden:"_1Svz3o9fO5ftw5nQmQvFqL",svg:"_1nCAdn1flNYjKcqsd3vMgY",element:"_2GjwLTf0ojMGQEkCzNc9Qz",qualitySelector:"_1rkEbgdPOWi_wGc1u2I8d-",isClosed:"_1RtEWhu3XHXTFoQMs8Bq11",qualitySelectorOptions:"_3h9pYFHPU_F9zDvpJizvfB",qualitySelectorOption:"_3rREDsf0Lm5GHZCgo2IN2x",isActive:"_1casQPYrLP1EAJDS5j5lKU"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._181pzaGPAC_T9tAWV6QGr2 {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n._34HJRVzoX0sjg7hE8zizlT {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n._2YqlyQ5IfHamFxMWACzod1 {\n  display: none;\n  visibility: hidden; }\n\n._3nu-n4al87Hz7XIosOX-f5 {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n\n.__QMpko2gypMzxD-xc0rU {\n  padding: 10px 0;\n  position: relative;\n  box-sizing: content-box; }\n\n.Q9eukuCtnT_-Fcd0tb9Y6 {\n  height: 3px;\n  position: relative; }\n\n.vp1lb339Cv24veCchlJ6u {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 9; }\n\n._27ccb9Jc7GHbPKwqIiIgdF {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transform-origin: left center; }\n  ._27ccb9Jc7GHbPKwqIiIgdF._9_dAhVeLpxCN3FbvN3Zez {\n    pointer-events: none;\n    background-color: #FFF; }\n  ._27ccb9Jc7GHbPKwqIiIgdF._3hQyLUi_gMJvDfDGRv3wVS {\n    pointer-events: none;\n    background-color: rgba(255, 255, 255, 0.2); }\n  ._27ccb9Jc7GHbPKwqIiIgdF._1lkiBaMr7OKk8Q6foNyo5n {\n    pointer-events: none;\n    background-color: #19c3dd; }\n  ._27ccb9Jc7GHbPKwqIiIgdF.mueI86PWlr-gbluFGUp9k {\n    pointer-events: none;\n    background-color: #19c3dd; }\n\n.dwAvjAdM1uSwv7k_PjRI1 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  width: 13px;\n  height: 13px;\n  border-radius: 50%;\n  background-color: #FFF;\n  transform: translate(-50%, -25%); }\n",""]),t.locals={uiElementActive:"_181pzaGPAC_T9tAWV6QGr2",uiElementInactive:"_34HJRVzoX0sjg7hE8zizlT",uiElementHidden:"_2YqlyQ5IfHamFxMWACzod1",svg:"_3nu-n4al87Hz7XIosOX-f5",wrapper:"__QMpko2gypMzxD-xc0rU",inner:"Q9eukuCtnT_-Fcd0tb9Y6",padding:"vp1lb339Cv24veCchlJ6u",seekBar:"_27ccb9Jc7GHbPKwqIiIgdF",duration:"_9_dAhVeLpxCN3FbvN3Zez",buffered:"_3hQyLUi_gMJvDfDGRv3wVS",fill:"_1lkiBaMr7OKk8Q6foNyo5n",highlight:"mueI86PWlr-gbluFGUp9k",seekDot:"dwAvjAdM1uSwv7k_PjRI1"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._2zHj0WVocyvMKIOudNUpfr {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n._1-sAne4zifx01HTw_xM9ni {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n._2UqqKEQ9kGq7YdZ2vk4gUK {\n  display: none;\n  visibility: hidden; }\n\n._2I_S0Cl2A-pul1AUt5bECR {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n\n.vo0_VuaPldBUoIrpVagQp {\n  color: #FFF;\n  position: absolute;\n  left: 0;\n  bottom: 100%;\n  color: white;\n  pointer-events: none; }\n  .vo0_VuaPldBUoIrpVagQp ._2tk7Qd5UQDWaxbkVieQlsZ {\n    position: relative;\n    display: block;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: #FFF;\n    transform: translateY(-16px);\n    opacity: 1;\n    transition: all 150ms ease-in-out;\n    font-size: .8em; }\n    .vo0_VuaPldBUoIrpVagQp ._2tk7Qd5UQDWaxbkVieQlsZ:after {\n      content: '';\n      position: absolute;\n      left: 50%;\n      bottom: -10px;\n      transform: translateX(-50%);\n      display: block;\n      border-top: 5px rgba(0, 0, 0, 0.8) solid;\n      border-bottom: 5px transparent solid;\n      border-left: 6px transparent solid;\n      border-right: 6px transparent solid; }\n  .vo0_VuaPldBUoIrpVagQp._3gswQCGUaphce8bP3mnvNT ._2tk7Qd5UQDWaxbkVieQlsZ {\n    transform: translateY(0);\n    opacity: 0; }\n",""]),t.locals={uiElementActive:"_2zHj0WVocyvMKIOudNUpfr",uiElementInactive:"_1-sAne4zifx01HTw_xM9ni",uiElementHidden:"_2UqqKEQ9kGq7YdZ2vk4gUK",svg:"_2I_S0Cl2A-pul1AUt5bECR",container:"vo0_VuaPldBUoIrpVagQp",previewTime:"_2tk7Qd5UQDWaxbkVieQlsZ",isHidden:"_3gswQCGUaphce8bP3mnvNT"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._1d0zv-YPmo1Ldno5TIUoEa {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n._20AZqi0DFj0l7W2MSMC0K {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n.k7AdDQ9UeafLwrS3oMDMB {\n  display: none;\n  visibility: hidden; }\n\n.Zhc3tWX4acnrOslNR6TeC {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n\n._3evMdf81zHb9adbp8ayXKg {\n  text-align: center;\n  display: inline-block; }\n\n._1_0YxXFDEW3QGMIEn1l0UW {\n  display: inline-block;\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  border: 3px solid #FFF;\n  border-bottom-color: transparent;\n  background-color: rgba(0, 0, 0, 0.4);\n  animation: _3dUNERw2qIIYEGsihFBEZq 1s linear forwards infinite;\n  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.4); }\n\n._34DF9shkBnJYlpUMBOhf84 {\n  font-size: 1em;\n  margin-top: .4em;\n  padding: .4em 1em;\n  color: #FFF;\n  background-color: rgba(0, 0, 0, 0.4);\n  border-radius: 5px; }\n\n._2VIkdLXXt3VfC7JWCLHXfq {\n  display: none; }\n\n@keyframes _3dUNERw2qIIYEGsihFBEZq {\n  from {\n    transform: rotate(0deg); }\n  to {\n    transform: rotate(360deg); } }\n",""]),t.locals={uiElementActive:"_1d0zv-YPmo1Ldno5TIUoEa",uiElementInactive:"_20AZqi0DFj0l7W2MSMC0K",uiElementHidden:"k7AdDQ9UeafLwrS3oMDMB",svg:"Zhc3tWX4acnrOslNR6TeC",container:"_3evMdf81zHb9adbp8ayXKg",spinner:"_1_0YxXFDEW3QGMIEn1l0UW",spinSpinner:"_3dUNERw2qIIYEGsihFBEZq",message:"_34DF9shkBnJYlpUMBOhf84",hidden:"_2VIkdLXXt3VfC7JWCLHXfq"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"._3eQbS0Zn_3j-9Xm9wBsK1P {\n  white-space: nowrap; }\n\n._2B9-HeFA7C4xARoMI9cCKn {\n  display: inline-block;\n  padding: 0 .1em; }\n",""]),t.locals={container:"_3eQbS0Zn_3j-9Xm9wBsK1P",seperator:"_2B9-HeFA7C4xARoMI9cCKn"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,".v5t06TRsOeMUDMQnYoyPM {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n.Q1Suh1PnogvUjYp5fDcg9 {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n._1M8QRzyDMWTYCenJKZ4c5t {\n  display: none;\n  visibility: hidden; }\n\n.uJYQ0qTl7XvHLKoiCSy4e {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n\n._2GflfmqwaYB2qLzX2ey8p8 {\n  position: relative; }\n\n._16fXrOcWTt7zR7RfJV-cDc {\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  padding-bottom: 15px; }\n  ._16fXrOcWTt7zR7RfJV-cDc._3g6zNZaiv9EzypziOuhuoH {\n    display: none; }\n\n._2de5BsC_TROol822hJDj2c {\n  padding: 16px 18px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 5px; }\n\n.urVWpavSqihMZbXG2J7sk {\n  position: relative;\n  height: 100px;\n  width: 3px;\n  background-color: #FFF; }\n\n._2Xy-XF0I43HeNHwPvSg2qI {\n  position: relative;\n  height: 100%;\n  background-color: #19c3dd;\n  transform-origin: bottom center; }\n\n._1JBxjTYI2aPUth7YdIJH7r {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  width: 13px;\n  height: 13px;\n  border-radius: 50%;\n  background-color: #FFF;\n  transform: translate(-50%, 50%); }\n",""]),t.locals={uiElementActive:"v5t06TRsOeMUDMQnYoyPM",uiElementInactive:"Q1Suh1PnogvUjYp5fDcg9",uiElementHidden:"_1M8QRzyDMWTYCenJKZ4c5t",svg:"uJYQ0qTl7XvHLKoiCSy4e",volume:"_2GflfmqwaYB2qLzX2ey8p8",container:"_16fXrOcWTt7zR7RfJV-cDc",isClosed:"_3g6zNZaiv9EzypziOuhuoH",inner:"_2de5BsC_TROol822hJDj2c",volumeBar:"urVWpavSqihMZbXG2J7sk",volumeBarFill:"_2Xy-XF0I43HeNHwPvSg2qI",volumeBarFigure:"_1JBxjTYI2aPUth7YdIJH7r"}},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,".OZ4P-74HjncIZPPMIe1FP {\n  cursor: pointer;\n  pointer-events: all;\n  color: #FFF; }\n\n._K2hZrPaL1ViV8PoFwKqV {\n  cursor: not-allowed;\n  pointer-events: none;\n  color: #FFF;\n  opacity: .8; }\n\n._1-mv6TpMQsZ7SVRwjGyts1 {\n  display: none;\n  visibility: hidden; }\n\n._3M5Ou7Yb--qH26Gz3F-Plp {\n  display: block;\n  width: 30px;\n  height: 30px;\n  color: #FFF; }\n",""]),t.locals={uiElementActive:"OZ4P-74HjncIZPPMIe1FP",uiElementInactive:"_K2hZrPaL1ViV8PoFwKqV",uiElementHidden:"_1-mv6TpMQsZ7SVRwjGyts1",svg:"_3M5Ou7Yb--qH26Gz3F-Plp"}},function(e,t,n){var r=n(41);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(42);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(44);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(46);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(47);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(48);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(50);"string"==typeof r&&(r=[[e.i,r,""]]),n(3)(r,{sourceMap:!0}),r.locals&&(e.exports=r.locals)},function(e,t){e.exports={name:"@meisterplayer/plugin-htmlui",version:"5.3.5",description:"HTML based userinterface with preconfigured elements. Can be used to create your own userinterface",main:"dist/HtmlUi.js",keywords:["meister","plugin","ui","custom"],scripts:{lint:"eslint ./src/js",test:"jest","test:coverage":"jest --coverage",build:"gulp build",dist:"gulp build:min && gulp build:dist"},author:"Triple",license:"Apache-2.0",devDependencies:{"@meisterplayer/meister-mock":"^1.0.0","babel-preset-es2015":"^6.24.1","babel-preset-es2017":"^6.24.1",gulp:"^3.9.1",jest:"^20.0.4","meister-gulp-webpack-tasks":"^1.0.11","meister-js-dev":"^3.1.0",yargs:"^8.0.1"},jest:{moduleNameMapper:{"^.+\\.(s?css|less)$":"<rootDir>/__mocks__/styleStub.js"}}}},function(e,t,n){e.exports=n(8)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(2),f=function(e){return e&&e.__esModule?e:{default:e}}(c),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isItemSupported",value:function(e){return new Promise(function(t){return t("multi-source"!==e.type?{supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE}:{supported:!0})})}},{key:"restructureItems",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<e.length;r+=1){var i=e[r];Object.prototype.hasOwnProperty.call(i,"drm")||(i.drm=t),n.push(i)}return n}},{key:"getItemToPlay",value:function(e){var t=this,n=e[0];return this.meister.pluginLoader.getPluginByItem(n).then(function(r){return r.errorCode&&e.length>1?(e.shift(),t.getItemToPlay(e)):r.errorCode?(t.meister.error("Could not find plugin to play type: '"+n.type+"'.","MLTSRC-0001",{title:"Unable to play content."}),null):n})}},{key:"process",value:function(e){var t=this;return e.src&&!e.sources&&(e.sources=e.src),this.currentItem=e,void 0===this.currentItem.switchItemOnError&&(this.currentItem.switchItemOnError=!0),new Promise(function(n,r){var i="object"===s(e.drmConfig);e.sources=t.restructureItems(e.sources,i),t.getItemToPlay(e.sources).then(function(i){null==i?r(e):(e.metadata&&(i.metadata=e.metadata),t.currentItem.switchItemOnError&&t.on("playerError",t.onPlayerError.bind(t)),n(i))})})}},{key:"onPlayerError",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this);var e=this.currentItem.sources.shift();this.currentItem.sources.length&&(console.warn(t.pluginName+": Item '"+e.type+"' ran into an error while playing. Switching items for optimal experience."),this.meister.setItem(this.currentItem),this.meister.load())}}],[{key:"pluginName",get:function(){return"MultiSource"}},{key:"pluginVersion",get:function(){return f.default.version}}]),t}(Meister.ParserPlugin);Meister.registerPlugin(d.pluginName,d),Meister.registerPlugin("multisource",d),t.default=d},function(e,t){e.exports={name:"@meisterplayer/plugin-multisource",version:"5.2.0",description:"Meister plugin for having multiple sources in one item",main:"dist/MultiSource.js",keywords:["meister","video","plugin"],repository:{type:"git",url:"https://github.com/meisterplayer/parser-multisource.git"},author:"Triple",license:"Apache-2.0",devDependencies:{"meister-gulp-webpack-tasks":"^1.0.6","meister-js-dev":"^3.1.0","babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1"}}},function(e,t,n){e.exports=n(0)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=n(3),d=i(f),h=n(4),p=i(h),v=n(5),g=i(v),y=n(2),m=i(y),b=function(e){function t(e,n,r){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.manifestParsed=!1,i.audioMode=!1,i.metadata=[],i.previousMetadata=null,i.next=r,i.previousLevel=-1,i.lowestLevel=0,i.dvrThreshold=i.config.dvrThreshold,void 0===i.dvrThreshold&&(i.dvrThreshold=300),i.mediaDuration=0,i.endTime=0,i.beginTime=0,i.mediaSequence=0,i.lastMediaSequence=0,i.childManifest=null,i.qualityStreams=[],i.masterPlaylist=null,i.baseEndTime=0,i.manifestTimeoutId=null,i.pollResolutionId=null,i.currentResolution={width:0,height:0},i.name="nativeHLS",i.events=[],i}return s(t,e),l(t,[{key:"isItemSupported",value:function(e){var t=this;return new Promise(function(n){return"m3u8"!==e.type&&"m3u"!==e.type?n({supported:!1,errorCode:Meister.ErrorCodes.WRONG_TYPE}):t.meister.browser.isSafari&&(t.meister.browser.isiOS||!t.config.safariDesktopDisabled)||t.meister.browser.isFacebook||t.meister.browser.isiOS?e.drm||e.drmConfig?(t.meister.one("drmKeySystemSupport",function(e){var t=!1;return Object.keys(e).forEach(function(n){("com.apple.fps"===n&&e[n]||"com.apple.fps.1_0"===n&&e[n]||"com.apple.fps.2_0"===n&&e[n])&&(t=!0)}),n({supported:t,errorCode:t?null:Meister.ErrorCodes.NO_DRM})}),void t.meister.trigger("requestDrmKeySystemSupport",{})):n({supported:!0}):n({supported:!1,errorCode:Meister.ErrorCodes.NOT_SUPPORTED})})}},{key:"resetPrivates",value:function(){this.metadata=[],this.previousMetadata=null,this.manifestParsed=!1,this.previousLevel=-1,this.lowestLevel=0,this.mediaDuration=0,this.item=null}},{key:"process",value:function(e){var t=this;return this.next(e).then(function(e){return t.player=t.meister.getPlayerByType("html5",e),t.meister.config.audioOnly||"audio"===e.mediaType?t.audioMode=!0:t.audioMode=!1,e}).catch(function(e){console.error("Something went wrong while processing middlewares. "+e)})}},{key:"load",value:function(e){var n=this;return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e),this.item=e,new Promise(function(t){n.mediaElement=n.player.mediaElement,n.mediaElement.src=e.src,n.masterPlaylist=e.src,n.on("requestBitrate",n.onRequestBitrate.bind(n)),n.on("requestGoLive",function(){return n.onRequestGoLive()}),n.mediaElement.textTracks.addEventListener("addtrack",n.onAddTextTrack.bind(n)),n.pollResolutionId=setInterval(n.pollResolution.bind(n),1e3),n.loadManifest(e.src).then(function(t){n.endTime=t.duration,n.baseEndTime=n.endTime,n.mediaDuration=t.duration,n.mediaSequence=t.mediaSequence,n.beginTime=n.endTime-n.mediaDuration;var r=Object.keys(t.segments)[Object.keys(t.segments).length-1];n.lastMediaSequence=r;var i=t.duration>n.dvrThreshold&&t.isLive;!1===n.config.dvrEnabled&&(i=!1),n.meister.trigger("itemTimeInfo",{isLive:t.isLive,hasDVR:i,duration:n.mediaDuration,modifiedDuration:n.mediaDuration,endTime:n.endTime}),e.startFromBeginning?"object"===u(e.startFromBeginning)?n.onRequestSeek({relativePosition:e.startFromBeginning.offset/n.duration}):isNaN(n.meister.duration)?n.meister.one("playerCanPlay",function(){n.meister.currentTime=0}):n.meister.currentTime=0:t.isLive&&n.onRequestGoLive(),n.manifestTimeoutId=setTimeout(function(){n.getNewManifest()},5e3)}),t()})}},{key:"_onPlayerTimeUpdate",value:function(){var e=this.endTime-this.mediaDuration;this.meister.trigger("playerTimeUpdate",{currentTime:this.player.currentTime-e,duration:this.mediaDuration}),this.broadcastTitle()}},{key:"_onPlayerSeek",value:function(){var e=this.endTime-this.mediaDuration,t=this.player.currentTime-e,n=this.mediaDuration,r=t/n;this.meister.trigger("playerSeek",{relativePosition:r,currentTime:t,duration:n})}},{key:"onRequestSeek",value:function(e){var t=void 0;if(Number.isFinite(e.relativePosition)){var n=this.endTime-this.mediaDuration;t=this.mediaDuration*e.relativePosition+n}else if(Number.isFinite(e.timeOffset))t=this.player.currentTime+e.timeOffset;else if(Number.isFinite(e.targetTime)){var r=this.endTime-this.mediaDuration;t=e.targetTime+r}!e.forcedStart&&this.blockSeekForward&&t>this.player.currentTime||Number.isFinite(t)&&(this.player.currentTime=t)}},{key:"onAddTextTrack",value:function(e){var t=this,n=e.track;n.mode="hidden",n.addEventListener("cuechange",function(e){var n=e.target,r=Array.from(n.activeCues).filter(function(e){return"org.id3"===e.type}),i=r.map(function(e){return new m.default(e.value.key,e.value.data,e.startTime,e.endTime)});t.meister.trigger("id3Tags",i)})}},{key:"onRequestGoLive",value:function(){var e=this;isNaN(this.player.duration)?this.meister.one("playerLoadedMetadata",function(){e.onRequestGoLive()}):this.player.currentTime=this.endTime-30}},{key:"broadcastTitle",value:function(){var e=this.player.currentTime;if(!(this.previousMetadata&&this.previousMetadata.start<e&&e<this.previousMetadata.end)){var t=this.currentlyPlaying;this.previousMetadata&&t.title===this.previousMetadata.title||(this.previousMetadata=t,this.meister.trigger("itemMetadata",{title:t.title}))}}},{key:"onRequestBitrate",value:function(e){var t=this,n=this.player.currentTime,r=this.meister.playing;e.drmConfig&&this.meister.trigger("drmConfig",e.drmConfig),this.meister.playerPlugin.mediaElement.src="",-1===e.bitrateIndex?this.meister.playerPlugin.mediaElement.src=this.masterPlaylist:this.meister.playerPlugin.mediaElement.src=this.meister.utils.resolveUrl(this.masterPlaylist,this.qualityStreams[e.bitrateIndex].url),this.playOffset=0,this.endTime=this.baseEndTime,this.meister.one("playerLoadedMetadata",function(){t.player.currentTime=n,r?t.meister.play():t.meister.pause()})}},{key:"onError",value:function(e,t){console.warn("Error in "+this.name+", type: "+t.details+", will attempt to recover."),t.fatal&&console.error("Can not recover from "+t.type+": "+t.details+".")}},{key:"pollResolution",value:function(){var e=this.mediaElement.videoHeight,t=this.mediaElement.videoWidth;if(this.currentResolution.width!==t||this.currentResolution.height!==e){var n=this.qualityStreams.find(function(n){return n.resolution&&n.resolution.width===t&&n.resolution.height===e});if(n){var r=this.qualityStreams.indexOf(n);this.meister.trigger("playerAutoSwitchBitrate",{newBitrate:parseInt(n.bandwith,10),newBitrateIndex:r}),this.currentResolution=n.resolution}}}},{key:"getNewManifest",value:function(){var e=this;this.loadManifest(this.childManifest).then(function(t){for(var n=Object.keys(t.segments)[Object.keys(t.segments).length-1],r=n-e.lastMediaSequence,i=0;i<r;i++)e.endTime+=t.segments[Object.keys(t.segments)[i]];e.mediaDuration=t.duration,e.beginTime=e.endTime-t.duration,e.lastMediaSequence=n;var o=t.duration>e.dvrThreshold&&t.isLive;!1===e.config.dvrEnabled&&(o=!1),e.meister.trigger("itemTimeInfo",{isLive:t.isLive,hasDVR:o,duration:e.mediaDuration,modifiedDuration:e.mediaDuration,endTime:e.endTime}),e.manifestTimeoutId=setTimeout(function(){e.getNewManifest()},5e3)},function(){console.warn("WARNING: Could not load manifest, retrying loading manifest."),e.manifestTimeoutId=setTimeout(function(){e.getNewManifest()},5e3)})}},{key:"loadManifest",value:function(e){var t=this;return new Promise(function(n){d.default.get(e,function(r){var i=new p.default(r.responseText),o=i.parse();o.streams.length?(t.config.filterAudioOnly?t.qualityStreams=o.streams.filter(function(e){return e.resolution}):t.qualityStreams=o.streams,t.onQualitysAvailable(),t.childManifest=t.meister.utils.resolveUrl(e,o.streams[0].url),t.loadManifest(t.meister.utils.resolveUrl(e,o.streams[0].url)).then(function(e){n(e)})):n(o)})})}},{key:"onQualitysAvailable",value:function(){var e=[];e.push({bitrate:0,index:-1});for(var t=0;t<this.qualityStreams.length;t++){var n=this.qualityStreams[t];e.push({bitrate:parseInt(n.bandwith,10),index:t})}this.meister.trigger("itemBitrates",{bitrates:e,currentIndex:-1})}},{key:"unload",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),this.manifestTimeoutId&&clearTimeout(this.manifestTimeoutId),this.pollResolutionId&&clearInterval(this.pollResolutionId),this.meister.remove(this.events),this.mediaDuration=0,this.endTime=0,this.baseEndTime=0,this.beginTime=0,this.mediaSequence=0,this.lastMediaSequence=0,this.childManifest=null,this.qualityStreams=[],this.masterPlaylist=null,this.manifestTimeoutId=null,this.pollResolutionId=null,this.currentResolution={width:0,height:0},this.mediaElement=null}},{key:"destroy",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.mediaDuration}},{key:"currentTime",get:function(){if(!this.player)return NaN;var e=this.endTime-this.mediaDuration;return this.player.currentTime-e},set:function(e){if(this.player){var t=this.endTime-this.mediaDuration;this.player.currentTime=e+t}}},{key:"currentItem",get:function(){var e=this.currentlyPlaying;return{src:this.item.src,type:this.item.type,title:e.title,bitrate:e.bitrate}}},{key:"currentlyPlaying",get:function(){for(var e={bitrate:0,title:""},t=null,n=this.player.currentTime,r=this.metadata.length-1;r>=0;r--)if(this.metadata[r].start<n&&n<this.metadata[r].end){t=this.metadata[r];break}return t&&(e.title=t.title,e.start=t.start,e.end=t.end,e.duration=t.end-t.start),e}}],[{key:"pluginName",get:function(){return"NativeHls"}},{key:"pluginVersion",get:function(){return g.default.version}}]),t}(Meister.MediaPlugin);Meister.registerPlugin(b.pluginName,b),Meister.registerPlugin("nativehls",b),t.default=b},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.data=n,this.key=t,this.type="org.id3",this.startTime=i,this.endTime=o};t.default=i},function(e,t,n){function i(e,t){if(h(e)){this.instID=this.constructor.name+"."+Math.random()*(new Date).getTime();var n,r=e.method,o=e.url,a="",l="timeout"in e?e.timeout:3e3;if(this.timestamp=0,this.method=r,this.url=o,this.status=0,this.bytesDownloaded=0,this.totalSizeInBytes=0,this.downloadProgress=0,this.bandwidth=null,this.timeOfRequest=null,this.timeOfResponse=null,this.roundTripTime=null,this.onReady=null,this.onProgress=null,this.onLoadStart=null,this.onError=null,this.onSuccess=t,n=new XMLHttpRequest,"data"in e&&(a=p(e.data)),n.onreadystatechange=function(e){this.status=n.status,null!==this.onReady&&this.onReady()}.bind(this),n.onprogress=function(e){v.call(this,e),null!==this.onProgress&&this.onProgress()}.bind(this),n.onloadstart=function(e){this.timestamp=e.timeStamp,null!==this.onLoadStart&&this.onLoadStart()}.bind(this),n.onerror=function(e){i.downloadingRequests-=1,null!==this.onError?(this.onError||s)(n):this.onSuccess(null)}.bind(this),n.onload=function(e){v.call(this,e),i.downloadingRequests-=1;for(var t=0;t<u.length;t++){u[t].id==this.instID&&u.splice(t,1)}this.timeOfResponse=(new Date).getTime(),this.roundTripTime=this.timeOfResponse-this.timeOfRequest,n.bandwidth=Math.floor(this.bytesDownloaded/this.roundTripTime*8*1e3),this.bandwidth=n.bandwidth,this.onSuccess(n)}.bind(this),"GET"===r&&(o+=a),n.open(r,o,!0),this.timeOfRequest=(new Date).getTime(),i.downloadingRequests+=1,"responseType"in e&&(n.responseType=e.responseType),"headers"in e)for(var c in e.headers)e.headers.hasOwnProperty(c)&&(console.log("Setting header",c,"with",e.headers[c]),n.setRequestHeader(c,e.headers[c]));u.push({id:this.instID,inst:this});try{n.send(a)}catch(e){console.error("HTTP Request aborted due: ",e),(this.onError||s)(n)}this.timeout=setTimeout(function(){0===this.bytesDownloaded&&(this.abort(),null!==this.onError?this.onError(n):this.onSuccess(null)),clearTimeout(this.timeout)}.bind(this),l),this.xhr=n}}var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a=0,s=function(){},u=[],l=0,c=[],f=[],d=function(e){var t=e;return"object"===(void 0===e?"undefined":o(e))&&null!==e&&function(){for(;;)if(null===Object.getPrototypeOf(t=Object.getPrototypeOf(t)))break;return Object.getPrototypeOf(e)===t}()},h=function(e){return d(e)?"method"in e?"url"in e||(console.error("Cannot construct http request, the url was not specified.",e),!1):(console.error("Cannot construct http request, the method was not specified.",e),!1):(console.error("Cannot construct http request, the options parameter is not an object literal.",e),!1)},p=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},v=function(e){e.loaded<this.bytesDownloaded&&(this.bytesDownloaded=0);var t=e.loaded-this.bytesDownloaded,n=e.timeStamp-this.timestamp;a+=n,l+=t,i.totalBytesDownloaded+=t,this.bytesDownloaded=e.loaded,this.totalSizeInBytes=e.total,this.timestamp=e.timeStamp,this.downloadProgress=this.bytesDownloaded/this.totalSizeInBytes,i.resetStatistics()};i.downloadingRequests=0,i.totalBytesDownloaded=0,i.averagedBandwidth=0,i.get=function(e,t){return new i({url:e,method:"GET",data:{}},t)},i.post=function(e,t,n){return new i({url:e,method:"POST",data:t},n)},i.abortAll=function(){for(var e=0;e<u.length;e++){u[e].inst.abort()}},i.resetStatistics=function(){var e,t=0,n=0,r=null;for(a>0&&(f.push(a),a=0,f.length>7&&f.shift()),l>0&&(c.push(l),l=0,c.length>7&&c.shift()),e=0;e<f.length;e++)t+=f[e];for(e=0;e<c.length;e++)n+=c[e];t>0&&(r=1e3*n/t),i.averagedBandwidth=0===i.averagedBandwidth?r:(i.averagedBandwidth+r)/2,a=0,l=0},i.prototype.abort=function(){var e=this.xhr;e.onerror=null,e.abort(),i.downloadingRequests-=1},i.prototype.done=function(e){return this.onSuccess=e,this},i.prototype.error=function(e){return this.onError=e,this},i.prototype.progress=function(e){return this.onProgress=e,this},e.exports=i},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.text=t}return i(e,[{key:"parse",value:function(){var e=this.text.split("\n"),t={streams:[],segments:{},mediaSequence:0,duration:0,isLive:!0},n=!1,r=t.mediaSequence,i={};return e.forEach(function(e){n&&(i.url=e,t.streams.push(i),i={},n=!1),e.startsWith("#EXT-X-STREAM-INF")&&(n=!0),e.startsWith("#EXT-X-ENDLIST")&&(t.isLive=!1);var o=/^#EXT-X-STREAM-INF:.*BANDWIDTH=(\d*)?/.exec(e);if(o&&o[1]){var a=o[1];i.bandwith=a}var s=/^#EXT-X-STREAM-INF:.*RESOLUTION=(\d*x\d*)?/.exec(e);if(s&&s[1]){var u=s[1].split("x");if(u.length<2)i.resolution={width:0,height:0};else{var l={width:parseInt(u[0],10),height:parseInt(u[1],10)};i.resolution=l}}var c=/^#EXTINF:?([0-9\.]*)?,?(.*)?/.exec(e);c&&c[1]&&(t.segments[r]=parseFloat(c[1]),r++,t.duration+=parseFloat(c[1]));var f=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e);f&&f[1]&&(t.mediaSequence=parseInt(f[1],10),r=parseInt(f[1],10))}),t}}]),e}();t.default=o},function(e,t){e.exports={name:"@meisterplayer/plugin-nativehls",version:"5.5.1",description:"Meister plugin for playback of HLS in browsers that support it natively (ex. Safari)",main:"dist/NativeHls.js",keywords:["meister","video","plugin","hls"],repository:{type:"git",url:"https://github.com/meisterplayer/media-nativehls.git"},author:"Triple",license:"Apache-2.0",dependencies:{},devDependencies:{"meister-gulp-webpack-tasks":"^1.0.6","meister-js-dev":"^3.1.0","babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1"},peerDependencies:{"@meisterplayer/meisterplayer":">= 5.1.0"}}},function(e,t,n){e.exports=n(0)}])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=5)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,e),this.intervalTime=Number.isFinite(t)?1e3*t:5e3,this.debug=n,this.shouldCallCallback=!0,this.lastBeat=0,this.intervalId=0}return i(e,[{key:"beat",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.intervalId&&(this.debug&&console.log("Removing previous interval"),clearInterval(this.intervalId)),this.lastBeat=Date.now(),this.intervalId=setInterval(function(){var n=Date.now(),r=n-e.lastBeat;e.lastBeat=n,e.shouldCallCallback&&t(r)},this.intervalTime)}},{key:"mute",value:function(){this.shouldCallCallback=!1}},{key:"unmute",value:function(){this.shouldCallCallback=!0}},{key:"kill",value:function(){clearInterval(this.intervalId)}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return new Promise(function(t,n){var r=document.createElement("script");r.type="text/javascript",r.src=e,r.async=!0,r.addEventListener("load",t),r.addEventListener("error",n),document.body.appendChild(r)})};t.default=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=i(l),f=n(1),d=i(f),h=n(4),p=i(h),v=function(e){function t(e,n){var r;o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(i.config.scriptUrl&&""!==i.config.scriptUrl?i.scriptUrl=i.config.scriptUrl:(console.warn("GoogleAnalytics: no scriptUrl defined in the configuration. In future versions of the Meister player this is mandatory."),i.scriptUrl="https://www.google-analytics.com/analytics.js"),!i.config.trackingID){var s;return console.error("GoogleAnalytics: no trackingID defined, plugin will not load."),s=[],a(i,s)}return"none"!==i.scriptUrl&&(0,c.default)(i.scriptUrl),i.trackUIUserEventsOnly=!!i.config.trackUIUserEventsOnly&&i.config.trackUIUserEventsOnly,i.trackingName=i.config.trackingName||"meister",i.sendCommand=i.trackingName+".send",i.config.defaultOptions?(i.defaultHeartBeatInterval=Number.isFinite(i.config.defaultOptions.heartBeatInterval)?i.config.defaultOptions.heartBeatInterval:5,i.defaultEventCategory=i.config.defaultOptions.eventCategory?i.config.defaultOptions.eventCategory:"meister_player",i.defaultLabel=i.config.defaultOptions.label?i.config.defaultOptions.label:"untitled"):(i.defaultHeartBeatInterval=5,i.defaultEventCategory="meister_player",i.defaultLabel="untitled"),window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date,window.ga("create",i.config.trackingID,"auto",i.trackingName),window.ga(i.sendCommand,"pageview"),i.hasPlayed=!1,r=i,a(i,r)}return s(t,e),u(t,[{key:"onHeartBeat",value:function(e){window.ga(this.sendCommand,"event",this.eventCategory,"heartbeat",e)}},{key:"muteHeart",value:function(e){this.heart&&(e?this.heart.mute():this.heart.unmute())}},{key:"stopHeart",value:function(){this.heart&&(this.heart.kill(),this.heart=null)}},{key:"onItemLoaded",value:function(e){var t=this.defaultHeartBeatInterval;e.item.googleAnalyticsOptions&&void 0!==e.item.googleAnalyticsOptions.heartBeatInterval&&null!==e.item.googleAnalyticsOptions.heartBeatInterval&&(t=e.item.googleAnalyticsOptions.heartBeatInterval),t>0&&(this.heart=new d.default(t));var n=this.defaultEventCategory;e.item.googleAnalyticsOptions&&void 0!==e.item.googleAnalyticsOptions.eventCategory&&null!==e.item.googleAnalyticsOptions.eventCategory&&(n=e.item.googleAnalyticsOptions.eventCategory.toString()),""!==n&&(this.eventCategory=n);var r=this.defaultLabel;e.item.googleAnalyticsOptions&&void 0!==e.item.googleAnalyticsOptions.label&&null!==e.item.googleAnalyticsOptions.label&&(r=e.item.googleAnalyticsOptions.label.toString()),this.label="untitled"===r?this.meister.currentItem.title||r:r}},{key:"onPlayerPlay",value:function(e){if(!this.trackUIUserEventsOnly||!e||e.triggerByUser){var t="resume";this.hasPlayed||(this.hasPlayed=!0,t="play",this.heart&&this.heart.beat(this.onHeartBeat.bind(this))),this.muteHeart(!1),window.ga(this.sendCommand,"event",this.eventCategory,t,this.label)}}},{key:"onPlayerPause",value:function(e){this.trackUIUserEventsOnly&&e&&!e.triggerByUser||(this.muteHeart(!0),window.ga(this.sendCommand,"event",this.eventCategory,"pause",this.label))}},{key:"onItemUnloaded",value:function(){this.endSession()}},{key:"onPlayerEnd",value:function(){this.endSession()}},{key:"onPlayerDestroyed",value:function(){this.endSession()}},{key:"endSession",value:function(){this.hasPlayed&&(this.stopHeart(),this.hasPlayed=!1,window.ga(this.sendCommand,"event",this.eventCategory,"end",this.label))}},{key:"onPlayerVolumeChange",value:function(){window.ga(this.sendCommand,"event",this.eventCategory,"volume",this.label)}},{key:"onPlayerSwitchBitrate",value:function(){window.ga(this.sendCommand,"event",this.eventCategory,"quality",this.label)}},{key:"onPlayerFullscreen",value:function(){window.ga(this.sendCommand,"event",this.eventCategory,"full_screen",this.label)}}],[{key:"pluginName",get:function(){return"GoogleAnalytics"}},{key:"pluginVersion",get:function(){return p.default.version}}]),t}(Meister.AnalyticsPlugin);Meister.registerPlugin(v.pluginName,v),t.default=v},function(e,t){e.exports={name:"@npm-wearetriple/meister-plugin-googleanalytics",version:"5.3.0",description:"",main:"dist/GoogleAnalytics.js",scripts:{},keywords:["meister","video","plugin"],author:"Triple",license:"Apache-2.0",devDependencies:{gulp:"^3.9.1","meister-gulp-webpack-tasks":"^1.0.9","meister-js-dev":"^3.1.0"},dependencies:{"@npm-wearetriple/heartbeat":"^1.0.2","promise-script-loader":"^0.1.3"}}},function(e,t,n){e.exports=n(0)}])},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(334),n(335),n(135),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(124))},function(e,t,n){"use strict";n(142),e.exports=n(22).RegExp.escape},function(e,t,n){"use strict";var r=n(4),i=n(53),o=n(5)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){"use strict";var r=n(1),i=n(26);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){"use strict";var r=n(36),i=n(57),o=n(48);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(0),i=n(140)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.P,"Array",{copyWithin:n(91)}),n(29)("copyWithin")},function(e,t,n){"use strict";var r=n(0),i=n(21)(4);r(r.P+r.F*!n(20)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0);r(r.P,"Array",{fill:n(63)}),n(29)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(21)(2);r(r.P+r.F*!n(20)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(21)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)(o)},function(e,t,n){"use strict";var r=n(0),i=n(21)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)("find")},function(e,t,n){"use strict";var r=n(0),i=n(21)(0),o=n(20)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(19),i=n(0),o=n(9),a=n(102),s=n(71),u=n(8),l=n(65),c=n(88);i(i.S+i.F*!n(55)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,y=0,m=c(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==m||h==Array&&s(m))for(t=u(d.length),n=new h(t);t>y;y++)l(n,y,g?v(d[y],y):d[y]);else for(f=m.call(d),n=new h;!(i=f.next()).done;y++)l(n,y,g?a(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(0),i=n(49)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(20)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Array",{isArray:n(53)})},function(e,t,n){"use strict";var r=n(0),i=n(17),o=[].join;r(r.P+r.F*(n(47)!=Object||!n(20)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(17),o=n(25),a=n(8),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(20)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(0),i=n(21)(1);r(r.P+r.F*!n(20)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(65);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(93);r(r.P+r.F*!n(20)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(93);r(r.P+r.F*!n(20)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(69),o=n(18),a=n(40),s=n(8),u=[].slice;r(r.P+r.F*n(3)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),l=a(t,n),c=s(l-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(0),i=n(21)(3);r(r.P+r.F*!n(20)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(9),a=n(3),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(20)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";n(39)("Array")},function(e,t,n){"use strict";var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(137);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(26);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(12)(i,r,n(138))},function(e,t,n){"use strict";var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(13)(r,"toString",function(){var e=o.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,n){"use strict";var r=n(0);r(r.P,"Function",{bind:n(94)})},function(e,t,n){"use strict";var r=n(4),i=n(16),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(7).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){"use strict";var r=n(7).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(6)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(0),i=n(105),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){"use strict";function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){"use strict";var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){"use strict";var r=n(0),i=n(75);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){"use strict";var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){"use strict";var r=n(0),i=n(74);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{fround:n(104)})},function(e,t,n){"use strict";var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){"use strict";var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log1p:n(105)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{sign:n(75)})},function(e,t,n){"use strict";var r=n(0),i=n(74),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){"use strict";var r=n(0),i=n(74),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(2),i=n(11),o=n(18),a=n(70),s=n(26),u=n(3),l=n(35).f,c=n(15).f,f=n(7).f,d=n(44).trim,h=r.Number,p=h,v=h.prototype,g="Number"==o(n(34)(v)),y="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(g?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new p(m(t)),n,h):m(t)};for(var b,E=n(6)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;E.length>_;_++)i(p,b=E[_])&&!i(h,b)&&f(h,b,c(p,b));h.prototype=v,v.constructor=h,n(13)(r,"Number",h)}},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){"use strict";var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{isInteger:n(101)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";var r=n(0),i=n(101),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){"use strict";var r=n(0),i=n(113);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){"use strict";var r=n(0),i=n(114);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){"use strict";var r=n(0),i=n(25),o=n(90),a=n(82),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=i(e),g="",y="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(t=v(u*p(2,69,1))-69,n=t<0?u*p(2,-t,1):u/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),y=h()}else f(0,n),f(1<<-t,0),y=h()+a.call("0",l);return l>0?(s=y.length,y=g+(s<=l?"0."+a.call("0",l-s)+y:y.slice(0,s-l)+"."+y.slice(s-l))):y=g+y,y}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(90),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F,"Object",{assign:n(107)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{create:n(34)})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(108)})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){"use strict";var r=n(4),i=n(30).onFreeze;n(24)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";var r=n(17),i=n(15).f;n(24)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){"use strict";n(24)("getOwnPropertyNames",function(){return n(109).f})},function(e,t,n){"use strict";var r=n(9),i=n(16);n(24)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(4);n(24)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){"use strict";var r=n(4);n(24)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){"use strict";var r=n(4);n(24)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{is:n(141)})},function(e,t,n){"use strict";var r=n(9),i=n(36);n(24)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(4),i=n(30).onFreeze;n(24)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";var r=n(4),i=n(30).onFreeze;n(24)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{setPrototypeOf:n(78).set})},function(e,t,n){"use strict";var r=n(46),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){"use strict";var r=n(0),i=n(113);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(0),i=n(114);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){"use strict";var r,i,o,a,s=n(33),u=n(2),l=n(19),c=n(46),f=n(0),d=n(4),h=n(10),p=n(31),v=n(32),g=n(61),y=n(84).set,m=n(76)(),b=n(77),E=n(115),_=n(116),w=u.TypeError,k=u.process,T=u.Promise,S="process"==c(k),O=function(){},L=i=b.f,P=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(O,O)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&I(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===t.promise?u(w("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){y.call(u,function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=E(function(){S?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=S||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(e){y.call(u,function(){var t;S?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},D=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(n=A(t))?m(function(){var i={_w:r,_d:!1};try{n.call(t,l(e,i,1),l(x,i,1))}catch(e){x.call(i,e)}}):(r._v=t,r._s=1,R(r,!1))}catch(e){x.call({_w:r,_d:!1},e)}}};P||(T=function(e){p(this,T,"Promise","_h"),h(e),r.call(this);try{e(l(D,this,1),l(x,this,1))}catch(e){x.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(38)(T.prototype,{then:function(e,t){var n=L(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(D,e,1),this.reject=l(x,e,1)},b.f=L=function(e){return e===T||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!P,{Promise:T}),n(43)(T,"Promise"),n(39)("Promise"),a=n(22).Promise,f(f.S+f.F*!P,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(e){return _(s&&this===a?T:this,e)}}),f(f.S+f.F*!(P&&n(55)(function(e){T.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=L(t),r=n.resolve,i=n.reject,o=E(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=L(t),r=n.reject,i=E(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){"use strict";var r=n(0),i=n(34),o=n(10),a=n(1),s=n(4),u=n(3),l=n(94),c=(n(2).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,h=i(s(u)?u:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},function(e,t,n){"use strict";var r=n(7),i=n(0),o=n(1),a=n(26);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(15).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(72)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){"use strict";var r=n(15),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){"use strict";function r(e,t){var n,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:u(s=o(e))?r(s,t,c):void 0}var i=n(15),o=n(16),a=n(11),s=n(0),u=n(4),l=n(1);s(s.S,"Reflect",{get:r})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Reflect",{ownKeys:n(112)})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(78);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";function r(e,t,n){var u,d,h=arguments.length<4?e:arguments[3],p=o.f(c(e),t);if(!p){if(f(d=a(e)))return r(d,t,n,h);p=l(0)}return s(p,"value")?!(!1===p.writable||!f(h))&&(u=o.f(h,t)||l(0),u.value=n,i.f(h,t,u),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var i=n(7),o=n(15),a=n(16),s=n(11),u=n(0),l=n(37),c=n(1),f=n(4);u(u.S,"Reflect",{set:r})},function(e,t,n){"use strict";var r=n(2),i=n(70),o=n(7).f,a=n(35).f,s=n(54),u=n(52),l=r.RegExp,c=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(6)&&(!p||n(3)(function(){return h[n(5)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(p?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:f,l)};for(var v=a(c),g=0;v.length>g;)!function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(v[g++]);f.constructor=l,l.prototype=f,n(13)(r,"RegExp",l)}n(39)("RegExp")},function(e,t,n){"use strict";n(51)("match",1,function(e,t,n){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";n(51)("replace",2,function(e,t,n){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){"use strict";n(51)("search",1,function(e,t,n){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";n(51)("split",2,function(e,t,r){var i=n(54),o=r,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var u=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,l,c,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,p+"g");for(u||(r=new RegExp("^"+y.source+"$(?!\\s)",p));(l=y.exec(n))&&!((c=l.index+l[0][s])>v&&(h.push(n.slice(v,l.index)),!u&&l[s]>1&&l[0].replace(r,function(){for(d=1;d<arguments[s]-2;d++)void 0===arguments[d]&&(l[d]=void 0)}),l[s]>1&&l.index<n[s]&&a.apply(h,l.slice(1)),f=l[0][s],v=c,h[s]>=g));)y.lastIndex===l.index&&y.lastIndex++;return v===n[s]?!f&&y.test("")||h.push(""):h.push(n.slice(v)),h[s]>g?h.slice(0,g):h}}else"0".split(void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";n(121);var r=n(1),i=n(52),o=n(6),a=/./.toString,s=function(e){n(13)(RegExp.prototype,"toString",e,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){"use strict";n(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(14)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(14)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(14)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";var r=n(0),i=n(80)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(81),a="".endsWith;r(r.P+r.F*n(68)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";n(14)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";var r=n(0),i=n(40),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(0),i=n(81);r(r.P+r.F*n(68)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(14)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";var r=n(80)(!0);n(73)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(0),i=n(17),o=n(8);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";var r=n(0);r(r.P,"String",{repeat:n(82)})},function(e,t,n){"use strict";n(14)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(81),a="".startsWith;r(r.P+r.F*n(68)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(14)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(14)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(14)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(44)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),o=n(11),a=n(6),s=n(0),u=n(13),l=n(30).KEY,c=n(3),f=n(60),d=n(43),h=n(41),p=n(5),v=n(119),g=n(87),y=n(139),m=n(53),b=n(1),E=n(4),_=n(17),w=n(26),k=n(37),T=n(34),S=n(109),O=n(15),L=n(7),P=n(36),A=O.f,R=L.f,C=S.f,M=i.Symbol,I=i.JSON,x=I&&I.stringify,D=p("_hidden"),F=p("toPrimitive"),N={}.propertyIsEnumerable,j=f("symbol-registry"),B=f("symbols"),U=f("op-symbols"),G=Object.prototype,H="function"==typeof M,W=i.QObject,V=!W||!W.prototype||!W.prototype.findChild,q=a&&c(function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(G,t);r&&delete G[t],R(e,t,n),r&&e!==G&&R(G,t,r)}:R,K=function(e){var t=B[e]=T(M.prototype);return t._k=e,t},z=H&&"symbol"==r(M.iterator)?function(e){return"symbol"==(void 0===e?"undefined":r(e))}:function(e){return e instanceof M},X=function(e,t,n){return e===G&&X(U,t,n),b(e),t=w(t,!0),b(n),o(B,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=T(n,{enumerable:k(0,!1)})):(o(e,D)||R(e,D,k(1,{})),e[D][t]=!0),q(e,t,n)):R(e,t,n)},Y=function(e,t){b(e);for(var n,r=y(t=_(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},Q=function(e,t){return void 0===t?T(e):Y(T(e),t)},Z=function(e){var t=N.call(this,e=w(e,!0));return!(this===G&&o(B,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,D)&&this[D][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==G||!o(B,t)||o(U,t)){var n=A(e,t);return!n||!o(B,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=C(_(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==D||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===G,r=C(n?U:_(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(G,t)||i.push(B[t]);return i};H||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function t(n){this===G&&t.call(U,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),q(this,e,k(1,n))};return a&&V&&q(G,e,{configurable:!0,set:t}),K(e)},u(M.prototype,"toString",function(){return this._k}),O.f=J,L.f=X,n(35).f=S.f=$,n(48).f=Z,n(57).f=ee,a&&!n(33)&&u(G,"propertyIsEnumerable",Z,!0),v.f=function(e){return K(p(e))}),s(s.G+s.W+s.F*!H,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=P(p.store),ie=0;re.length>ie;)g(re[ie++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=M(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!H,"Object",{create:Q,defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),I&&s(s.S+s.F*(!H||c(function(){var e=M();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(E(t)||void 0!==e)&&!z(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,x.apply(I,r)}}),M.prototype[F]||n(12)(M.prototype,F,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){"use strict";var r=n(0),i=n(62),o=n(85),a=n(1),s=n(40),u=n(8),l=n(4),c=n(2).ArrayBuffer,f=n(61),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&c.isView,v=d.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||l(e)&&g in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),l=new h(this),c=new h(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(39)("ArrayBuffer")},function(e,t,n){"use strict";var r=n(0);r(r.G+r.W+r.F*!n(62).ABV,{DataView:n(85).DataView})},function(e,t,n){"use strict";n(28)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(28)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){"use strict";var r=n(97),i=n(45);n(50)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(98),o=n(9),a=n(8),s=n(10),u=n(64);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(29)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(98),o=n(9),a=n(8),s=n(25),u=n(64);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(29)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(49)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(76)(),o=n(2).process,a="process"==n(18)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),i=n(18);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){"use strict";n(58)("Map")},function(e,t,n){"use strict";n(59)("Map")},function(e,t,n){"use strict";var r=n(0);r(r.P+r.R,"Map",{toJSON:n(96)("Map")})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){"use strict";var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){"use strict";var r=n(0),i=n(106),o=n(104);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){"use strict";var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{scale:n(106)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(56),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(56),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(111)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(112),o=n(17),a=n(15),s=n(65);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,t=l[f++]))&&s(c,t,n);return c}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(26),a=n(16),s=n(15).f;n(6)&&r(r.P+n(56),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(26),a=n(16),s=n(15).f;n(6)&&r(r.P+n(56),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(111)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(22),a=n(76)(),s=n(5)("observable"),u=n(10),l=n(1),c=n(31),f=n(38),d=n(12),h=n(32),p=h.RETURN,v=function(e){return null==e?void 0:u(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},m=function(e){y(e)||(e._o=void 0,g(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new E(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}y(this)&&g(this)};b.prototype=f({},{unsubscribe:function(){m(this)}});var E=function(e){this._s=e};E.prototype=f({},{next:function(e){var t=this._s;if(!y(t)){var n=t._o;try{var r=v(n.next);if(r)return r.call(n,e)}catch(e){try{m(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var n=t._o;t._o=void 0;try{var r=v(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!y(t)){var n=t._o;t._o=void 0;try{var r=v(n.complete);e=r?r.call(n,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var _=function(e){c(this,_,"Observable","_f")._f=u(e)};f(_.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(_,{from:function(e){var t="function"==typeof this?this:_,n=v(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:_)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(_.prototype,s,function(){return this}),r(r.G,{Observable:_}),n(39)("Observable")},function(e,t,n){"use strict";var r=n(0),i=n(22),o=n(2),a=n(61),s=n(116);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(77),o=n(115);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){"use strict";var r=n(122),i=n(92),o=n(27),a=n(1),s=n(16),u=o.keys,l=o.key,c=function e(t,n){var o=u(t,n),a=s(t);if(null===a)return o;var l=e(a,n);return l.length?o.length?i(new r(o.concat(l))):l:o};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(16),a=r.has,s=r.get,u=r.key,l=function e(t,n,r){if(a(t,n,r))return s(t,n,r);var i=o(n);return null!==i?e(t,i,r):void 0};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(16),a=r.has,s=r.key,u=function e(t,n,r){if(a(t,n,r))return!0;var i=o(n);return null!==i&&e(t,i,r)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(10),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){"use strict";n(58)("Set")},function(e,t,n){"use strict";n(59)("Set")},function(e,t,n){"use strict";var r=n(0);r(r.P+r.R,"Set",{toJSON:n(96)("Set")})},function(e,t,n){"use strict";var r=n(0),i=n(80)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(23),o=n(8),a=n(54),s=n(52),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(72)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){"use strict";var r=n(0),i=n(117),o=n(86);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(117),o=n(86);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";n(44)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(44)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";n(87)("asyncIterator")},function(e,t,n){"use strict";n(87)("observable")},function(e,t,n){"use strict";var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){"use strict";n(58)("WeakMap")},function(e,t,n){"use strict";n(59)("WeakMap")},function(e,t,n){"use strict";n(58)("WeakSet")},function(e,t,n){"use strict";n(59)("WeakSet")},function(e,t,n){"use strict";for(var r=n(89),i=n(36),o=n(13),a=n(2),s=n(12),u=n(42),l=n(5),c=l("iterator"),f=l("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,y=p[v],m=h[y],b=a[y],E=b&&b.prototype;if(E&&(E[c]||s(E,c,d),E[f]||s(E,f,y),u[y]=d,m))for(g in r)E[g]||o(E,g,r[g],!0)}},function(e,t,n){"use strict";var r=n(0),i=n(84);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(86),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){"use strict";n(262),n(201),n(203),n(202),n(205),n(207),n(212),n(206),n(204),n(214),n(213),n(209),n(210),n(208),n(200),n(211),n(215),n(216),n(168),n(170),n(169),n(218),n(217),n(188),n(198),n(199),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(249),n(254),n(261),n(252),n(244),n(245),n(250),n(255),n(257),n(240),n(241),n(242),n(243),n(246),n(247),n(248),n(251),n(253),n(256),n(258),n(259),n(260),n(163),n(165),n(164),n(167),n(166),n(152),n(150),n(156),n(153),n(159),n(161),n(149),n(155),n(146),n(160),n(144),n(158),n(157),n(151),n(154),n(143),n(145),n(148),n(147),n(162),n(89),n(234),n(239),n(121),n(235),n(236),n(237),n(238),n(219),n(120),n(122),n(123),n(274),n(263),n(264),n(269),n(272),n(273),n(267),n(270),n(268),n(271),n(265),n(266),n(220),n(221),n(222),n(223),n(224),n(227),n(225),n(226),n(228),n(229),n(230),n(231),n(233),n(232),n(277),n(275),n(276),n(318),n(321),n(320),n(322),n(323),n(319),n(324),n(325),n(299),n(302),n(298),n(296),n(297),n(300),n(301),n(283),n(317),n(282),n(316),n(328),n(330),n(281),n(315),n(327),n(329),n(280),n(326),n(279),n(284),n(285),n(286),n(287),n(288),n(290),n(289),n(291),n(292),n(293),n(295),n(294),n(304),n(305),n(306),n(307),n(309),n(308),n(311),n(310),n(312),n(313),n(314),n(278),n(303),n(333),n(332),n(331),e.exports=n(22)},function(e,t,n){"use strict";(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function r(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function a(){}function s(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(t){function r(e,o,a,s){var u=i(t[e],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===(void 0===c?"undefined":n(c))&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):Promise.resolve(c).then(function(e){l.value=e,a(l)},s)}s(u.arg)}function o(e,t){function n(){return new Promise(function(n,i){r(e,t,n,i)})}return a=a?a.then(n,n):n()}"object"===n(e.process)&&e.process.domain&&(r=e.process.domain.bind(r));var a;this._invoke=o}function c(e,t,n){var r=O;return function(o,a){if(r===P)throw new Error("Generator is already running");if(r===A){if("throw"===o)throw a;return g()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=f(s,n);if(u){if(u===R)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===O)throw r=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=P;var l=i(e,t,n);if("normal"===l.type){if(r=n.done?A:L,l.arg===R)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=A,n.method="throw",n.arg=l.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,f(e,t),"throw"===t.method))return R;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,R;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,R):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,R)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function v(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:y,done:!0}}var y,m=Object.prototype,b=m.hasOwnProperty,E="function"==typeof Symbol?Symbol:{},_=E.iterator||"@@iterator",w=E.asyncIterator||"@@asyncIterator",k=E.toStringTag||"@@toStringTag",T="object"===n(t),S=e.regeneratorRuntime;if(S)return void(T&&(t.exports=S));S=e.regeneratorRuntime=T?t.exports:{},S.wrap=r;var O="suspendedStart",L="suspendedYield",P="executing",A="completed",R={},C={};C[_]=function(){return this};var M=Object.getPrototypeOf,I=M&&M(M(v([])));I&&I!==m&&b.call(I,_)&&(C=I);var x=s.prototype=o.prototype=Object.create(C);a.prototype=x.constructor=s,s.constructor=a,s[k]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(x),e},S.awrap=function(e){return{__await:e}},u(l.prototype),l.prototype[w]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,n,i){var o=new l(r(e,t,n,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},u(x),x[k]="Generator",x[_]=function(){return this},x.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=b.call(i,"catchLoc"),s=b.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,R):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),R}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),R}}}("object"===(void 0===e?"undefined":n(e))?e:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)}).call(t,n(124),n(336)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,a=n(126),s=r(a),u=n(127),l=r(u),c=n(129),f=r(c),d=n(130),h=r(d),p=n(132),v=r(p),g=n(128),y=r(g),m=n(131),b=r(m),E=n(133),_=r(E);n(134);var w=n(338),k=r(w);s.default.targetVersion=k.default.name+" "+k.default.version,s.default.builtIn=(o={},i(o,l.default.pluginName,{}),i(o,f.default.pluginName,{}),i(o,h.default.pluginName,{}),i(o,v.default.pluginName,{}),i(o,y.default.pluginName,{}),i(o,b.default.pluginName,{}),i(o,_.default.pluginName,{}),o),s.default.Configuration.overwrite(s.default.builtIn)},function(e,t){e.exports={name:"@npm-wearetriple/meister-target-bnr",version:"1.0.1",description:"Target for BNR",main:"meister.bundled",scripts:{test:'echo "Error: no test specified" && exit 1',"generate-docs":"meister-doc-builder",start:"gulp server",build:"gulp build",dist:"gulp build:dist",min:"gulp build:min",jsdocs:"gulp js-docs",bump:"gulp bump-version",changelog:"gulp changelog"},keywords:["meister","video","plugin","development"],author:"Triple",license:"Apache-2.0",devDependencies:{"babel-preset-es2015":"^6.24.0","babel-preset-es2017":"^6.22.0",gulp:"^3.9.1","meister-doc-builder":"^5.0.0","meister-gulp-browsersync-task":"^1.0.1","meister-gulp-webpack-tasks":"1.0.6","meister-js-dev":"^3.1.0"},dependencies:{"babel-polyfill":"^6.26.0","@meisterplayer/meisterplayer":"^5.2.2","@meisterplayer/plugin-basemedia":"^5.2.0","@meisterplayer/plugin-hls":"^5.4.0","@meisterplayer/plugin-html5player":"^5.5.1","@meisterplayer/plugin-htmlui":"^5.3.5","@meisterplayer/plugin-multisource":"^5.2.0","@meisterplayer/plugin-nativehls":"^5.5.1","@npm-wearetriple/meister-plugin-googleanalytics":"^5.3.0"}}},function(e,t,n){e.exports=n(125)}]);